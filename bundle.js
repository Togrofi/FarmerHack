(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
// ---Project Dropdown Menu--- //
var DropdownCollector = document.getElementsByClassName("Projcet-DropDownButton")
for (let i = 0; i < DropdownCollector.length; i++){
    DropdownCollector[i].addEventListener("click", function() {
        this.classList.toggle("Project-ActiveDropDownButton")
        var panel = this.nextElementSibling;
        var image = this.childNodes[5].childNodes[3].childNodes[1]
        if (panel.style.maxHeight) {
            panel.style.maxHeight = null;
            image.src = "images/pictures/dropdown/DdpDownOrange.png"
        } else {
            panel.style.maxHeight = panel.scrollHeight + "px";
            image.src = "images/pictures/dropdown/DdpUpLight.png"
        }
    })
}

// ---Sticky NavBar--- //
// Get the navbar
var NavBar = document.getElementById("NavBar-Section");

// there should only be 1 main section
var MainSection = document.getElementsByClassName("Main-Section")[0];



// Get the offset position of the navbar
var PosStickyStart = NavBar.offsetTop;

// Add the sticky class to the navbar when you reach its scroll position. Remove "sticky" when you leave the scroll position
function myFunction() {
    if (window.pageYOffset >= PosStickyStart) {
    NavBar.classList.add("NavBar-StickyNavBar");
    MainSection.style.marginTop = "var(--NavBarHeight)";
    } else {
    NavBar.classList.remove("NavBar-StickyNavBar");
    MainSection.style.marginTop = "0cm";
    }
}
  
// When the user scrolls the page, execute myFunction
window.onscroll = function() {myFunction()};



// // Get the navbar
// var NavBar = document.getElementsByClassName("NavBar-Section");

// // Get the offset position of the navbar
// var PosStickyStart = NavBar.offsetTop;

// Add the sticky class to the navbar when you reach its scroll position. Remove "sticky" when you leave the scroll position
function myFunction() {
  if (window.pageYOffset >= PosStickyStart) {
    NavBar.classList.add("NavBar-StickyNavBar");
    MainSection.style.marginTop = "var(--NavBarHeight)";
  } else {
    NavBar.classList.remove("NavBar-StickyNavBar");
    MainSection.style.marginTop = "0cm";
  }
}
// When the user scrolls the page, execute myFunction
window.onscroll = function() {myFunction()};

// TL: New Tempinput
var tempinput = [[[6,6,6],[6,5,6],[6,6,6]],[[6,6,6],[6,3,6],[6,6,6]],[[6,6,6],[6,2,6],[6,6,6]],[[6,6,6],[6,1,6],[6,6,6]],[[6,6,6],[6,0,6],[6,6,6]],[[6,6,6],[6,4,6],[6,6,6]]]
// 


// var tempinput = [[[0,5,0],[0,5,0],[0,5,0]],[[0,3,0],[0,3,0],[0,3,0]],[[0,2,0],[0,2,0],[0,2,0]],[[0,1,0],[0,1,0],[0,1,0]],[[0,0,0],[0,0,0],[0,0,0]],[[0,4,0],[0,4,0],[0,4,0]]]
var outflag = false
var GICollector = document.getElementsByClassName("Grid-Item");
var solverbutton = document.getElementById("Solver-Button-Wrapper");

solverbutton.style.display = "none";

for (let i = 0; i < GICollector.length; i++){ 
  GICollector[i].addEventListener("click", function() {
    
      let out = change(i)
      changeinput(out[0],out[1],out[2],1)
      currcol = tempinput[out[0]][out[1]][out[2]]

      //r, o, b, g, w, y
      if (currcol==6){
        this.style.backgroundColor = "grey"
      } else if (currcol==0) {
        this.style.backgroundColor = "red"
      } else if (currcol==1) {
        this.style.backgroundColor = "blue"
      } else if (currcol==2) {
        this.style.backgroundColor = "green"
      } else if (currcol==3) {
        this.style.backgroundColor = "orange"
      } else if (currcol==4) {
        this.style.backgroundColor = "yellow"
      } else if (currcol==5) {
        this.style.backgroundColor = "var(--LightOffWhite)"
      }

      checkinput()
      if (outflag == true){
        solverbutton.style.display = "block"
      } else {
        solverbutton.style.display = "block"
      }
  })
}

function change(n){
  face = Math.floor(n/9)
  blocknum = n%9
  x = Math.floor(blocknum/3)
  y = blocknum%3
  return [face, x, y]
} 

function changeinput(face, x, y, colchange){
  if (!(x==1 && y==1)){
    let color = tempinput[face][x][y]
    if (color == 6){
      tempinput[face][x][y] = 0
    } else {
      tempinput[face][x][y] = (tempinput[face][x][y]+colchange)%6
    } 
  }
}

function checkinput()
{
  for (let j = 0; j < GICollector.length; j++) {
    out = change(j)
    val = 0
    if (tempinput[out[0]][out[1]][out[2]]==6) {
      val +=1
    }
    if (val != 0){
      outflag = false
    } else {
      outflag = true
    }
  }
}

// get modal
var modal = document.getElementById("Modal");

//var btn = document.getElementById("Solver-Button-Wrapper");

var span = document.getElementsByClassName("close")[0];

// ---------------------------------------|
var solveMovesArray = [];

function SolvesCube()
{
  const solver = require('rubiks-cube-solver');
  let cubeState = tempinput.join('').split(",").join("");
  cubeState = cubeState.replace(/0/g,'l').replace(/1/g,'d').replace(/2/g,'u').replace(/3/g,'r').replace(/4/g,'b').replace(/5/g,'f');
  console.log(cubeState);

  /*cubeState = [
    'flulfbddr', // front
    'rudrruddl', // right
    'dbbburrfb', // up
    'llffdrubf', // down
    'rludlubrf', // left
    'lubfbfudl' // back
  ].join('');*/

  // Temp
  cubeState = "ffdffdffdrrrrrrrrruufuufuufddbddbddblllllllllubbubbubb";
  // 

  let solveMoves = solver(cubeState).replace(/prime/g, '-');
  for (let i = 0; i < solveMoves.length; i++) 
  {
    if (solveMoves[i] == '2') 
    {
      solveMoves = solveMoves.substring(0, i) + " " + solveMoves[i-1] + solveMoves.substring(i+1);
    }
  }
  solveMovesArray = solveMoves.split(' ')
  console.log(solveMovesArray);
}

solverbutton.onclick = function() 
{
  SolvesCube()
  ShowStep(currstep)
  modal.style.display = "block";
}

span.onclick = function() {
  modal.style.display = "none";
}

window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}

//var solution = ["R","U","B","D"]

// display
var currstep = 1


function StepUp(n){
  ShowStep(currstep+=n)
}

//ffdffdffdrrrrrrrrruufuufuufddbddbddblllllllllubbubbubb

// function plusSlides(n) {
//   ShowStep(slideIndex += n);
// }

function ShowStep(i) {
  let len = solveMovesArray.length

  var MGCollector = document.getElementsByClassName("Modal-Grid-Items");
  var MLeft = document.getElementById("mleft");
  var MRight = document.getElementById("mright");
  var MDisplay = document.getElementById("action");
  var MBgc = document.getElementById("mbgc");
  var text = document.getElementById("text");

  // Format i
  if (i>=len){currstep=len; i=len;MRight.style.opacity=0}
  else if (i<=1){currstep=1; i=1;MLeft.style.opacity=0}
  else {MRight.style.opacity=1; MLeft.style.opacity=1}
  var MCode = solveMovesArray[i-1]


  // steps
  text.textContent = currstep + "/" + len;
  MDisplay.textContent = MCode;
  for (j=0;j<MGCollector.length;j++){
    MGCollector[j].textContent ="";
  }

  if(i==1) {
    MBgc.style.backgroundColor="var(--LightOffWhite)";
    MGCollector[12].textContent = "W";
  }
  else {
    MBgc.style.backgroundColor="lightgray";
  }

  // cursed bit
  if (MCode === "R") {
    MGCollector[4].textContent = "0";
    MGCollector[8].textContent = "↑";
    MGCollector[13].textContent = "↑";
    MGCollector[18].textContent = "↑";
  } else if (MCode === "R-") {
    MGCollector[4].textContent = "0";
    MGCollector[8].textContent = "↓";
    MGCollector[13].textContent = "↓";
    MGCollector[18].textContent = "↓";
  } else if (MCode === "M") {
    MGCollector[4].textContent = "0";
    MGCollector[7].textContent = "↑";
    MGCollector[12].textContent = "↑";
    MGCollector[17].textContent = "↑";
  } else if (MCode === "M-") {
    MGCollector[4].textContent = "0";
    MGCollector[7].textContent = "↓";
    MGCollector[12].textContent = "↓";
    MGCollector[17].textContent = "↓";
  } else if (MCode === "L") {
    MGCollector[4].textContent = "0";
    MGCollector[6].textContent = "↓";
    MGCollector[11].textContent = "↓";
    MGCollector[16].textContent = "↓";
  } else if (MCode === "L-") {
    MGCollector[4].textContent = "0";
    MGCollector[6].textContent = "↑";
    MGCollector[11].textContent = "↑";
    MGCollector[16].textContent = "↑";
  }
  if (MCode === "F")
  {
    MGCollector[4].textContent = "0";
    MGCollector[7].textContent = "→";
    MGCollector[11].textContent = "↑";
    MGCollector[13].textContent = "↓";
    MGCollector[17].textContent = "←";
  }
  if (MCode === "F-")
  {
    MGCollector[4].textContent = "0";
    MGCollector[17].textContent = "→";
    MGCollector[13].textContent = "↑";
    MGCollector[11].textContent = "↓";
    MGCollector[7].textContent = "←";
  }

  if (MCode === "U")
  {
    MGCollector[4].textContent = "0";
    MGCollector[6].textContent = "←";
    MGCollector[7].textContent = "←";
    MGCollector[8].textContent = "←";
  }
  if (MCode === "U-")
  {
    MGCollector[4].textContent = "0";
    MGCollector[6].textContent = "→";
    MGCollector[7].textContent = "→";
    MGCollector[8].textContent = "→";
  }
  if (MCode === "D")
  {
    MGCollector[4].textContent = "0";
    MGCollector[16].textContent = "→";
    MGCollector[17].textContent = "→";
    MGCollector[18].textContent = "→";
  }

  if (MCode === "D-") {
    MGCollector[4].textContent = "0";
    MGCollector[16].textContent = "←";
    MGCollector[17].textContent = "←";
    MGCollector[18].textContent = "←";
  }

  if (MCode === "E")
  {
    MGCollector[4].textContent = "0";
    MGCollector[11].textContent = "→";
    MGCollector[12].textContent = "→";
    MGCollector[13].textContent = "→";
  }

  if (MCode === "E-") {
    MGCollector[4].textContent = "0";
    MGCollector[11].textContent = "←";
    MGCollector[12].textContent = "←";
    MGCollector[13].textContent = "←";
  }

  if (MCode === "B")
  {
    MGCollector[4].textContent = "2";
    MGCollector[1].textContent = "←";
    MGCollector[2].textContent = "←";
    MGCollector[3].textContent = "←";
    MGCollector[5].textContent = "↓";
    MGCollector[9].textContent = "↑";
    MGCollector[10].textContent = "↓";
    MGCollector[14].textContent = "↑";
    MGCollector[15].textContent = "↓";
    MGCollector[19].textContent = "↑";
  }

  if (MCode === "B-")
  {
    MGCollector[4].textContent = "2";
    MGCollector[1].textContent = "→";
    MGCollector[2].textContent = "→";
    MGCollector[3].textContent = "→";
    MGCollector[9].textContent = "↓";
    MGCollector[5].textContent = "↑";
    MGCollector[14].textContent = "↓";
    MGCollector[10].textContent = "↑";
    MGCollector[19].textContent = "↓";
    MGCollector[15].textContent = "↑";
  }
  if (MCode === "S")
  {
    MGCollector[4].textContent = "1";
    MGCollector[1].textContent = "→";
    MGCollector[2].textContent = "→";
    MGCollector[3].textContent = "→";
    MGCollector[9].textContent = "↓";
    MGCollector[5].textContent = "↑";
    MGCollector[14].textContent = "↓";
    MGCollector[10].textContent = "↑";
    MGCollector[19].textContent = "↓";
    MGCollector[15].textContent = "↑";
  }
  if (MCode === "S-")
  {
    MGCollector[4].textContent = "1";
    MGCollector[1].textContent = "←";
    MGCollector[2].textContent = "←";
    MGCollector[3].textContent = "←";
    MGCollector[5].textContent = "↓";
    MGCollector[9].textContent = "↑";
    MGCollector[10].textContent = "↓";
    MGCollector[14].textContent = "↑";
    MGCollector[15].textContent = "↓";
    MGCollector[19].textContent = "↑";
  }

}
},{"rubiks-cube-solver":2}],2:[function(require,module,exports){
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.rubiksCubeSolver=r():e.rubiksCubeSolver=r()}(this,function(){return function(e){function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}var t={};return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=34)}([function(e,r,t){"use strict";function o(e){var r={};return Object.keys(e).forEach(function(t){r[t.toLowerCase()]=e[t].toLowerCase()}),r}function n(e,r){var t=Object.keys(e);if(t.length<=1&&["front","back"].includes(t[0]))throw new Error('Orientation object "'+e+'" is ambiguous. Please specify one of these faces: "up", "right", "down", "left"');var o=e;return e={},t.forEach(function(r){["front","back"].includes(r)||(e[r]=o[r])}),e.front=r.toLowerCase(),e}function i(e){if(Object.keys(e)<=1)throw new Error('Orientation object "'+e+'" is ambiguous. Please specify 2 faces.');var r=Object.keys(e),t=r.map(function(r){return new l.Face(e[r])}),o=r.map(function(e){return new l.Face(e)}),n=f.Vector.getRotationFromNormals(t[0].normal(),t[0].orientTo(o[0]).normal());t[1].rotate(n.axis,n.angle);var i=f.Vector.getRotationFromNormals(t[1].normal(),t[1].orientTo(o[1]).normal());if(Math.abs(i.angle)===Math.PI){var a=new l.Face(r[0]).vector.getAxis();i.axis=a}return[n,i]}function a(e,r){var t=!0,o=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value,c=!0,s=!1,l=void 0;try{for(var f,v=r[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){var m=f.value;u.rotate(m.axis,m.angle)}}catch(e){s=!0,l=e}finally{try{!c&&v.return&&v.return()}finally{if(s)throw l}}}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}function u(e){var r=[],t=!0,o=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value;u=u.includes("prime")?u[0]:u[0]+"prime",r.push(u)}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return"string"==typeof moves?r.join(" "):r}Object.defineProperty(r,"__esModule",{value:!0}),r.orientMoves=r.getRotationFromTo=r.getFaceFromDirection=r.getDirectionFromFaces=r.normalizeNotations=r.transformNotations=r.getFaceMatchingMiddle=r.getMiddleMatchingFace=r.getMoveOfFace=r.getFaceOfMove=void 0;var c=t(7),s=function(e){return e&&e.__esModule?e:{default:e}}(c),l=t(10),f=t(4),v={f:"s",r:"mprime",u:"eprime",d:"e",l:"m",b:"sprime"},m=r.getFaceOfMove=function(e){if("string"!=typeof e)throw new TypeError("move must be a string");var r=e[0].toLowerCase();return"f"===r?"front":"r"===r?"right":"u"===r?"up":"d"===r?"down":"l"===r?"left":"b"===r?"back":void 0},h=r.getMoveOfFace=function(e){if("string"!=typeof e)throw new TypeError("face must be a string");if(e=e.toLowerCase(),!["front","right","up","down","left","back"].includes(e))throw new Error(e+" is not valid face");return e[0]},p=r.getMiddleMatchingFace=function(e){return e=e.toLowerCase()[0],v[e]},g=r.getFaceMatchingMiddle=function(e){e=e.toLowerCase();var r=!0,t=!1,o=void 0;try{for(var n,i=Object.keys(v)[Symbol.iterator]();!(r=(n=i.next()).done);r=!0){var a=n.value;if(e===v[a])return a}}catch(e){t=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(t)throw o}}},d=r.transformNotations=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=y(e);return r.upperCase&&(t=t.map(function(e){return e[0].toUpperCase()+e.slice(1)})),r.orientation&&(t=w(t,r.orientation)),r.reverse&&(t=u(t)),"string"==typeof e?t.join(" "):t},y=r.normalizeNotations=function(e){return"string"==typeof e&&(e=e.split(" ")),e=e.filter(function(e){return""!==e}),e.map(function(e){var r=e.toLowerCase().includes("prime"),t=e.includes("2");return e=e[0],t?e=e[0]+"2":r&&(e+="prime"),e})},P=r.getDirectionFromFaces=function(e,r,t){t=o(t),t=n(t,e);var u=new l.Face(e),c=new l.Face(r);a([u,c],i(t));var v=new f.Vector((0,s.default)([],u.normal(),c.normal())).getAxis(),m=f.Vector.getAngle(u.normal(),c.normal());return"x"===v&&m>0?"down":"x"===v&&m<0?"up":"y"===v&&m>0?"right":"y"===v&&m<0?"left":0===m?"front":m===Math.PI?"back":void 0},b=r.getFaceFromDirection=function(e,r,t){t=o(t),t=n(t,e);var u=new l.Face(e),c=i(t);a([u],c);var s=new l.Face(r),v=f.Vector.getRotationFromNormals(u.normal(),s.normal()),m=v.axis,h=v.angle;return u.rotate(m,h),a([u],c.map(function(e){return f.Vector.reverseRotation(e)}).reverse()),u.toString()},F=r.getRotationFromTo=function(e,r,t){var o=new l.Face(e),n=new l.Face(r),i=new l.Face(t),a=o.vector.getAxis(),u=[n.vector.getAxis(),i.vector.getAxis()],c=u[0],s=u[1];if([c.toLowerCase(),s.toLowerCase()].includes(a.toLowerCase()))throw new Error("moving "+o+" from "+n+" to "+i+" is not possible.");var v=h(e).toUpperCase(),m=f.Vector.getAngle(n.normal(),i.normal());return o.vector.getMagnitude()<0&&(m*=-1),0===m?"":Math.abs(m)===Math.PI?v+" "+v:m<0?""+v:m>0?v+"Prime":void 0},w=r.orientMoves=function(e,r){r=o(r);var t=i(r);return t.reverse().map(function(e){return f.Vector.reverseRotation(e)}),e.map(function(e){var r=e.toLowerCase().includes("prime"),o=e.includes("2"),n=e[0]===e[0].toLowerCase(),i=["m","e","s"].includes(e[0].toLowerCase());o&&(e=e.replace("2",""));var u=void 0;if(i){var c=m(g(e));u=new l.Face(c)}else{var s=m(e[0]);u=new l.Face(s)}a([u],t);var f=void 0;return f=i?p(u.toString()):u.toString()[0],n||(f=f.toUpperCase()),o&&(f+="2"),r&&!i&&(f+="prime"),f})};r.default={getFaceOfMove:m,getMoveOfFace:h,getMiddleMatchingFace:p,getFaceMatchingMiddle:g,transformNotations:d,normalizeNotations:y,getDirectionFromFaces:P,getRotationFromTo:F,getFaceFromDirection:b,orientMoves:w}},function(e,r,t){"use strict";function o(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.RubiksCube=void 0;var i=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),a=t(9),u=t(3),c=t(0),s="fffffffffrrrrrrrrruuuuuuuuudddddddddlllllllllbbbbbbbbb",l=function(){function e(r){if(n(this,e),54!==r.length)throw new Error("Wrong number of colors provided");this._notationToRotation={f:{axis:"z",mag:-1},r:{axis:"x",mag:-1},u:{axis:"y",mag:-1},d:{axis:"y",mag:1},l:{axis:"x",mag:1},b:{axis:"z",mag:1},m:{axis:"x",mag:1},e:{axis:"y",mag:1},s:{axis:"z",mag:-1}},this._build(r)}return i(e,null,[{key:"Solved",value:function(){return new e(s)}},{key:"FromMoves",value:function(r){var t=e.Solved();return t.move(r),t}},{key:"Scrambled",value:function(){var r=e.Solved(),t=e.getRandomMoves(25);return r.move(t),r}},{key:"reverseMoves",value:function(r){return e.transformMoves(r,{reverse:!0})}},{key:"transformMoves",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.transformNotations)(e,r)}},{key:"getRandomMoves",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25,r=[],t=["F","Fprime","R","Rprime","U","Uprime","D","Dprime","L","Lprime","B","Bprime"];r.length<e;){for(var o=0;o<e-r.length;o++){var n=~~(Math.random()*t.length);r.push(t[n])}r=(0,u.algorithmShortener)(r).split(" ")}return r.join(" ")}}]),i(e,[{key:"getFace",value:function(e){if("string"!=typeof e)throw new Error('"face" must be a string (received: '+e+")");e=e.toLowerCase()[0];var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0;if("f"===e)r="Y",t="X",o=-1,n=1,i=this._cubies.filter(function(e){return 1===e.getZ()});else if("r"===e)r="Y",t="Z",o=-1,n=-1,i=this._cubies.filter(function(e){return 1===e.getX()});else if("u"===e)r="Z",t="X",o=1,n=1,i=this._cubies.filter(function(e){return 1===e.getY()});else if("d"===e)r="Z",t="X",o=-1,n=1,i=this._cubies.filter(function(e){return-1===e.getY()});else if("l"===e)r="Y",t="Z",o=-1,n=1,i=this._cubies.filter(function(e){return-1===e.getX()});else if("b"===e)r="Y",t="X",o=-1,n=-1,i=this._cubies.filter(function(e){return-1===e.getZ()});else if(["m","e","s"].includes(e))return this._getMiddleCubiesForMove(e);return i.sort(function(e,i){var a=e["get"+r]()*o,u=e["get"+t]()*n,c=i["get"+r]()*o,s=i["get"+t]()*n;return a<c?-1:a>c?1:u<s?-1:1})}},{key:"getCubie",value:function(e){return this._cubies.find(function(r){if(e.length!=r.faces().length)return!1;var t=!0,o=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value;if(!r.faces().includes(u))return!1}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return!0})}},{key:"corners",value:function(){return this._cubies.filter(function(e){return e.isCorner()})}},{key:"edges",value:function(){return this._cubies.filter(function(e){return e.isEdge()})}},{key:"middles",value:function(){return this._cubies.filter(function(e){return e.isMiddle()})}},{key:"move",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&(e=e.split(" ")),e=(0,c.transformNotations)(e,r);var t=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(t=(a=u.next()).done);t=!0){var s=a.value,l=s[0];if(l){var f=s.toLowerCase().includes("prime"),v=l===l.toLowerCase(),m=s.includes("2"),h=this._getRotationForFace(l),p=h.axis,g=h.mag,d=this.getFace(l);if(f&&(g*=-1),m&&(g*=2),v){var y=(0,c.getMiddleMatchingFace)(l),P=this._getMiddleCubiesForMove(y);d=[].concat(o(d),o(P))}var b=!0,F=!1,w=void 0;try{for(var R,C=d[Symbol.iterator]();!(b=(R=C.next()).done);b=!0){R.value.rotate(p,g)}}catch(e){F=!0,w=e}finally{try{!b&&C.return&&C.return()}finally{if(F)throw w}}}}}catch(e){n=!0,i=e}finally{try{!t&&u.return&&u.return()}finally{if(n)throw i}}}},{key:"isSolved",value:function(){return this.toString()===s}},{key:"toString",value:function(){var e="",r=["front","right","up","down","left","back"],t=!0,o=!1,n=void 0;try{for(var i,a=r[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value,c=this.getFace(u),s=!0,l=!1,f=void 0;try{for(var v,m=c[Symbol.iterator]();!(s=(v=m.next()).done);s=!0){e+=v.value.getColorOfFace(u)}}catch(e){l=!0,f=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw f}}}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}return e}},{key:"clone",value:function(){return new e(this.toString())}},{key:"_build",value:function(e){this._cubies=[],this._populateCube();var r=this._parseColors(e),t=!0,o=!1,n=void 0;try{for(var i,a=Object.keys(r)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value,c=r[u];this._colorFace(u,c)}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}},{key:"_populateCube",value:function(){for(var e=-1;e<=1;e++)for(var r=-1;r<=1;r++)for(var t=-1;t<=1;t++)if(0!==e||0!==r||0!==t){var o=new a.Cubie({position:[e,r,t]});this._cubies.push(o)}}},{key:"_parseColors",value:function(e){for(var r={front:[],right:[],up:[],down:[],left:[],back:[]},t=void 0,o=0;o<e.length;o++){var n=e[o];t=o<9?"front":o<18?"right":o<27?"up":o<36?"down":o<45?"left":"back",r[t].push(n)}return r}},{key:"_colorFace",value:function(e,r){for(var t=this.getFace(e),o=0;o<r.length;o++)t[o].colorFace(e,r[o])}},{key:"_getRotationForFace",value:function(e){if("string"!=typeof e)throw new Error('"face" must be a string (received: '+e+")");return e=e.toLowerCase(),{axis:this._notationToRotation[e].axis,mag:this._notationToRotation[e].mag*Math.PI/2}}},{key:"_getMiddleCubiesForMove",value:function(e){e=e[0].toLowerCase();var r=void 0;return"m"===e?r=["left","right"]:"e"===e?r=["up","down"]:"s"===e&&(r=["front","back"]),this._cubies.filter(function(e){return!e.hasFace(r[0])&&!e.hasFace(r[1])})}}]),e}();r.RubiksCube=l},function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.BaseSolver=void 0;var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),i=t(1),a=t(0),u=function(){function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.cube="string"==typeof r?new i.RubiksCube(r):r,this.options=t,this.partition={},this.partitions=[],this.totalMoves=[],this._afterEachCallbacks=[]}return n(e,[{key:"move",value:function(e,r){"string"==typeof e&&(e=e.split(" ")),this.cube.move(e,r),e=(0,a.transformNotations)(e,r);var t=!0,o=!1,n=void 0;try{for(var i,u=e[Symbol.iterator]();!(t=(i=u.next()).done);t=!0){var c=i.value;this.totalMoves.push(c)}}catch(e){o=!0,n=e}finally{try{!t&&u.return&&u.return()}finally{if(o)throw n}}}},{key:"afterEach",value:function(e){this._afterEachCallbacks.push(e)}},{key:"_triggerAfterEach",value:function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];this._afterEachCallbacks.forEach(function(e){return e.apply(void 0,r)})}},{key:"_solve",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.partition={},this.partition.cubies=e;var r=e.corner,t=e.edge;return this.partition.caseNumber=this._getCaseNumber({corner:r,edge:t}),this._solveCase(this.partition.caseNumber,{corner:r,edge:t}),this.partition.moves=this.totalMoves,this.totalMoves=[],this._overrideAfterEach||this._triggerAfterEach(this.partition,this.phase),this.partition}},{key:"_solveCase",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.corner,o=r.edge;this["_solveCase"+e]({corner:t,edge:o})}}]),e}();r.BaseSolver=u},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.algorithmShortener=void 0;var o=t(19),n=function(e){return e&&e.__esModule?e:{default:e}}(o),i={F:"B",R:"L",U:"D"},a=function(e){"string"==typeof e&&(e=e.split(" "));var r={compare:function(e,r){return e[0]===r[0]},combine:function(e,r){var t=e.includes("2")?2:e.includes("prime")?-1:1,o=r.includes("2")?2:r.includes("prime")?-1:1,n=t+o;if(4===n&&(n=0),-2===n&&(n=2),3===n&&(n=-1),0===n)return"";var i=2===n?"2":-1===n?"prime":"";return""+e[0]+i},cancel:function(e){return""===e},ignore:function(e,r){return i[e[0]]===r[0]||i[r[0]]===e[0]}};return(0,n.default)(e,r).join(" ")};r.algorithmShortener=a},function(e,r,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.Vector=void 0;var i=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),a=t(22),u=o(a),c=t(7),s=o(c),l=t(26),f=o(l),v=t(27),m=o(v),h=t(28),p=o(h),g={x:f.default,y:m.default,z:p.default},d=function(){function e(r){n(this,e),this.set(r)}return i(e,null,[{key:"FromString",value:function(r){return new e(r.split(" ").map(function(e){return parseInt(e)}))}},{key:"areEqual",value:function(e,r){return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]}},{key:"getAngle",value:function(r,t){var o=(0,u.default)(r,t),n=(0,s.default)([],r,t),i=new e(n).getMagnitude();return i?o*i:o}},{key:"getRotationFromNormals",value:function(r,t){var o=new e((0,s.default)([],r,t)).getAxis(),n=e.getAngle(r,t);if(!o){var i=["x","y","z"];i.splice(i.indexOf(new e(r).getAxis()),1),o=i[0]}return{axis:o,angle:n}}},{key:"reverseRotation",value:function(e){return e.angle*=-1,e}}]),i(e,[{key:"toArray",value:function(){return this.vector}},{key:"set",value:function(e){void 0!==e&&(this.vector=e.map(function(e){return Math.round(e)}))}},{key:"setX",value:function(e){this.vector[0]=e}},{key:"setY",value:function(e){this.vector[1]=e}},{key:"setZ",value:function(e){this.vector[2]=e}},{key:"getX",value:function(){return this.toArray()[0]}},{key:"getY",value:function(){return this.toArray()[1]}},{key:"getZ",value:function(){return this.toArray()[2]}},{key:"isAxis",value:function(){var e=0,r=!0,t=!1,o=void 0;try{for(var n,i=this.vector[Symbol.iterator]();!(r=(n=i.next()).done);r=!0){0===n.value&&(e+=1)}}catch(e){t=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(t)throw o}}return 2===e}},{key:"getAxis",value:function(){if(this.isAxis())return 0!==this.vector[0]?"x":0!==this.vector[1]?"y":0!==this.vector[2]?"z":void 0}},{key:"getMagnitude",value:function(){if(this.isAxis())return this["get"+this.getAxis().toUpperCase()]()}},{key:"rotate",value:function(e,r){return e=e.toLowerCase(),this.set(g[e]([],this.vector,[0,0,0],r)),this}}]),e}();r.Vector=d},function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function i(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0}),r.F2LCaseBaseSolver=void 0;var a=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),u=t(12),c=function(e){function r(){return o(this,r),n(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return i(r,e),a(r,[{key:"solve",value:function(e){var r=e.corner,t=e.edge;return this._solve({corner:r,edge:t})}}]),r}(u.F2LBaseSolver);r.F2LCaseBaseSolver=c},function(e,r,t){"use strict";e.exports=function(){return/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g}},function(e,r,t){"use strict";function o(e,r,t){var o=r[0],n=r[1],i=r[2],a=t[0],u=t[1],c=t[2];return e[0]=n*c-i*u,e[1]=i*a-o*c,e[2]=o*u-n*a,e}e.exports=o},function(e,r,t){"use strict";function o(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===o||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(r){try{return f.call(null,e,0)}catch(r){return f.call(this,e,0)}}}function a(e){if(v===clearTimeout)return clearTimeout(e);if((v===n||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(e);try{return v(e)}catch(r){try{return v.call(null,e)}catch(r){return v.call(this,e)}}}function u(){g&&h&&(g=!1,h.length?p=h.concat(p):d=-1,p.length&&c())}function c(){if(!g){var e=i(u);g=!0;for(var r=p.length;r;){for(h=p,p=[];++d<r;)h&&h[d].run();d=-1,r=p.length}h=null,g=!1,a(e)}}function s(e,r){this.fun=e,this.array=r}function l(){}var f,v,m=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:o}catch(e){f=o}try{v="function"==typeof clearTimeout?clearTimeout:n}catch(e){v=n}}();var h,p=[],g=!1,d=-1;m.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];p.push(new s(e,r)),1!==p.length||g||i(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=l,m.addListener=l,m.once=l,m.off=l,m.removeListener=l,m.removeAllListeners=l,m.emit=l,m.prependListener=l,m.prependOnceListener=l,m.listeners=function(e){return[]},m.binding=function(e){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(e){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.Cubie=void 0;var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),i=t(4),a=t(10),u=function(){function e(r){var t=this,n=r.position,i=r.colorMap,a=void 0===i?{}:i;o(this,e),this.position(n),this.colorMap={},Object.keys(a).forEach(function(e){var r=a[e];t.colorFace(e,r)})}return n(e,null,[{key:"FromFaces",value:function(r){var t=new i.Vector([0,0,0]),o={},n=!0,u=!1,c=void 0;try{for(var s,l=r[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var f=s.value;if(f){var v=new a.Face(f);t["set"+v.vector.getAxis().toUpperCase()](v.vector.getMagnitude()),o[f.toLowerCase()]=v.toString()[0].toLowerCase()}}}catch(e){u=!0,c=e}finally{try{!n&&l.return&&l.return()}finally{if(u)throw c}}return new e({position:t.toArray(),colorMap:o})}}]),n(e,[{key:"clone",value:function(){return new e({position:this.position(),colorMap:this.colorMap})}},{key:"position",value:function(e){if(void 0===e)return this.vector?this.vector.toArray():this.vector;this.vector=new i.Vector(e)}},{key:"getX",value:function(){return this.vector.getX()}},{key:"getY",value:function(){return this.vector.getY()}},{key:"getZ",value:function(){return this.vector.getZ()}},{key:"isCorner",value:function(){return 3===Object.keys(this.colorMap).length}},{key:"isEdge",value:function(){return 2===Object.keys(this.colorMap).length}},{key:"isMiddle",value:function(){return 1===Object.keys(this.colorMap).length}},{key:"colors",value:function(){var e=this;return Object.keys(this.colorMap).map(function(r){return e.colorMap[r]})}},{key:"hasColor",value:function(e){e=e.toLowerCase();var r=!0,t=!1,o=void 0;try{for(var n,i=Object.keys(this.colorMap)[Symbol.iterator]();!(r=(n=i.next()).done);r=!0){var a=n.value;if(this.colorMap[a]===e)return!0}}catch(e){t=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(t)throw o}}return!1}},{key:"hasFace",value:function(e){return e=e.toLowerCase(),Object.keys(this.colorMap).includes(e)}},{key:"colorFace",value:function(e,r){return e=e.toLowerCase(),r=r.toLowerCase(),this.colorMap[e]=r,this}},{key:"getColorOfFace",value:function(e){return e=e.toLowerCase(),this.colorMap[e]}},{key:"getFaceOfColor",value:function(e){var r=this;return e=e.toLowerCase(),Object.keys(this.colorMap).find(function(t){return r.colorMap[t]===e})}},{key:"faces",value:function(){return Object.keys(this.colorMap)}},{key:"rotate",value:function(e,r){var t=this;this.vector.rotate(e,r);var o={},n=!0,i=!1,u=void 0;try{for(var c,s=Object.keys(this.colorMap)[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var l=c.value,f=this.colorMap[l],v=new a.Face(l),m=v.rotate(e,r).normal().join(" "),h=a.Face.FromNormal(m).toString().toLowerCase();o[h]=f}}catch(e){i=!0,u=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw u}}this.colorMap={},Object.keys(o).forEach(function(e){return t.colorFace(e,o[e])})}}]),e}();r.Cubie=u},function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.Face=void 0;var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),i=t(4),a={front:"0 0 1",right:"1 0 0",up:"0 1 0",down:"0 -1 0",left:"-1 0 0",back:"0 0 -1"},u=function(){function e(r){if(o(this,e),"string"!=typeof r)throw new Error('"face" must be a string (received: '+r+")");r=r.toLowerCase(),this.vector=i.Vector.FromString(a[r])}return n(e,null,[{key:"FromNormal",value:function(r){return"string"==typeof r&&(r=i.Vector.FromString(r).toArray()),new e(e.getFace(r))}},{key:"getNormal",value:function(e){return i.Vector.FromString(a[e]).toArray()}},{key:"getFace",value:function(e){"string"==typeof e&&(e=i.Vector.FromString(e).toArray());var r=!0,t=!1,o=void 0;try{for(var n,u=Object.keys(a)[Symbol.iterator]();!(r=(n=u.next()).done);r=!0){var c=n.value;if(e.join(" ")===a[c])return c}}catch(e){t=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(t)throw o}}}}]),n(e,[{key:"normal",value:function(){return this.vector.toArray()}},{key:"toString",value:function(){return e.getFace(this.normal())}},{key:"orientTo",value:function(r){"string"==typeof r&&(r=new e(r));var t=i.Vector.getRotationFromNormals(this.normal(),r.normal()),o=t.axis,n=t.angle;return this.vector.rotate(o,n),this}},{key:"rotate",value:function(e,r){return this.vector.rotate(e,r),this}}]),e}();u.FRONT=new u("FRONT"),u.RIGHT=new u("RIGHT"),u.UP=new u("UP"),u.DOWN=new u("DOWN"),u.LEFT=new u("LEFT"),u.BACK=new u("BACK"),r.Face=u},function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function i(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0}),r.CrossSolver=void 0;var a=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),u=t(2),c=t(1),s=t(0),l=function(e){return c.RubiksCube.reverseMoves(e)},f=function(e){function r(){var e;o(this,r);for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];var u=n(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i)));return u.phase="cross",u}return i(r,e),a(r,[{key:"solve",value:function(){var e=this._getCrossEdges(),r=!0,t=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(r=(n=i.next()).done);r=!0){var a=n.value,u=this._solve({edge:a});this.partitions.push(u)}}catch(e){t=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(t)throw o}}return this.partitions}},{key:"isSolved",value:function(){var e=this._getCrossEdges(),r=!0,t=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(r=(n=i.next()).done);r=!0){var a=n.value;if(!this.isEdgeSolved(a))return!1}}catch(e){t=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(t)throw o}}return!0}},{key:"isEdgeSolved",value:function(e){var r=e.colors().find(function(e){return"u"!==e}),t=e.faces().find(function(e){return"up"!==e}),o=t[0]===r;return"u"===e.getColorOfFace("up")&&o}},{key:"_getCrossEdges",value:function(){return this.cube.edges().filter(function(e){return e.hasColor("u")})}},{key:"_getCaseNumber",value:function(e){var r=e.edge;if("u"===r.getColorOfFace("up"))return 1;if("u"===r.getColorOfFace("down"))return 2;if(r.faces().includes("up"))return 3;if(r.faces().includes("down"))return 4;var t=r.getFaceOfColor("u"),o=r.getFaceOfColor(r.colors().find(function(e){return"u"!==e})),n=(0,s.getDirectionFromFaces)(t,o,{up:"up"});return"right"===n?5:"left"===n?6:void 0}},{key:"_solveCase1",value:function(e){var r=e.edge;if(!this.isEdgeSolved(r)){var t=r.faces().find(function(e){return"up"!==e});this.move(t+" "+t,{upperCase:!0}),this._solveCase2({edge:r})}}},{key:"_solveCase2",value:function(e){var r=e.edge,t=this._case1And2Helper({edge:r},2);this.move(t,{upperCase:!0})}},{key:"_solveCase3",value:function(e){var r=e.edge,t=this._case3And4Helper({edge:r},3);this.move(t,{upperCase:!0}),this._solveCase5({edge:r})}},{key:"_solveCase4",value:function(e){var r=e.edge,t=(0,s.getRotationFromTo)("down",r.getFaceOfColor("u"),(0,s.getFaceOfMove)(r.getColorOfFace("down")));this.move(t,{upperCase:!0});var o=l(r.getFaceOfColor("u"));this.move(o,{upperCase:!0}),this._solveCase5({edge:r})}},{key:"_solveCase5",value:function(e){var r=e.edge,t=this._case5And6Helper({edge:r},5);this.move(t,{upperCase:!0})}},{key:"_solveCase6",value:function(e){var r=e.edge,t=this._case5And6Helper({edge:r},6);this.move(t,{upperCase:!0})}},{key:"_case1And2Helper",value:function(e,r){var t=e.edge,o=1===r?"up":"down",n=t.faces().find(function(e){return e!==o}),i=(0,s.getFaceOfMove)(t.getColorOfFace(n)),a=(0,s.getRotationFromTo)(o,n,i);if(2===r){var u=(0,s.getMoveOfFace)(i);a+=" "+u+" "+u}return a}},{key:"_case3And4Helper",value:function(e,r){var t=e.edge,o=t.faces().find(function(e){return!["up","down"].includes(e)});return 4===r&&(o=l(o)),o}},{key:"_case5And6Helper",value:function(e,r){var t=e.edge,o=t.colors().find(function(e){return"u"!==e}),n=t.getFaceOfColor(o),i=(0,s.getFaceOfMove)(o),a=(0,s.getRotationFromTo)("up",n,i),u=(0,s.getMoveOfFace)(n);return 6===r&&(u=l(u)),l(a)+" "+u+" "+a}},{key:"_getPartitionBefore",value:function(e){return{edge:e.edge.clone()}}},{key:"_getPartitionAfter",value:function(e){return{edge:e.edge}}}]),r}(u.BaseSolver);r.CrossSolver=f},function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function i(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0}),r.F2LBaseSolver=void 0;var a=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),u=t(2),c=t(1),s=t(0),l=function(e){return c.RubiksCube.reverseMoves(e)},f=function(e){function r(){var e;o(this,r);for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];var u=n(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i)));return u.phase="f2l",u}return i(r,e),a(r,[{key:"colorsMatch",value:function(e){var r=e.corner,t=e.edge,o=t.colors();return!(!r.colors().includes(o[0])||!r.colors().includes(o[1]))}},{key:"isPairSolved",value:function(e){var r=e.corner,t=e.edge;if(!this.isPairMatched({corner:r,edge:t}))return!1;if("up"!==r.getFaceOfColor("u"))return!1;var o=!0,n=!1,i=void 0;try{for(var a,u=t.colors()[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var c=a.value;if(t.getFaceOfColor(c)!==(0,s.getFaceOfMove)(c))return!1}}catch(e){n=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw i}}return!0}},{key:"isPairMatched",value:function(e){var r=e.corner,t=e.edge;if(!this.colorsMatch({corner:r,edge:t}))return!1;var o=!0,n=!1,i=void 0;try{for(var a,u=t.colors()[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var c=a.value;if(r.getFaceOfColor(c)!==t.getFaceOfColor(c))return!1}}catch(e){n=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw i}}return!0}},{key:"isPairSeparated",value:function(e){var r=e.corner,t=e.edge;if(!this.colorsMatch({corner:r,edge:t}))return!1;if(["up","down"].includes(r.getFaceOfColor("u")))return!1;if(!t.faces().includes("down"))return!1;var o=r.colors().find(function(e){return"u"!==e&&"down"!==r.getFaceOfColor(e)});return"down"===t.getFaceOfColor(o)&&"back"===(0,s.getDirectionFromFaces)(r.getFaceOfColor(o),t.getFaceOfColor(r.getColorOfFace("down")),{up:"up"})}},{key:"solveMatchedPair",value:function(e){var r=e.corner,t=e.edge;if(!this.isPairMatched({corner:r,edge:t}))throw new Error("Pair is not matched");var o=t.colors().find(function(e){return"down"!==t.getFaceOfColor(e)}),n="left"===(0,s.getDirectionFromFaces)(t.getFaceOfColor(o),r.getFaceOfColor("u"),{up:"down"}),i=(0,s.getFaceOfMove)(o),a=r.getFaceOfColor(o),u=(0,s.getFaceFromDirection)(i,n?"left":"right",{up:"down"}),c=(0,s.getRotationFromTo)("down",a,u),f=n?i:l(i),v=n?"DPrime":"D",m=[c,f,v,l(f)].join(" ");return this.move(m,{upperCase:!0}),m}},{key:"solveSeparatedPair",value:function(e){var r=e.corner,t=e.edge;if(!this.isPairSeparated({corner:r,edge:t}))throw new Error("Pair is not separated");var o=t.colors().find(function(e){return"down"!==t.getFaceOfColor(e)}),n="LEFT"===(0,s.getDirectionFromFaces)(r.getFaceOfColor("u"),t.getFaceOfColor(o),{up:"down"}).toUpperCase(),i=r.getFaceOfColor("u"),a=(0,s.getFaceOfMove)(o),u=(0,s.getRotationFromTo)("down",i,a),c=(0,s.getMoveOfFace)(a);c=n?l(c):c;var f=n?"DPrime":"D",v=[u,c,f,l(c)].join(" ");return this.move(v,{upperCase:!0}),v}},{key:"_getPartitionBefore",value:function(e){var r=e.corner,t=e.edge;return{corner:r.clone(),edge:t.clone()}}},{key:"_getPartitionAfter",value:function(e){return{corner:e.corner,edge:e.edge}}}]),r}(u.BaseSolver);r.F2LBaseSolver=f},function(e,r,t){"use strict";function o(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function i(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function a(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0}),r.F2LSolver=void 0;var u=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),c=t(1),s=t(12),l=t(35),f=t(36),v=t(37),m=t(0),h=function(e){return c.RubiksCube.reverseMoves(e)},p=function(e){function r(){var e;n(this,r);for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var u=i(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o)));return u.subCaseOptions=Object.assign(u.options,{_overrideAfterEach:!0}),u}return a(r,e),u(r,[{key:"solve",value:function(){var e=this;return this.partitions=[],this.getAllPairs().forEach(function(r){var t=r.corner,o=r.edge,n=e._solve({corner:t,edge:o});e.partitions.push(n)}),this.partitions}},{key:"isSolved",value:function(){var e=this.getAllPairs(),r=!0,t=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(r=(n=i.next()).done);r=!0){var a=n.value;if(!this.isPairSolved(a))return!1}}catch(e){t=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(t)throw o}}return!0}},{key:"getAllPairs",value:function(){var e=this.cube.corners().filter(function(e){return e.hasColor("u")}),r=this.cube.edges().filter(function(e){return!e.hasColor("u")&&!e.hasColor("d")}),t=[],o=!0,n=!1,i=void 0;try{for(var a,u=r[Symbol.iterator]();!(o=(a=u.next()).done);o=!0)!function(){var r=a.value,o=e.find(function(e){var t=r.colors();return e.hasColor(t[0])&&e.hasColor(t[1])});t.push({edge:r,corner:o})}()}catch(e){n=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw i}}return t}},{key:"_getCaseNumber",value:function(e){var r=e.corner,t=e.edge;if(r.faces().includes("down")){if(t.faces().includes("down"))return 1;if(!t.faces().includes("down")&&!t.faces().includes("up"))return 2}if(r.faces().includes("up")){if(t.faces().includes("down"))return 3;if(!t.faces().includes("down")&&!t.faces().includes("up"))return 4}throw new Error("Could not find a top level F2L case")}},{key:"_solveCase1",value:function(e){var r=e.corner,t=e.edge,o=new l.Case1Solver(this.cube,this.subCaseOptions),n=o.solve({corner:r,edge:t});this.totalMoves=n.moves,this.partition.caseNumber=[this.partition.caseNumber,n.caseNumber]}},{key:"_solveCase2",value:function(e){var r=e.corner,t=e.edge,o=new f.Case2Solver(this.cube,this.subCaseOptions),n=o.solve({corner:r,edge:t});this.totalMoves=n.moves,this.partition.caseNumber=[this.partition.caseNumber,n.caseNumber]}},{key:"_solveCase3",value:function(e){var r=e.corner,t=e.edge,o=new v.Case3Solver(this.cube,this.subCaseOptions),n=o.solve({corner:r,edge:t});this.totalMoves=n.moves,this.partition.caseNumber=[this.partition.caseNumber,n.caseNumber]}},{key:"_solveCase4",value:function(e){var r=e.corner,t=e.edge;if(!this.isPairSolved({corner:r,edge:t})){var n=void 0;n=r.faces().includes(t.faces()[0])&&r.faces().includes(t.faces()[1])?new l.Case1Solver(this.cube,this.subCaseOptions):new f.Case2Solver(this.cube,this.subCaseOptions);var i=r.faces().filter(function(e){return"up"!==e}),a=(0,m.getDirectionFromFaces)(i[0],i[1],{up:"down"}),u="right"===a?i[1]:i[0];this.move(u+" D "+h(u),{upperCase:!0});var c=n.solve({corner:r,edge:t});this.partition.caseNumber=[this.partition.caseNumber,c.caseNumber],this.totalMoves=[].concat(o(this.totalMoves),o(c.moves))}}}]),r}(s.F2LBaseSolver);r.F2LSolver=p},function(e,r,t){"use strict";function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function i(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function a(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0}),r.OLLSolver=void 0;var u=function(){function e(e,r){var t=[],o=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(t.push(a.value),!r||t.length!==r);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),s=(t(1),t(2)),l=t(0),f="00000000",v=function(e){function r(){var e,t;n(this,r);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];var s=i(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(u)));return s.phase="oll",s.algorithms=(t={},o(t,f,""),o(t,"21000110","F R U RPrime UPrime FPrime"),o(t,"21211010","F R U RPrime UPrime FPrime F R U RPrime UPrime FPrime"),o(t,"10201020","R U2 RPrime UPrime R U RPrime UPrime R UPrime RPrime"),o(t,"01112000","F U R UPrime RPrime FPrime"),o(t,"11102120","F U R UPrime RPrime U R UPrime RPrime FPrime"),o(t,"11210000","RPrime UPrime FPrime U F R"),o(t,"11102021","FPrime LPrime UPrime L U LPrime UPrime L U F"),o(t,"10011110","R L2 BPrime L BPrime LPrime B2 L BPrime L RPrime"),o(t,"00202121","LPrime R2 B RPrime B R B2 RPrime B RPrime L"),o(t,"01111111","F U R UPrime RPrime FPrime L F U FPrime UPrime LPrime"),o(t,"21212101","F U R UPrime RPrime FPrime R B U BPrime UPrime RPrime"),o(t,"21211111","F R U RPrime UPrime FPrime B U L UPrime LPrime BPrime"),o(t,"20201010","R U2 R2 UPrime R2 UPrime R2 U2 R"),o(t,"01101110","R B RPrime L U LPrime UPrime R BPrime RPrime"),o(t,"21002120","LPrime BPrime L RPrime UPrime R U LPrime B L"),o(t,"21001100","RPrime F R U RPrime UPrime FPrime U R"),o(t,"01000100","R U RPrime UPrime MPrime U R UPrime rPrime"),o(t,"01010101","M U R U RPrime UPrime M2 U R UPrime rPrime"),o(t,"10211021","F R U RPrime UPrime R U RPrime UPrime FPrime B U L UPrime LPrime BPrime"),o(t,"11000120","R U RPrime UPrime RPrime F R FPrime"),o(t,"10000020","LPrime BPrime R B L BPrime RPrime B"),o(t,"20001000","B LPrime BPrime R B L BPrime RPrime"),o(t,"00112001","RPrime UPrime RPrime F R FPrime U R"),o(t,"21112111","R U2 RPrime RPrime F R FPrime U2 RPrime F R FPrime"),o(t,"10002101","R U2 RPrime RPrime F R FPrime R U2 RPrime"),o(t,"21110101","M U R U RPrime UPrime MPrime RPrime F R FPrime"),o(t,"11212010","F LPrime U2 L U2 L F2 LPrime F"),o(t,"01110020","R U RPrime U R UPrime RPrime UPrime RPrime F R FPrime"),o(t,"10012100","RPrime UPrime R UPrime RPrime U R U R BPrime RPrime B"),o(t,"10112021","RPrime UPrime R UPrime RPrime U FPrime U F R"),o(t,"01110121","F U R UPrime RPrime FPrime F U FPrime UPrime FPrime L F LPrime"),o(t,"01112101","F U R UPrime RPrime FPrime B U BPrime UPrime SPrime U B UPrime bPrime"),o(t,"21212000","lPrime U2 L U LPrime U l"),o(t,"01212020","r U RPrime U R U2 rPrime"),o(t,"00202020","R U RPrime U R U2 RPrime"),o(t,"10101000","RPrime UPrime R URprime RPrime U2 R"),o(t,"01001021","RPrime U R U2 RPrime UPrime FPrime U F U R"),o(t,"10200101","R UPrime RPrime U2 R U B UPrime BPrime UPrime RPrime"),o(t,"21102011","r U RPrime U R UPrime RPrime U R U2 rPrime"),o(t,"21112010","lPrime UPrime L UPrime LPrime U L UPrime LPrime U2 l"),o(t,"11100011","r U2 RPrime UPrime R UPrime rPrime"),o(t,"11012000","F R UPrime RPrime UPrime R U RPrime FPrime"),o(t,"11001011","lPrime UPrime L UPrime LPrime U2 l"),o(t,"01010000","r U RPrime UPrime M U R UPrime RPrime"),o(t,"01002110","R U RPrime UPrime BPrime RPrime F R FPrime B"),o(t,"01202120","L FPrime LPrime UPrime L F LPrime FPrime U F"),o(t,"11001110","RPrime F R U RPrime FPrime R F UPrime FPrime"),o(t,"10200000","R2 D RPrime U2 R DPrime RPrime U2 RPrime"),o(t,"20112011","RPrime U2 R2 U RPrime U R U2 BPrime RPrime B"),o(t,"10000121","R U BPrime UPrime RPrime U R B RPrime"),o(t,"11000021","RPrime UPrime F U R UPrime RPrime FPrime R"),o(t,"01100120","L FPrime LPrime UPrime L U F UPrime LPrime"),o(t,"11112020","RPrime F R2 FPrime U2 FPrime U2 F RPrime"),o(t,"20110100","BPrime RPrime B LPrime BPrime R R BPrime RPrime B2 L"),o(t,"20100101","B L BPrime R B L2 B L B2 RPrime"),o(t,"01101011","FPrime UPrime F L FPrime LPrime U L F LPrime"),o(t,"21012020","F U FPrime RPrime F R UPrime RPrime FPrime R"),t),s}return a(r,e),c(r,[{key:"isSolved",value:function(){return this.getOllString()===f}},{key:"solve",value:function(){return this._solve()}},{key:"_getCaseNumber",value:function(){return this.getOllString()}},{key:"_solveCase",value:function(e){var r=this.findPattern(e),t=this.getAlgorithm(r),o=this._getFrontFace(e,r);this.move(t,{orientation:{up:"down",front:o}})}},{key:"getOllString",value:function(){var e=this,r=[];return this._getOllCubies().forEach(function(t){var o=e._getCubieOrientation(t);r.push(o)}),r.join("")}},{key:"findPattern",value:function(e){void 0===e&&(e=this.getOllString());for(var r=0;r<4;r++){if("string"==typeof this.algorithms[e])return e;e=this._rotateOllStringLeft(e)}throw new Error('No pattern found for oll string "'+e+'"')}},{key:"getAlgorithm",value:function(e){if(void 0===e&&(e=this.getPattern(e)),void 0===this.algorithms[e])throw new Error('No algorithm found for pattern "'+e+'"');return this.algorithms[e]}},{key:"_getOllCubies",value:function(){var e=this;return[["front","down","right"],["front","down"],["front","down","left"],["left","down"],["left","down","back"],["back","down"],["back","down","right"],["right","down"]].map(function(r){return e.cube.getCubie(r)})}},{key:"_getCubieOrientation",value:function(e){if("d"===e.getColorOfFace("down"))return 0;if(e.isEdge())return 1;var r=e.faces().filter(function(e){return"down"!==e}),t=u(r,2),o=t[0],n=t[1],i=(0,l.getDirectionFromFaces)(o,n,{up:"down"}),a="right"===i?n:o;return"d"===e.getColorOfFace(a)?1:2}},{key:"_getFrontFace",value:function(e,r){for(var t=["front","left","back","right"],o=0;o<4;o++){if(e===r)return t[o];e=this._rotateOllStringLeft(e)}throw new Error('OLL string "'+e+'" does not resolve to the pattern "'+r+'"')}},{key:"_rotateOllStringLeft",value:function(e){return e.slice(2)+e.slice(0,2)}},{key:"_getPartitionBefore",value:function(){return this.getOllString()}},{key:"_getPartitionAfter",value:function(){return null}}]),r}(s.BaseSolver);r.OLLSolver=v},function(e,r,t){"use strict";function o(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function a(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function u(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0}),r.PLLSolver=void 0;var c=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),s=t(2),l=t(0),f="0 0 0 0 0 0 0 0",v=function(e){function r(){var e,t;i(this,r);for(var o=arguments.length,u=Array(o),c=0;c<o;c++)u[c]=arguments[c];var s=a(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(u)));return s.phase="pll",s.algorithms=(t={},n(t,f,""),n(t,"2 -1 1 -1 1 0 0 2","R2 F2 RPrime BPrime R F2 RPrime B RPrime"),n(t,"-1 1 -1 2 2 0 0 1","R BPrime R F2 RPrime B R F2 R2"),n(t,"1 -1 2 2 0 0 1 -1","R UPrime R U R U R UPrime RPrime UPrime R2"),n(t,"-1 1 -1 1 0 0 2 2","R2 U R U RPrime UPrime RPrime UPrime RPrime U RPrime"),n(t,"2 2 2 2 2 2 2 2","M M U M M U2 M M U M M"),n(t,"0 1 1 1 1 0 2 2","R U RPrime UPrime RPrime F R2 UPrime RPrime UPrime R U RPrime FPrime"),n(t,"1 0 2 0 1 0 0 0","R U2 RPrime UPrime R U2 LPrime U RPrime UPrime L"),n(t,"0 2 2 0 1 1 1 1","F R UPrime RPrime UPrime R U RPrime FPrime R U RPrime UPrime RPrime F R FPrime"),n(t,"1 -1 -1 2 -1 -1 1 0","RPrime U2 R U2 RPrime F R U RPrime UPrime RPrime FPrime R2"),n(t,"0 1 -1 -1 2 -1 -1 1","R UPrime RPrime UPrime R U R D RPrime UPrime R DPrime RPrime U2 RPrime"),n(t,"0 2 -1 -1 -1 -1 2 0","RPrime U RPrime UPrime BPrime D BPrime DPrime B2 RPrime BPrime R B R"),n(t,"2 -1 -1 -1 -1 2 0 0","RPrime UPrime FPrime R U RPrime UPrime RPrime F R2 UPrime RPrime UPrime R U RPrime U R"),n(t,"-1 2 2 2 -1 2 0 2","L U LPrime B2 uPrime B UPrime BPrime U BPrime u B2"),n(t,"2 -1 2 0 2 -1 2 2","RPrime UPrime R B2 u BPrime U B UPrime B uPrime B2"),n(t,"2 -1 1 1 0 1 1 -1","R2 uPrime R UPrime R U RPrime u R2 B UPrime BPrime"),n(t,"1 0 1 1 -1 2 -1 1","R2 u RPrime U RPrime UPrime R uPrime R2 FPrime U F"),n(t,"1 -1 -1 1 1 -1 -1 1","U RPrime UPrime R UPrime R U R UPrime RPrime U R U R2 UPrime RPrime"),n(t,"0 1 0 0 0 1 0 2","LPrime U2 L U LPrime U2 R UPrime L U RPrime"),n(t,"1 1 -1 -1 1 1 -1 -1","R BPrime RPrime F R B RPrime FPrime R B RPrime F R BPrime RPrime FPrime"),n(t,"2 0 2 0 2 0 2 0","R U RPrime U R U RPrime FPrime R U RPrime UPrime RPrime F R2 UPrime RPrime U2 R UPrime RPrime"),n(t,"0 2 0 2 0 2 0 2","RPrime U R UPrime RPrime FPrime UPrime F R U RPrime F RPrime FPrime R UPrime R"),t),s}return u(r,e),c(r,[{key:"solve",value:function(){return this._solve()}},{key:"_getCaseNumber",value:function(){return this.getPllString()}},{key:"_solveCase",value:function(e){var r=this.findPattern(e),t=this.getAlgorithm(r),o=this._getFrontFace(e,r);this.move(t,{orientation:{up:"down",front:o}});var n=this.cube.getCubie(["down","front"]),i=(0,l.getFaceOfMove)(n.getColorOfFace("front")),a=(0,l.getRotationFromTo)("down","front",i);this.move(a)}},{key:"isSolved",value:function(){return this.cube.isSolved()}},{key:"getPllString",value:function(){for(var e=[],r=this._getPllCubies(),t=["front","left","back","right"],o=0;o<r.length;o++){var n=r[o],i=r[o+1],a=t[~~(o/2)],u=n.getColorOfFace(a);i||(i=r[0]);var c=i.getColorOfFace(a),s=(0,l.getFaceOfMove)(u),f=(0,l.getFaceOfMove)(c),v=(0,l.getDirectionFromFaces)(s,f,{up:"down"});"front"===v&&(v=0),"right"===v&&(v=1),"left"===v&&(v=-1),"back"===v&&(v=2),e.push(v)}return e.join(" ")}},{key:"findPattern",value:function(e){var r=e;void 0===e&&(e=this.getPllString());for(var t=0;t<4;t++){if("string"==typeof this.algorithms[e])return e;e=this._rotatePllStringLeft(e)}throw new Error('No pattern found for pll string "'+r+'"')}},{key:"getAlgorithm",value:function(e){if(void 0===e&&(e=this.findPattern(e)),void 0===this.algorithms[e])throw new Error('No algorithm found for pattern "'+e+'"');return this.algorithms[e]}},{key:"_getPllCubies",value:function(){var e=this;return[["front","down","right"],["front","down"],["front","down","left"],["left","down"],["left","down","back"],["back","down"],["back","down","right"],["right","down"]].map(function(r){return e.cube.getCubie(r)})}},{key:"_getCubiePermutation",value:function(e){var r=e.faces().find(function(e){return"down"!==e}),t=(0,l.getFaceOfMove)(e.getColorOfFace(r)),o=(0,l.getRotationFromTo)("down",r,t);o=o.toLowerCase();return""===o?0:o.includes("prime")?1:o.split(" ").length>1?2:-1}},{key:"_rotatePllStringLeft",value:function(e){var r=e.split(" ").map(function(e){return parseInt(e)});return[].concat(o(r.slice(2)),o(r.slice(0,2))).join(" ")}},{key:"_getFrontFace",value:function(e,r){for(var t=["front","left","back","right"],o=0;o<4;o++){if(e===r)return t[o];e=this._rotatePllStringLeft(e)}throw new Error('OLL string "'+e+'" does not resolve to the pattern "'+r+'"')}}]),r}(s.BaseSolver);r.PLLSolver=v},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.algorithmShortener=r.PLLSolver=r.OLLSolver=r.F2LSolver=r.CrossSolver=r.RubiksCube=r.Cubie=r.Solver=void 0;var o=t(9);Object.defineProperty(r,"Cubie",{enumerable:!0,get:function(){return o.Cubie}});var n=t(1);Object.defineProperty(r,"RubiksCube",{enumerable:!0,get:function(){return n.RubiksCube}});var i=t(11);Object.defineProperty(r,"CrossSolver",{enumerable:!0,get:function(){return i.CrossSolver}});var a=t(13);Object.defineProperty(r,"F2LSolver",{enumerable:!0,get:function(){return a.F2LSolver}});var u=t(14);Object.defineProperty(r,"OLLSolver",{enumerable:!0,get:function(){return u.OLLSolver}});var c=t(15);Object.defineProperty(r,"PLLSolver",{enumerable:!0,get:function(){return c.PLLSolver}});var s=t(3);Object.defineProperty(r,"algorithmShortener",{enumerable:!0,get:function(){return s.algorithmShortener}});var l=t(33);r.Solver=l.Solver,r.default=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=new l.Solver(e,r);return t.solve(),r.partitioned?t.getPartitions():(0,s.algorithmShortener)(t.getMoves())}},function(e,r,t){"use strict";(function(e){function r(){var e={modifiers:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},colors:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39]},bgColors:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49]}};return e.colors.grey=e.colors.gray,Object.keys(e).forEach(function(r){var t=e[r];Object.keys(t).forEach(function(r){var o=t[r];e[r]=t[r]={open:"["+o[0]+"m",close:"["+o[1]+"m"}}),Object.defineProperty(e,r,{value:t,enumerable:!1})}),e}Object.defineProperty(e,"exports",{enumerable:!0,get:r})}).call(r,t(32)(e))},function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e){u&&e&&e()}var i=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),a=void 0,u=void 0,c={cancel:function(){return!1},ignore:function(){return!1}},s=function(){function e(r,n){o(this,e),this.options=Object.assign({},c,n),this.options.DEBUG&&(a=t(20),u=n.DEBUG),this.input=r.slice(),this.output=[]}return i(e,[{key:"run",value:function(){var e=this;if(this.input.length<=1)return this.input;this.temp=[this.input.shift()];for(var r=void 0,t=void 0,o=void 0;this.temp.length>0;){n(function(){console.log(a.bold("========= START =========")),e._logInfo(),console.log()});var i=void 0,u=void 0;if(1===this.temp.length){for(i=0,u=this.input[i];i<this.input.length&&this.options.ignore(this.temp[0],u);)u=this.input[++i];i<this.input.length&&this.temp.push(u)}if(n(function(){return o=e.temp.slice()}),0===this.temp.length){n(function(){console.log(a.green("breaking")),console.log(a.bold("========= END =========")),console.log()});break}1!==this.temp.length?(this.options.compare(this.temp[0],this.temp[1])?function(){void 0!==i&&e.input.splice(i,1);var o=e.options.combine(e.temp[0],e.temp[1]);n(function(){r="Combining:",t=o}),e.temp=e.options.cancel(o)?[]:[o],e.populateTempBackward(),0===e.temp.length&&e.populateTempForward()}():(this.output.push(this.temp.shift()),void 0!==i&&(i>0?this.temp=this.input.splice(0,1):this.input.splice(i,1)),n(function(){return r="Skipping:"})),n(function(){console.log(a.green(r),o),console.log(a.green("value:"),t),console.log(),e._logInfo(),console.log(a.bold("========= END =========")),console.log(),r=null,t=null,o=null})):(this.output.push(this.temp.pop()),this.populateTempForward(),n(function(){console.log(a.green("continuing")),e._logInfo(),console.log(a.bold("========= END =========")),console.log()}))}return n(function(){console.log(a.bold.green("========= FINAL =========")),e._logInfo(),console.log(a.bold.green("========= FINAL =========")),console.log()}),this.output}},{key:"populateTempBackward",value:function(){this.output.length>0&&this.temp.unshift(this.output.pop())}},{key:"populateTempForward",value:function(){this.input.length>0&&this.temp.push(this.input.shift())}},{key:"_logInfo",value:function(){console.log(a.bold("output"),this.output),console.log(a.bold("temp"),this.temp),console.log(a.bold("input"),this.input)}}]),e}();e.exports=s},function(e,r,t){"use strict";function o(e,r){if(!e)throw new Error("Why are you even importing this.");if(!r.compare)throw new Error("options.compare callback must be present");if(!r.combine)throw new Error("options.combine callback must be present")}var n=t(18);e.exports=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e,r),new n(e,r).run()}},function(e,r,t){"use strict";(function(r){function o(e){this.enabled=e&&void 0!==e.enabled?e.enabled:l}function n(e){var r=function e(){return i.apply(e,arguments)};return r._styles=e,r.enabled=this.enabled,r.__proto__=h,r}function i(){var e=arguments,r=e.length,t=0!==r&&String(arguments[0]);if(r>1)for(var o=1;o<r;o++)t+=" "+e[o];if(!this.enabled||!t)return t;var n=this._styles,i=n.length,a=u.dim.open;for(!v||-1===n.indexOf("gray")&&-1===n.indexOf("grey")||(u.dim.open="");i--;){var c=u[n[i]];t=c.open+t.replace(c.closeRe,c.open)+c.close}return u.dim.open=a,t}var a=t(21),u=t(17),c=t(30),s=t(29),l=t(31),f=Object.defineProperties,v="win32"===r.platform&&!/^xterm/i.test(r.env.TERM);v&&(u.blue.open="[94m");var m=function(){var e={};return Object.keys(u).forEach(function(r){u[r].closeRe=new RegExp(a(u[r].close),"g"),e[r]={get:function(){return n.call(this,this._styles.concat(r))}}}),e}(),h=f(function(){},m);f(o.prototype,function(){var e={};return Object.keys(m).forEach(function(r){e[r]={get:function(){return n.call(this,[r])}}}),e}()),e.exports=new o,e.exports.styles=u,e.exports.hasColor=s,e.exports.stripColor=c,e.exports.supportsColor=l}).call(r,t(8))},function(e,r,t){"use strict";var o=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(o,"\\$&")}},function(e,r,t){"use strict";function o(e,r){var t=n(e[0],e[1],e[2]),o=n(r[0],r[1],r[2]);i(t,t),i(o,o);var u=a(t,o);return u>1?0:Math.acos(u)}e.exports=o;var n=t(24),i=t(25),a=t(23)},function(e,r,t){"use strict";function o(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]}e.exports=o},function(e,r,t){"use strict";function o(e,r,t){var o=new Float32Array(3);return o[0]=e,o[1]=r,o[2]=t,o}e.exports=o},function(e,r,t){"use strict";function o(e,r){var t=r[0],o=r[1],n=r[2],i=t*t+o*o+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=r[0]*i,e[1]=r[1]*i,e[2]=r[2]*i),e}e.exports=o},function(e,r,t){"use strict";function o(e,r,t,o){var n=t[1],i=t[2],a=r[1]-n,u=r[2]-i,c=Math.sin(o),s=Math.cos(o);return e[0]=r[0],e[1]=n+a*s-u*c,e[2]=i+a*c+u*s,e}e.exports=o},function(e,r,t){"use strict";function o(e,r,t,o){var n=t[0],i=t[2],a=r[0]-n,u=r[2]-i,c=Math.sin(o),s=Math.cos(o);return e[0]=n+u*c+a*s,e[1]=r[1],e[2]=i+u*s-a*c,e}e.exports=o},function(e,r,t){"use strict";function o(e,r,t,o){var n=t[0],i=t[1],a=r[0]-n,u=r[1]-i,c=Math.sin(o),s=Math.cos(o);return e[0]=n+a*s-u*c,e[1]=i+a*c+u*s,e[2]=r[2],e}e.exports=o},function(e,r,t){"use strict";var o=t(6),n=new RegExp(o().source);e.exports=n.test.bind(n)},function(e,r,t){"use strict";var o=t(6)();e.exports=function(e){return"string"==typeof e?e.replace(o,""):e}},function(e,r,t){"use strict";(function(r){var t=r.argv,o=t.indexOf("--"),n=function(e){e="--"+e;var r=t.indexOf(e);return-1!==r&&(-1===o||r<o)};e.exports=function(){return"FORCE_COLOR"in r.env||!(n("no-color")||n("no-colors")||n("color=false"))&&(!!(n("color")||n("colors")||n("color=true")||n("color=always"))||!(r.stdout&&!r.stdout.isTTY)&&("win32"===r.platform||("COLORTERM"in r.env||"dumb"!==r.env.TERM&&!!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(r.env.TERM))))}()}).call(r,t(8))},function(e,r,t){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,r,t){"use strict";function o(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.Solver=void 0;var i=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),a=t(1),u=t(11),c=t(13),s=t(14),l=t(15),f=t(0),v=t(3),m=function(){function e(r,t){var o=this;if(n(this,e),r instanceof a.RubiksCube)this.cube=r;else{if("string"!=typeof r)throw new Error('"cubeState" is not a valid cubeState. Please provide a list of scramble moves or a string representing a cube state');r.split(" ").length>1||r.length<=6?(this.cube=a.RubiksCube.Solved(),this.cube.move(r)):this.cube=new a.RubiksCube(r)}this.options=t,this.phases=["cross","f2l","oll","pll"],this.progress={},this.phases.forEach(function(e){return o.progress[e]=[]});var i=function(e,r){o._updateProgress(e,r)};this.currentPhase=null,this.currentSolver=null,this.crossSolver=new u.CrossSolver(this.cube,this.options),this.f2lSolver=new c.F2LSolver(this.cube,this.options),this.ollSolver=new s.OLLSolver(this.cube,this.options),this.pllSolver=new l.PLLSolver(this.cube,this.options),this.afterEach("all",i)}return i(e,[{key:"afterEach",value:function(e,r){if("function"==typeof e?(r=e,e="all"):"string"==typeof e&&(e="all"===e?this.phases.slice():[e]),"function"!=typeof r)throw new Error('"afterEach" callback is not a function.');var t=!0,o=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value;if(!this.phases.includes(u))throw new Error('Phase "'+u+'" isn\'t recognized. Please specify "cross", "f2l", "oll", "pll", or "all".')}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}var c=!0,s=!1,l=void 0;try{for(var f,v=e[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){this[f.value+"Solver"].afterEach(r)}}catch(e){s=!0,l=e}finally{try{!c&&v.return&&v.return()}finally{if(s)throw l}}}},{key:"solve",value:function(){this.currentPhase="cross",this.currentSolver=this.crossSolver,this.crossSolver.solve(),this.currentPhase="f2l",this.currentSolver=this.f2lSolver,this.f2lSolver.solve(),this.currentPhase="oll",this.currentSolver=this.ollSolver,this.ollSolver.solve(),this.currentPhase="pll",this.currentSolver=this.pllSolver,this.pllSolver.solve()}},{key:"getMoves",value:function(){var e=this,r=[];return Object.keys(this.progress).forEach(function(t){e.progress[t].forEach(function(e){var t;return(t=r).push.apply(t,o(e.moves))})}),r=(0,f.normalizeNotations)(r),r.join(" ")}},{key:"getPartitions",value:function(){var e=this,r={};return Object.keys(this.progress).forEach(function(t){var o=e.progress[t];if(1===o.length)r[t]=(0,v.algorithmShortener)(o[0].moves);else{var n=[];e.progress[t].forEach(function(e){n.push((0,v.algorithmShortener)(e.moves))}),r[t]=n}}),r}},{key:"isCrossEdgeSolved",value:function(e){return this.crossSolver.isEdgeSolved(e)}},{key:"isF2LPairSolved",value:function(e){var r=e.corner,t=e.edge;return this.f2lSolver.isPairSolved({corner:r,edge:t})}},{key:"isOLLSolved",value:function(){return this.ollSolver.isSolved()}},{key:"isPLLSolved",value:function(){return this.pllSolver.isSolved()}},{key:"_updateProgress",value:function(e,r){this.progress[r].push(e)}}]),e}();r.Solver=m},function(e,r,t){"use strict";var o=t(16),n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(o),i=n.default;delete n.default,Object.assign(i,n),e.exports=i},function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function i(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0}),r.Case1Solver=void 0;var a=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),u=t(1),c=t(5),s=t(0),l=function(e){return u.RubiksCube.reverseMoves(e)},f=function(e){function r(){return o(this,r),n(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return i(r,e),a(r,[{key:"_getCaseNumber",value:function(e){var r=e.corner,t=e.edge;if(this.isPairMatched({corner:r,edge:t}))return 1;if(this.isPairSeparated({corner:r,edge:t}))return 2;var o=void 0;t.faces().forEach(function(e){r.faces().includes(e)&&"down"!==e&&(o=e)});var n=r.colors().find(function(e){return"u"!==e&&e!==r.getColorOfFace("down")}),i=t.colors().find(function(e){return"down"!==t.getFaceOfColor(e)});return"down"===r.getFaceOfColor("u")?o?r.getColorOfFace(o)===t.getColorOfFace(o)?3:4:5:n===i?o?6:7:o?o===r.getFaceOfColor("u")?8:9:10}},{key:"_solveCase1",value:function(e){var r=e.corner,t=e.edge;return this.solveMatchedPair({corner:r,edge:t})}},{key:"_solveCase2",value:function(e){var r=e.corner,t=e.edge;return this.solveSeparatedPair({corner:r,edge:t})}},{key:"_solveCase3",value:function(e){var r=e.corner,t=e.edge,o=t.faces().find(function(e){return"down"!==e}),n=(0,s.getFaceOfMove)(t.getColorOfFace("down")),i=(0,s.getFaceFromDirection)(n,"back",{up:"down"}),a=r.getFaceOfColor(t.getColorOfFace("down")),u="left"===(0,s.getFaceFromDirection)(o,a,{up:"down"}),c=(0,s.getRotationFromTo)("down",o,i),f=(0,s.getFaceOfMove)(t.getColorOfFace(o)),v=u?"D":"DPrime";f=u?f:l(f);var m=c+" "+f+" "+f+" D D ";m+=f+" "+v+" "+l(f)+" "+v+" "+f+" "+f,this.move(m,{upperCase:!0})}},{key:"_solveCase4",value:function(e){var r=e.corner,t=e.edge,o=t.faces().find(function(e){return"down"!==e}),n=(0,s.getFaceOfMove)(t.getColorOfFace(o)),i=r.faces().find(function(e){return!t.faces().includes(e)}),a="left"===(0,s.getFaceFromDirection)(i,o,{up:"down"}),u=(0,s.getRotationFromTo)("down",o,n),c=(0,s.getMoveOfFace)(n);c=a?l(c):c,this.move(u+" "+c+" D D "+l(c),{upperCase:!0}),this.solveSeparatedPair({corner:r,edge:t})}},{key:"_solveCase5",value:function(e){var r=e.corner,t=e.edge,o=t.colors().find(function(e){return"down"!==t.getFaceOfColor(e)}),n=t.colors().find(function(e){return"down"===t.getFaceOfColor(e)}),i="right"===(0,s.getFaceFromDirection)((0,s.getFaceOfMove)(o),(0,s.getFaceOfMove)(n),{up:"down"}),a=t.getFaceOfColor(o),u=(0,s.getFaceOfMove)(o),c=(0,s.getRotationFromTo)("down",a,u);this.move(c,{upperCase:!0});var f=r.getFaceOfColor(o),v=u,m=(0,s.getRotationFromTo)("down",f,v),h=i?l(u):u;this.move(h+" "+m+" "+l(h),{upperCase:!0}),this.solveMatchedPair({corner:r,edge:t})}},{key:"_solveCase6",value:function(e){var r=e.corner,t=e.edge,o=t.colors().find(function(e){return"down"!==t.getFaceOfColor(e)}),n=t.getFaceOfColor(o),i=(0,s.getFaceOfMove)(t.getColorOfFace("down")),a="left"===(0,s.getDirectionFromFaces)(n,r.getFaceOfColor(o),{up:"down"}),u=(0,s.getRotationFromTo)("down",n,i),c=a?i:l(i),f=a?"DPrime":"D";this.move(u+" "+c+" "+f+" "+l(c),{upperCase:!0}),this.solveSeparatedPair({corner:r,edge:t})}},{key:"_solveCase7",value:function(e){var r=e.corner,t=e.edge,o=t.colors().find(function(e){return"down"!==t.getFaceOfColor(e)}),n=r.getFaceOfColor("u"),i=(0,s.getFaceOfMove)(o),a="left"===(0,s.getDirectionFromFaces)(r.getFaceOfColor(o),r.getFaceOfColor("u"),{up:"down"}),u=(0,s.getRotationFromTo)("down",n,i);this.move(u,{upperCase:!0});var c=t.getFaceOfColor(o),f=r.getFaceOfColor(o),v=a?r.getFaceOfColor("u"):l(r.getFaceOfColor("u")),m=(0,s.getRotationFromTo)("down",c,f);this.move(v+" "+m+" "+l(v),{upperCase:!0}),this.solveMatchedPair({corner:r,edge:t})}},{key:"_solveCase8",value:function(e){var r=e.corner,t=e.edge,o=t.colors().find(function(e){return"down"!==t.getFaceOfColor(e)}),n=t.colors().find(function(e){return"down"===t.getFaceOfColor(e)}),i=r.getFaceOfColor(n),a=(0,s.getFaceOfMove)(o),u="left"===(0,s.getDirectionFromFaces)(i,r.getFaceOfColor("u"),{up:"down"}),c=(0,s.getRotationFromTo)("down",i,a),f=u?l(a):a,v=u?"D":"DPrime";this.move(c+" "+f+" "+v+" "+l(f),{upperCase:!0}),this.solveSeparatedPair({corner:r,edge:t})}},{key:"_solveCase9",value:function(e){var r=e.corner,t=e.edge,o=t.colors().find(function(e){return"down"===t.getFaceOfColor(e)}),n=r.getFaceOfColor("u"),i=(0,s.getFaceOfMove)(o),a="left"===(0,s.getDirectionFromFaces)(r.getFaceOfColor(o),n,{up:"down"}),u=(0,s.getRotationFromTo)("down",n,i),c=a?i:l(i);this.move(u+" "+c+" D D "+l(c),{upperCase:!0}),this.solveSeparatedPair({corner:r,edge:t})}},{key:"_solveCase10",value:function(e){var r=e.corner,t=e.edge,o=t.colors().find(function(e){return"down"!==t.getFaceOfColor(e)}),n=t.colors().find(function(e){return"down"===t.getFaceOfColor(e)}),i=r.getFaceOfColor("u"),a=(0,s.getFaceOfMove)(n),u="left"===(0,s.getDirectionFromFaces)(r.getFaceOfColor(n),r.getFaceOfColor("u"),{up:"down"}),c=(0,s.getRotationFromTo)("down",i,a);this.move(c,{upperCase:!0});var f=t.getFaceOfColor(o),v=(0,s.getFaceOfMove)(o),m=u?a:l(a),h=(0,s.getRotationFromTo)("down",f,v);this.move(m+" "+h+" "+l(m),{upperCase:!0}),this.solveSeparatedPair({corner:r,edge:t})}}]),r}(c.F2LCaseBaseSolver);r.Case1Solver=f},function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function i(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0}),r.Case2Solver=void 0;var a=function(){function e(e,r){var t=[],o=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(t.push(a.value),!r||t.length!==r);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),c=t(1),s=t(5),l=t(0),f=function(e){return c.RubiksCube.reverseMoves(e)},v=function(e){function r(){return o(this,r),n(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return i(r,e),u(r,[{key:"_getCaseNumber",value:function(e){var r=e.corner,t=e.edge,o=r.faces().filter(function(e){return"down"!==e}),n=t.faces(),i=(0,l.getDirectionFromFaces)(o[0],o[1],{up:"down"}),a=(0,l.getDirectionFromFaces)(n[0],n[1],{up:"down"}),u="right"===i?o[1]:o[0],c="right"===a?n[1]:n[0];if("down"===r.getFaceOfColor("u"))return r.getColorOfFace(u)===t.getColorOfFace(c)?1:2;var s=r.colors().find(function(e){return"u"!==e&&e!==r.getColorOfFace("down")});return s===("left"===(0,l.getDirectionFromFaces)(r.getFaceOfColor(s),r.getFaceOfColor("u"),{up:"down"})?t.getColorOfFace(c):t.colors().find(function(e){return t.getFaceOfColor(e)!==c}))?3:4}},{key:"_solveCase1",value:function(e){var r=e.corner,t=e.edge,o=t.colors()[0],n=r.getFaceOfColor(o),i=t.getFaceOfColor(o),u=(0,l.getRotationFromTo)("down",n,i);this.move(u,{upperCase:!0});var c=t.faces(),s=a(c,2),v=s[0],m=s[1],h=(0,l.getDirectionFromFaces)(v,m,{up:"down"}),p="right"===h?m:v;this.move(p+" DPrime "+f(p),{upperCase:!0}),this.solveMatchedPair({corner:r,edge:t})}},{key:"_solveCase2",value:function(e){var r=e.corner,t=e.edge,o=r.getFaceOfColor(t.colors()[0]),n=t.getFaceOfColor(t.colors()[1]),i=(0,l.getRotationFromTo)("down",o,n);this.move(i,{upperCase:!0});var a=(0,l.getDirectionFromFaces)(t.faces()[0],t.faces()[1],{up:"down"}),u=t.faces()["right"===a?1:0];this.move(u+" D "+f(u)+" DPrime",{upperCase:!0}),this.move(u+" D "+f(u),{upperCase:!0}),this.solveSeparatedPair({corner:r,edge:t})}},{key:"_solveCase3",value:function(e){var r=e.corner,t=e.edge;this._case3And4Helper({corner:r,edge:t},3)}},{key:"_solveCase4",value:function(e){var r=e.corner,t=e.edge;this._case3And4Helper({corner:r,edge:t},4)}},{key:"_case3And4Helper",value:function(e,r){var t=e.corner,o=e.edge,n=t.getColorOfFace("down"),i=t.colors().find(function(e){return![n,"u"].includes(e)}),a=3===r?i:n,u="left"===(0,l.getDirectionFromFaces)(t.getFaceOfColor(i),t.getFaceOfColor("u"),{up:"down"}),c=t.getFaceOfColor("u"),s=o.getFaceOfColor(a),v=(0,l.getRotationFromTo)("down",c,s),m=u?s:f(s),h=u?"DPrime":"D";h=4===r?f(h):h,this.move(v+" "+m+" "+h+" "+f(m),{upperCase:!0}),this["solve"+(3===r?"Matched":"Separated")+"Pair"]({corner:t,edge:o})}}]),r}(s.F2LCaseBaseSolver);r.Case2Solver=v},function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function i(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0}),r.Case3Solver=void 0;var a=function(){function e(e,r){var t=[],o=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(t.push(a.value),!r||t.length!==r);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),c=t(1),s=t(5),l=t(0),f=function(e){return c.RubiksCube.reverseMoves(e)},v=function(e){function r(){return o(this,r),n(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return i(r,e),u(r,[{key:"_getCaseNumber",value:function(e){var r=e.corner;e.edge;return"u"===r.getColorOfFace("up")?1:2}},{key:"_solveCase1",value:function(e){var r=e.corner,t=e.edge,o=r.faces().filter(function(e){return"up"!==e}),n=(0,l.getDirectionFromFaces)(o[0],o[1],{up:"down"}),i="right"===n?o:o.reverse(),u=a(i,2),c=u[0],s=u[1],v=t.faces().find(function(e){return"down"!==e}),m=t.getColorOfFace(v),h=(0,l.getFaceFromDirection)(r.getFaceOfColor(m),m===r.getColorOfFace(s)?"right":"left",{up:"down"}),p=m===r.getColorOfFace(c),g=(0,l.getRotationFromTo)("down",v,h),d=p?s:f(c),y=p?"DPrime":"D";this.move(g+" "+d+" "+y+" "+f(d),{upperCase:!0}),this.solveMatchedPair({corner:r,edge:t})}},{key:"_solveCase2",value:function(e){var r=e.corner,t=e.edge,o=r.colors().find(function(e){return"u"!==e&&"up"!==r.getFaceOfColor(e)}),n=t.faces().find(function(e){return"down"!==e}),i=t.getColorOfFace(n),a=o!==i,u=r.getFaceOfColor(a?o:"u"),c=(0,l.getRotationFromTo)("down",n,u),s="left"===(0,l.getDirectionFromFaces)(r.getFaceOfColor(o),r.getFaceOfColor("u"),{up:"down"}),v=s?"DPrime":"D",m=r.getFaceOfColor("u");m=s?f(m):m,this.move(c+" "+m+" "+v+" "+f(m),{upperCase:!0}),this["solve"+(a?"Matched":"Separated")+"Pair"]({corner:r,edge:t})}}]),r}(s.F2LCaseBaseSolver);r.Case3Solver=v}])});
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL0FwcERhdGEvUm9hbWluZy9ucG0vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIm15c2NyaXB0cy5qcyIsIm5vZGVfbW9kdWxlcy9ydWJpa3MtY3ViZS1zb2x2ZXIvbGliL2luZGV4LmNvbW1vbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5WUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvLyAtLS1Qcm9qZWN0IERyb3Bkb3duIE1lbnUtLS0gLy9cclxudmFyIERyb3Bkb3duQ29sbGVjdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIlByb2pjZXQtRHJvcERvd25CdXR0b25cIilcclxuZm9yIChsZXQgaSA9IDA7IGkgPCBEcm9wZG93bkNvbGxlY3Rvci5sZW5ndGg7IGkrKyl7XHJcbiAgICBEcm9wZG93bkNvbGxlY3RvcltpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwiUHJvamVjdC1BY3RpdmVEcm9wRG93bkJ1dHRvblwiKVxyXG4gICAgICAgIHZhciBwYW5lbCA9IHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgIHZhciBpbWFnZSA9IHRoaXMuY2hpbGROb2Rlc1s1XS5jaGlsZE5vZGVzWzNdLmNoaWxkTm9kZXNbMV1cclxuICAgICAgICBpZiAocGFuZWwuc3R5bGUubWF4SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHBhbmVsLnN0eWxlLm1heEhlaWdodCA9IG51bGw7XHJcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IFwiaW1hZ2VzL3BpY3R1cmVzL2Ryb3Bkb3duL0RkcERvd25PcmFuZ2UucG5nXCJcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwYW5lbC5zdHlsZS5tYXhIZWlnaHQgPSBwYW5lbC5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IFwiaW1hZ2VzL3BpY3R1cmVzL2Ryb3Bkb3duL0RkcFVwTGlnaHQucG5nXCJcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG4vLyAtLS1TdGlja3kgTmF2QmFyLS0tIC8vXHJcbi8vIEdldCB0aGUgbmF2YmFyXHJcbnZhciBOYXZCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIk5hdkJhci1TZWN0aW9uXCIpO1xyXG5cclxuLy8gdGhlcmUgc2hvdWxkIG9ubHkgYmUgMSBtYWluIHNlY3Rpb25cclxudmFyIE1haW5TZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIk1haW4tU2VjdGlvblwiKVswXTtcclxuXHJcblxyXG5cclxuLy8gR2V0IHRoZSBvZmZzZXQgcG9zaXRpb24gb2YgdGhlIG5hdmJhclxyXG52YXIgUG9zU3RpY2t5U3RhcnQgPSBOYXZCYXIub2Zmc2V0VG9wO1xyXG5cclxuLy8gQWRkIHRoZSBzdGlja3kgY2xhc3MgdG8gdGhlIG5hdmJhciB3aGVuIHlvdSByZWFjaCBpdHMgc2Nyb2xsIHBvc2l0aW9uLiBSZW1vdmUgXCJzdGlja3lcIiB3aGVuIHlvdSBsZWF2ZSB0aGUgc2Nyb2xsIHBvc2l0aW9uXHJcbmZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7XHJcbiAgICBpZiAod2luZG93LnBhZ2VZT2Zmc2V0ID49IFBvc1N0aWNreVN0YXJ0KSB7XHJcbiAgICBOYXZCYXIuY2xhc3NMaXN0LmFkZChcIk5hdkJhci1TdGlja3lOYXZCYXJcIik7XHJcbiAgICBNYWluU2VjdGlvbi5zdHlsZS5tYXJnaW5Ub3AgPSBcInZhcigtLU5hdkJhckhlaWdodClcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICBOYXZCYXIuY2xhc3NMaXN0LnJlbW92ZShcIk5hdkJhci1TdGlja3lOYXZCYXJcIik7XHJcbiAgICBNYWluU2VjdGlvbi5zdHlsZS5tYXJnaW5Ub3AgPSBcIjBjbVwiO1xyXG4gICAgfVxyXG59XHJcbiAgXHJcbi8vIFdoZW4gdGhlIHVzZXIgc2Nyb2xscyB0aGUgcGFnZSwgZXhlY3V0ZSBteUZ1bmN0aW9uXHJcbndpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge215RnVuY3Rpb24oKX07XHJcblxyXG5cclxuXHJcbi8vIC8vIEdldCB0aGUgbmF2YmFyXHJcbi8vIHZhciBOYXZCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiTmF2QmFyLVNlY3Rpb25cIik7XHJcblxyXG4vLyAvLyBHZXQgdGhlIG9mZnNldCBwb3NpdGlvbiBvZiB0aGUgbmF2YmFyXHJcbi8vIHZhciBQb3NTdGlja3lTdGFydCA9IE5hdkJhci5vZmZzZXRUb3A7XHJcblxyXG4vLyBBZGQgdGhlIHN0aWNreSBjbGFzcyB0byB0aGUgbmF2YmFyIHdoZW4geW91IHJlYWNoIGl0cyBzY3JvbGwgcG9zaXRpb24uIFJlbW92ZSBcInN0aWNreVwiIHdoZW4geW91IGxlYXZlIHRoZSBzY3JvbGwgcG9zaXRpb25cclxuZnVuY3Rpb24gbXlGdW5jdGlvbigpIHtcclxuICBpZiAod2luZG93LnBhZ2VZT2Zmc2V0ID49IFBvc1N0aWNreVN0YXJ0KSB7XHJcbiAgICBOYXZCYXIuY2xhc3NMaXN0LmFkZChcIk5hdkJhci1TdGlja3lOYXZCYXJcIik7XHJcbiAgICBNYWluU2VjdGlvbi5zdHlsZS5tYXJnaW5Ub3AgPSBcInZhcigtLU5hdkJhckhlaWdodClcIjtcclxuICB9IGVsc2Uge1xyXG4gICAgTmF2QmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJOYXZCYXItU3RpY2t5TmF2QmFyXCIpO1xyXG4gICAgTWFpblNlY3Rpb24uc3R5bGUubWFyZ2luVG9wID0gXCIwY21cIjtcclxuICB9XHJcbn1cclxuLy8gV2hlbiB0aGUgdXNlciBzY3JvbGxzIHRoZSBwYWdlLCBleGVjdXRlIG15RnVuY3Rpb25cclxud2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7bXlGdW5jdGlvbigpfTtcclxuXHJcbi8vIFRMOiBOZXcgVGVtcGlucHV0XHJcbnZhciB0ZW1waW5wdXQgPSBbW1s2LDYsNl0sWzYsNSw2XSxbNiw2LDZdXSxbWzYsNiw2XSxbNiwzLDZdLFs2LDYsNl1dLFtbNiw2LDZdLFs2LDIsNl0sWzYsNiw2XV0sW1s2LDYsNl0sWzYsMSw2XSxbNiw2LDZdXSxbWzYsNiw2XSxbNiwwLDZdLFs2LDYsNl1dLFtbNiw2LDZdLFs2LDQsNl0sWzYsNiw2XV1dXHJcbi8vIFxyXG5cclxuXHJcbi8vIHZhciB0ZW1waW5wdXQgPSBbW1swLDUsMF0sWzAsNSwwXSxbMCw1LDBdXSxbWzAsMywwXSxbMCwzLDBdLFswLDMsMF1dLFtbMCwyLDBdLFswLDIsMF0sWzAsMiwwXV0sW1swLDEsMF0sWzAsMSwwXSxbMCwxLDBdXSxbWzAsMCwwXSxbMCwwLDBdLFswLDAsMF1dLFtbMCw0LDBdLFswLDQsMF0sWzAsNCwwXV1dXHJcbnZhciBvdXRmbGFnID0gZmFsc2VcclxudmFyIEdJQ29sbGVjdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIkdyaWQtSXRlbVwiKTtcclxudmFyIHNvbHZlcmJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiU29sdmVyLUJ1dHRvbi1XcmFwcGVyXCIpO1xyXG5cclxuc29sdmVyYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbmZvciAobGV0IGkgPSAwOyBpIDwgR0lDb2xsZWN0b3IubGVuZ3RoOyBpKyspeyBcclxuICBHSUNvbGxlY3RvcltpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICBcclxuICAgICAgbGV0IG91dCA9IGNoYW5nZShpKVxyXG4gICAgICBjaGFuZ2VpbnB1dChvdXRbMF0sb3V0WzFdLG91dFsyXSwxKVxyXG4gICAgICBjdXJyY29sID0gdGVtcGlucHV0W291dFswXV1bb3V0WzFdXVtvdXRbMl1dXHJcblxyXG4gICAgICAvL3IsIG8sIGIsIGcsIHcsIHlcclxuICAgICAgaWYgKGN1cnJjb2w9PTYpe1xyXG4gICAgICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmV5XCJcclxuICAgICAgfSBlbHNlIGlmIChjdXJyY29sPT0wKSB7XHJcbiAgICAgICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiXHJcbiAgICAgIH0gZWxzZSBpZiAoY3VycmNvbD09MSkge1xyXG4gICAgICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJibHVlXCJcclxuICAgICAgfSBlbHNlIGlmIChjdXJyY29sPT0yKSB7XHJcbiAgICAgICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZWVuXCJcclxuICAgICAgfSBlbHNlIGlmIChjdXJyY29sPT0zKSB7XHJcbiAgICAgICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIm9yYW5nZVwiXHJcbiAgICAgIH0gZWxzZSBpZiAoY3VycmNvbD09NCkge1xyXG4gICAgICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ5ZWxsb3dcIlxyXG4gICAgICB9IGVsc2UgaWYgKGN1cnJjb2w9PTUpIHtcclxuICAgICAgICB0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tTGlnaHRPZmZXaGl0ZSlcIlxyXG4gICAgICB9XHJcblxyXG4gICAgICBjaGVja2lucHV0KClcclxuICAgICAgaWYgKG91dGZsYWcgPT0gdHJ1ZSl7XHJcbiAgICAgICAgc29sdmVyYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzb2x2ZXJidXR0b24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxyXG4gICAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlKG4pe1xyXG4gIGZhY2UgPSBNYXRoLmZsb29yKG4vOSlcclxuICBibG9ja251bSA9IG4lOVxyXG4gIHggPSBNYXRoLmZsb29yKGJsb2NrbnVtLzMpXHJcbiAgeSA9IGJsb2NrbnVtJTNcclxuICByZXR1cm4gW2ZhY2UsIHgsIHldXHJcbn0gXHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VpbnB1dChmYWNlLCB4LCB5LCBjb2xjaGFuZ2Upe1xyXG4gIGlmICghKHg9PTEgJiYgeT09MSkpe1xyXG4gICAgbGV0IGNvbG9yID0gdGVtcGlucHV0W2ZhY2VdW3hdW3ldXHJcbiAgICBpZiAoY29sb3IgPT0gNil7XHJcbiAgICAgIHRlbXBpbnB1dFtmYWNlXVt4XVt5XSA9IDBcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRlbXBpbnB1dFtmYWNlXVt4XVt5XSA9ICh0ZW1waW5wdXRbZmFjZV1beF1beV0rY29sY2hhbmdlKSU2XHJcbiAgICB9IFxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tpbnB1dCgpXHJcbntcclxuICBmb3IgKGxldCBqID0gMDsgaiA8IEdJQ29sbGVjdG9yLmxlbmd0aDsgaisrKSB7XHJcbiAgICBvdXQgPSBjaGFuZ2UoailcclxuICAgIHZhbCA9IDBcclxuICAgIGlmICh0ZW1waW5wdXRbb3V0WzBdXVtvdXRbMV1dW291dFsyXV09PTYpIHtcclxuICAgICAgdmFsICs9MVxyXG4gICAgfVxyXG4gICAgaWYgKHZhbCAhPSAwKXtcclxuICAgICAgb3V0ZmxhZyA9IGZhbHNlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvdXRmbGFnID0gdHJ1ZVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gZ2V0IG1vZGFsXHJcbnZhciBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiTW9kYWxcIik7XHJcblxyXG4vL3ZhciBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlNvbHZlci1CdXR0b24tV3JhcHBlclwiKTtcclxuXHJcbnZhciBzcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNsb3NlXCIpWzBdO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxyXG52YXIgc29sdmVNb3Zlc0FycmF5ID0gW107XHJcblxyXG5mdW5jdGlvbiBTb2x2ZXNDdWJlKClcclxue1xyXG4gIGNvbnN0IHNvbHZlciA9IHJlcXVpcmUoJ3J1Ymlrcy1jdWJlLXNvbHZlcicpO1xyXG4gIGxldCBjdWJlU3RhdGUgPSB0ZW1waW5wdXQuam9pbignJykuc3BsaXQoXCIsXCIpLmpvaW4oXCJcIik7XHJcbiAgY3ViZVN0YXRlID0gY3ViZVN0YXRlLnJlcGxhY2UoLzAvZywnbCcpLnJlcGxhY2UoLzEvZywnZCcpLnJlcGxhY2UoLzIvZywndScpLnJlcGxhY2UoLzMvZywncicpLnJlcGxhY2UoLzQvZywnYicpLnJlcGxhY2UoLzUvZywnZicpO1xyXG4gIGNvbnNvbGUubG9nKGN1YmVTdGF0ZSk7XHJcblxyXG4gIC8qY3ViZVN0YXRlID0gW1xyXG4gICAgJ2ZsdWxmYmRkcicsIC8vIGZyb250XHJcbiAgICAncnVkcnJ1ZGRsJywgLy8gcmlnaHRcclxuICAgICdkYmJidXJyZmInLCAvLyB1cFxyXG4gICAgJ2xsZmZkcnViZicsIC8vIGRvd25cclxuICAgICdybHVkbHVicmYnLCAvLyBsZWZ0XHJcbiAgICAnbHViZmJmdWRsJyAvLyBiYWNrXHJcbiAgXS5qb2luKCcnKTsqL1xyXG5cclxuICAvLyBUZW1wXHJcbiAgY3ViZVN0YXRlID0gXCJmZmRmZmRmZmRycnJycnJycnJ1dWZ1dWZ1dWZkZGJkZGJkZGJsbGxsbGxsbGx1YmJ1YmJ1YmJcIjtcclxuICAvLyBcclxuXHJcbiAgbGV0IHNvbHZlTW92ZXMgPSBzb2x2ZXIoY3ViZVN0YXRlKS5yZXBsYWNlKC9wcmltZS9nLCAnLScpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc29sdmVNb3Zlcy5sZW5ndGg7IGkrKykgXHJcbiAge1xyXG4gICAgaWYgKHNvbHZlTW92ZXNbaV0gPT0gJzInKSBcclxuICAgIHtcclxuICAgICAgc29sdmVNb3ZlcyA9IHNvbHZlTW92ZXMuc3Vic3RyaW5nKDAsIGkpICsgXCIgXCIgKyBzb2x2ZU1vdmVzW2ktMV0gKyBzb2x2ZU1vdmVzLnN1YnN0cmluZyhpKzEpO1xyXG4gICAgfVxyXG4gIH1cclxuICBzb2x2ZU1vdmVzQXJyYXkgPSBzb2x2ZU1vdmVzLnNwbGl0KCcgJylcclxuICBjb25zb2xlLmxvZyhzb2x2ZU1vdmVzQXJyYXkpO1xyXG59XHJcblxyXG5zb2x2ZXJidXR0b24ub25jbGljayA9IGZ1bmN0aW9uKCkgXHJcbntcclxuICBTb2x2ZXNDdWJlKClcclxuICBTaG93U3RlcChjdXJyc3RlcClcclxuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG59XHJcblxyXG5zcGFuLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbn1cclxuXHJcbndpbmRvdy5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICBpZiAoZXZlbnQudGFyZ2V0ID09IG1vZGFsKSB7XHJcbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfVxyXG59XHJcblxyXG4vL3ZhciBzb2x1dGlvbiA9IFtcIlJcIixcIlVcIixcIkJcIixcIkRcIl1cclxuXHJcbi8vIGRpc3BsYXlcclxudmFyIGN1cnJzdGVwID0gMVxyXG5cclxuXHJcbmZ1bmN0aW9uIFN0ZXBVcChuKXtcclxuICBTaG93U3RlcChjdXJyc3RlcCs9bilcclxufVxyXG5cclxuLy9mZmRmZmRmZmRycnJycnJycnJ1dWZ1dWZ1dWZkZGJkZGJkZGJsbGxsbGxsbGx1YmJ1YmJ1YmJcclxuXHJcbi8vIGZ1bmN0aW9uIHBsdXNTbGlkZXMobikge1xyXG4vLyAgIFNob3dTdGVwKHNsaWRlSW5kZXggKz0gbik7XHJcbi8vIH1cclxuXHJcbmZ1bmN0aW9uIFNob3dTdGVwKGkpIHtcclxuICBsZXQgbGVuID0gc29sdmVNb3Zlc0FycmF5Lmxlbmd0aFxyXG5cclxuICB2YXIgTUdDb2xsZWN0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiTW9kYWwtR3JpZC1JdGVtc1wiKTtcclxuICB2YXIgTUxlZnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1sZWZ0XCIpO1xyXG4gIHZhciBNUmlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1yaWdodFwiKTtcclxuICB2YXIgTURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGlvblwiKTtcclxuICB2YXIgTUJnYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWJnY1wiKTtcclxuICB2YXIgdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGV4dFwiKTtcclxuXHJcbiAgLy8gRm9ybWF0IGlcclxuICBpZiAoaT49bGVuKXtjdXJyc3RlcD1sZW47IGk9bGVuO01SaWdodC5zdHlsZS5vcGFjaXR5PTB9XHJcbiAgZWxzZSBpZiAoaTw9MSl7Y3VycnN0ZXA9MTsgaT0xO01MZWZ0LnN0eWxlLm9wYWNpdHk9MH1cclxuICBlbHNlIHtNUmlnaHQuc3R5bGUub3BhY2l0eT0xOyBNTGVmdC5zdHlsZS5vcGFjaXR5PTF9XHJcbiAgdmFyIE1Db2RlID0gc29sdmVNb3Zlc0FycmF5W2ktMV1cclxuXHJcblxyXG4gIC8vIHN0ZXBzXHJcbiAgdGV4dC50ZXh0Q29udGVudCA9IGN1cnJzdGVwICsgXCIvXCIgKyBsZW47XHJcbiAgTURpc3BsYXkudGV4dENvbnRlbnQgPSBNQ29kZTtcclxuICBmb3IgKGo9MDtqPE1HQ29sbGVjdG9yLmxlbmd0aDtqKyspe1xyXG4gICAgTUdDb2xsZWN0b3Jbal0udGV4dENvbnRlbnQgPVwiXCI7XHJcbiAgfVxyXG5cclxuICBpZihpPT0xKSB7XHJcbiAgICBNQmdjLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cInZhcigtLUxpZ2h0T2ZmV2hpdGUpXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxMl0udGV4dENvbnRlbnQgPSBcIldcIjtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBNQmdjLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cImxpZ2h0Z3JheVwiO1xyXG4gIH1cclxuXHJcbiAgLy8gY3Vyc2VkIGJpdFxyXG4gIGlmIChNQ29kZSA9PT0gXCJSXCIpIHtcclxuICAgIE1HQ29sbGVjdG9yWzRdLnRleHRDb250ZW50ID0gXCIwXCI7XHJcbiAgICBNR0NvbGxlY3Rvcls4XS50ZXh0Q29udGVudCA9IFwi4oaRXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxM10udGV4dENvbnRlbnQgPSBcIuKGkVwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMThdLnRleHRDb250ZW50ID0gXCLihpFcIjtcclxuICB9IGVsc2UgaWYgKE1Db2RlID09PSBcIlItXCIpIHtcclxuICAgIE1HQ29sbGVjdG9yWzRdLnRleHRDb250ZW50ID0gXCIwXCI7XHJcbiAgICBNR0NvbGxlY3Rvcls4XS50ZXh0Q29udGVudCA9IFwi4oaTXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxM10udGV4dENvbnRlbnQgPSBcIuKGk1wiO1xyXG4gICAgTUdDb2xsZWN0b3JbMThdLnRleHRDb250ZW50ID0gXCLihpNcIjtcclxuICB9IGVsc2UgaWYgKE1Db2RlID09PSBcIk1cIikge1xyXG4gICAgTUdDb2xsZWN0b3JbNF0udGV4dENvbnRlbnQgPSBcIjBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzddLnRleHRDb250ZW50ID0gXCLihpFcIjtcclxuICAgIE1HQ29sbGVjdG9yWzEyXS50ZXh0Q29udGVudCA9IFwi4oaRXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxN10udGV4dENvbnRlbnQgPSBcIuKGkVwiO1xyXG4gIH0gZWxzZSBpZiAoTUNvZGUgPT09IFwiTS1cIikge1xyXG4gICAgTUdDb2xsZWN0b3JbNF0udGV4dENvbnRlbnQgPSBcIjBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzddLnRleHRDb250ZW50ID0gXCLihpNcIjtcclxuICAgIE1HQ29sbGVjdG9yWzEyXS50ZXh0Q29udGVudCA9IFwi4oaTXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxN10udGV4dENvbnRlbnQgPSBcIuKGk1wiO1xyXG4gIH0gZWxzZSBpZiAoTUNvZGUgPT09IFwiTFwiKSB7XHJcbiAgICBNR0NvbGxlY3Rvcls0XS50ZXh0Q29udGVudCA9IFwiMFwiO1xyXG4gICAgTUdDb2xsZWN0b3JbNl0udGV4dENvbnRlbnQgPSBcIuKGk1wiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTFdLnRleHRDb250ZW50ID0gXCLihpNcIjtcclxuICAgIE1HQ29sbGVjdG9yWzE2XS50ZXh0Q29udGVudCA9IFwi4oaTXCI7XHJcbiAgfSBlbHNlIGlmIChNQ29kZSA9PT0gXCJMLVwiKSB7XHJcbiAgICBNR0NvbGxlY3Rvcls0XS50ZXh0Q29udGVudCA9IFwiMFwiO1xyXG4gICAgTUdDb2xsZWN0b3JbNl0udGV4dENvbnRlbnQgPSBcIuKGkVwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTFdLnRleHRDb250ZW50ID0gXCLihpFcIjtcclxuICAgIE1HQ29sbGVjdG9yWzE2XS50ZXh0Q29udGVudCA9IFwi4oaRXCI7XHJcbiAgfVxyXG4gIGlmIChNQ29kZSA9PT0gXCJGXCIpXHJcbiAge1xyXG4gICAgTUdDb2xsZWN0b3JbNF0udGV4dENvbnRlbnQgPSBcIjBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzddLnRleHRDb250ZW50ID0gXCLihpJcIjtcclxuICAgIE1HQ29sbGVjdG9yWzExXS50ZXh0Q29udGVudCA9IFwi4oaRXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxM10udGV4dENvbnRlbnQgPSBcIuKGk1wiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTddLnRleHRDb250ZW50ID0gXCLihpBcIjtcclxuICB9XHJcbiAgaWYgKE1Db2RlID09PSBcIkYtXCIpXHJcbiAge1xyXG4gICAgTUdDb2xsZWN0b3JbNF0udGV4dENvbnRlbnQgPSBcIjBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzE3XS50ZXh0Q29udGVudCA9IFwi4oaSXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxM10udGV4dENvbnRlbnQgPSBcIuKGkVwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTFdLnRleHRDb250ZW50ID0gXCLihpNcIjtcclxuICAgIE1HQ29sbGVjdG9yWzddLnRleHRDb250ZW50ID0gXCLihpBcIjtcclxuICB9XHJcblxyXG4gIGlmIChNQ29kZSA9PT0gXCJVXCIpXHJcbiAge1xyXG4gICAgTUdDb2xsZWN0b3JbNF0udGV4dENvbnRlbnQgPSBcIjBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzZdLnRleHRDb250ZW50ID0gXCLihpBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzddLnRleHRDb250ZW50ID0gXCLihpBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzhdLnRleHRDb250ZW50ID0gXCLihpBcIjtcclxuICB9XHJcbiAgaWYgKE1Db2RlID09PSBcIlUtXCIpXHJcbiAge1xyXG4gICAgTUdDb2xsZWN0b3JbNF0udGV4dENvbnRlbnQgPSBcIjBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzZdLnRleHRDb250ZW50ID0gXCLihpJcIjtcclxuICAgIE1HQ29sbGVjdG9yWzddLnRleHRDb250ZW50ID0gXCLihpJcIjtcclxuICAgIE1HQ29sbGVjdG9yWzhdLnRleHRDb250ZW50ID0gXCLihpJcIjtcclxuICB9XHJcbiAgaWYgKE1Db2RlID09PSBcIkRcIilcclxuICB7XHJcbiAgICBNR0NvbGxlY3Rvcls0XS50ZXh0Q29udGVudCA9IFwiMFwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTZdLnRleHRDb250ZW50ID0gXCLihpJcIjtcclxuICAgIE1HQ29sbGVjdG9yWzE3XS50ZXh0Q29udGVudCA9IFwi4oaSXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxOF0udGV4dENvbnRlbnQgPSBcIuKGklwiO1xyXG4gIH1cclxuXHJcbiAgaWYgKE1Db2RlID09PSBcIkQtXCIpIHtcclxuICAgIE1HQ29sbGVjdG9yWzRdLnRleHRDb250ZW50ID0gXCIwXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxNl0udGV4dENvbnRlbnQgPSBcIuKGkFwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTddLnRleHRDb250ZW50ID0gXCLihpBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzE4XS50ZXh0Q29udGVudCA9IFwi4oaQXCI7XHJcbiAgfVxyXG5cclxuICBpZiAoTUNvZGUgPT09IFwiRVwiKVxyXG4gIHtcclxuICAgIE1HQ29sbGVjdG9yWzRdLnRleHRDb250ZW50ID0gXCIwXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxMV0udGV4dENvbnRlbnQgPSBcIuKGklwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTJdLnRleHRDb250ZW50ID0gXCLihpJcIjtcclxuICAgIE1HQ29sbGVjdG9yWzEzXS50ZXh0Q29udGVudCA9IFwi4oaSXCI7XHJcbiAgfVxyXG5cclxuICBpZiAoTUNvZGUgPT09IFwiRS1cIikge1xyXG4gICAgTUdDb2xsZWN0b3JbNF0udGV4dENvbnRlbnQgPSBcIjBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzExXS50ZXh0Q29udGVudCA9IFwi4oaQXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxMl0udGV4dENvbnRlbnQgPSBcIuKGkFwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTNdLnRleHRDb250ZW50ID0gXCLihpBcIjtcclxuICB9XHJcblxyXG4gIGlmIChNQ29kZSA9PT0gXCJCXCIpXHJcbiAge1xyXG4gICAgTUdDb2xsZWN0b3JbNF0udGV4dENvbnRlbnQgPSBcIjJcIjtcclxuICAgIE1HQ29sbGVjdG9yWzFdLnRleHRDb250ZW50ID0gXCLihpBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzJdLnRleHRDb250ZW50ID0gXCLihpBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzNdLnRleHRDb250ZW50ID0gXCLihpBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzVdLnRleHRDb250ZW50ID0gXCLihpNcIjtcclxuICAgIE1HQ29sbGVjdG9yWzldLnRleHRDb250ZW50ID0gXCLihpFcIjtcclxuICAgIE1HQ29sbGVjdG9yWzEwXS50ZXh0Q29udGVudCA9IFwi4oaTXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxNF0udGV4dENvbnRlbnQgPSBcIuKGkVwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTVdLnRleHRDb250ZW50ID0gXCLihpNcIjtcclxuICAgIE1HQ29sbGVjdG9yWzE5XS50ZXh0Q29udGVudCA9IFwi4oaRXCI7XHJcbiAgfVxyXG5cclxuICBpZiAoTUNvZGUgPT09IFwiQi1cIilcclxuICB7XHJcbiAgICBNR0NvbGxlY3Rvcls0XS50ZXh0Q29udGVudCA9IFwiMlwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMV0udGV4dENvbnRlbnQgPSBcIuKGklwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMl0udGV4dENvbnRlbnQgPSBcIuKGklwiO1xyXG4gICAgTUdDb2xsZWN0b3JbM10udGV4dENvbnRlbnQgPSBcIuKGklwiO1xyXG4gICAgTUdDb2xsZWN0b3JbOV0udGV4dENvbnRlbnQgPSBcIuKGk1wiO1xyXG4gICAgTUdDb2xsZWN0b3JbNV0udGV4dENvbnRlbnQgPSBcIuKGkVwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTRdLnRleHRDb250ZW50ID0gXCLihpNcIjtcclxuICAgIE1HQ29sbGVjdG9yWzEwXS50ZXh0Q29udGVudCA9IFwi4oaRXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxOV0udGV4dENvbnRlbnQgPSBcIuKGk1wiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTVdLnRleHRDb250ZW50ID0gXCLihpFcIjtcclxuICB9XHJcbiAgaWYgKE1Db2RlID09PSBcIlNcIilcclxuICB7XHJcbiAgICBNR0NvbGxlY3Rvcls0XS50ZXh0Q29udGVudCA9IFwiMVwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMV0udGV4dENvbnRlbnQgPSBcIuKGklwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMl0udGV4dENvbnRlbnQgPSBcIuKGklwiO1xyXG4gICAgTUdDb2xsZWN0b3JbM10udGV4dENvbnRlbnQgPSBcIuKGklwiO1xyXG4gICAgTUdDb2xsZWN0b3JbOV0udGV4dENvbnRlbnQgPSBcIuKGk1wiO1xyXG4gICAgTUdDb2xsZWN0b3JbNV0udGV4dENvbnRlbnQgPSBcIuKGkVwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTRdLnRleHRDb250ZW50ID0gXCLihpNcIjtcclxuICAgIE1HQ29sbGVjdG9yWzEwXS50ZXh0Q29udGVudCA9IFwi4oaRXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxOV0udGV4dENvbnRlbnQgPSBcIuKGk1wiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTVdLnRleHRDb250ZW50ID0gXCLihpFcIjtcclxuICB9XHJcbiAgaWYgKE1Db2RlID09PSBcIlMtXCIpXHJcbiAge1xyXG4gICAgTUdDb2xsZWN0b3JbNF0udGV4dENvbnRlbnQgPSBcIjFcIjtcclxuICAgIE1HQ29sbGVjdG9yWzFdLnRleHRDb250ZW50ID0gXCLihpBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzJdLnRleHRDb250ZW50ID0gXCLihpBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzNdLnRleHRDb250ZW50ID0gXCLihpBcIjtcclxuICAgIE1HQ29sbGVjdG9yWzVdLnRleHRDb250ZW50ID0gXCLihpNcIjtcclxuICAgIE1HQ29sbGVjdG9yWzldLnRleHRDb250ZW50ID0gXCLihpFcIjtcclxuICAgIE1HQ29sbGVjdG9yWzEwXS50ZXh0Q29udGVudCA9IFwi4oaTXCI7XHJcbiAgICBNR0NvbGxlY3RvclsxNF0udGV4dENvbnRlbnQgPSBcIuKGkVwiO1xyXG4gICAgTUdDb2xsZWN0b3JbMTVdLnRleHRDb250ZW50ID0gXCLihpNcIjtcclxuICAgIE1HQ29sbGVjdG9yWzE5XS50ZXh0Q29udGVudCA9IFwi4oaRXCI7XHJcbiAgfVxyXG5cclxufSIsIiFmdW5jdGlvbihlLHIpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXIoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHIpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMucnViaWtzQ3ViZVNvbHZlcj1yKCk6ZS5ydWJpa3NDdWJlU29sdmVyPXIoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiByKG8pe2lmKHRbb10pcmV0dXJuIHRbb10uZXhwb3J0czt2YXIgbj10W29dPXtpOm8sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtvXS5jYWxsKG4uZXhwb3J0cyxuLG4uZXhwb3J0cyxyKSxuLmw9ITAsbi5leHBvcnRzfXZhciB0PXt9O3JldHVybiByLm09ZSxyLmM9dCxyLmk9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHIuZD1mdW5jdGlvbihlLHQsbyl7ci5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpvfSl9LHIubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gci5kKHQsXCJhXCIsdCksdH0sci5vPWZ1bmN0aW9uKGUscil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpfSxyLnA9XCJcIixyKHIucz0zNCl9KFtmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXt2YXIgcj17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXtyW3QudG9Mb3dlckNhc2UoKV09ZVt0XS50b0xvd2VyQ2FzZSgpfSkscn1mdW5jdGlvbiBuKGUscil7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYodC5sZW5ndGg8PTEmJltcImZyb250XCIsXCJiYWNrXCJdLmluY2x1ZGVzKHRbMF0pKXRocm93IG5ldyBFcnJvcignT3JpZW50YXRpb24gb2JqZWN0IFwiJytlKydcIiBpcyBhbWJpZ3VvdXMuIFBsZWFzZSBzcGVjaWZ5IG9uZSBvZiB0aGVzZSBmYWNlczogXCJ1cFwiLCBcInJpZ2h0XCIsIFwiZG93blwiLCBcImxlZnRcIicpO3ZhciBvPWU7cmV0dXJuIGU9e30sdC5mb3JFYWNoKGZ1bmN0aW9uKHIpe1tcImZyb250XCIsXCJiYWNrXCJdLmluY2x1ZGVzKHIpfHwoZVtyXT1vW3JdKX0pLGUuZnJvbnQ9ci50b0xvd2VyQ2FzZSgpLGV9ZnVuY3Rpb24gaShlKXtpZihPYmplY3Qua2V5cyhlKTw9MSl0aHJvdyBuZXcgRXJyb3IoJ09yaWVudGF0aW9uIG9iamVjdCBcIicrZSsnXCIgaXMgYW1iaWd1b3VzLiBQbGVhc2Ugc3BlY2lmeSAyIGZhY2VzLicpO3ZhciByPU9iamVjdC5rZXlzKGUpLHQ9ci5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIG5ldyBsLkZhY2UoZVtyXSl9KSxvPXIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbC5GYWNlKGUpfSksbj1mLlZlY3Rvci5nZXRSb3RhdGlvbkZyb21Ob3JtYWxzKHRbMF0ubm9ybWFsKCksdFswXS5vcmllbnRUbyhvWzBdKS5ub3JtYWwoKSk7dFsxXS5yb3RhdGUobi5heGlzLG4uYW5nbGUpO3ZhciBpPWYuVmVjdG9yLmdldFJvdGF0aW9uRnJvbU5vcm1hbHModFsxXS5ub3JtYWwoKSx0WzFdLm9yaWVudFRvKG9bMV0pLm5vcm1hbCgpKTtpZihNYXRoLmFicyhpLmFuZ2xlKT09PU1hdGguUEkpe3ZhciBhPW5ldyBsLkZhY2UoclswXSkudmVjdG9yLmdldEF4aXMoKTtpLmF4aXM9YX1yZXR1cm5bbixpXX1mdW5jdGlvbiBhKGUscil7dmFyIHQ9ITAsbz0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShpPWEubmV4dCgpKS5kb25lKTt0PSEwKXt2YXIgdT1pLnZhbHVlLGM9ITAscz0hMSxsPXZvaWQgMDt0cnl7Zm9yKHZhciBmLHY9cltTeW1ib2wuaXRlcmF0b3JdKCk7IShjPShmPXYubmV4dCgpKS5kb25lKTtjPSEwKXt2YXIgbT1mLnZhbHVlO3Uucm90YXRlKG0uYXhpcyxtLmFuZ2xlKX19Y2F0Y2goZSl7cz0hMCxsPWV9ZmluYWxseXt0cnl7IWMmJnYucmV0dXJuJiZ2LnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBsfX19fWNhdGNoKGUpe289ITAsbj1lfWZpbmFsbHl7dHJ5eyF0JiZhLnJldHVybiYmYS5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgbn19fWZ1bmN0aW9uIHUoZSl7dmFyIHI9W10sdD0hMCxvPSExLG49dm9pZCAwO3RyeXtmb3IodmFyIGksYT1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGk9YS5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciB1PWkudmFsdWU7dT11LmluY2x1ZGVzKFwicHJpbWVcIik/dVswXTp1WzBdK1wicHJpbWVcIixyLnB1c2godSl9fWNhdGNoKGUpe289ITAsbj1lfWZpbmFsbHl7dHJ5eyF0JiZhLnJldHVybiYmYS5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgbn19cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG1vdmVzP3Iuam9pbihcIiBcIik6cn1PYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxyLm9yaWVudE1vdmVzPXIuZ2V0Um90YXRpb25Gcm9tVG89ci5nZXRGYWNlRnJvbURpcmVjdGlvbj1yLmdldERpcmVjdGlvbkZyb21GYWNlcz1yLm5vcm1hbGl6ZU5vdGF0aW9ucz1yLnRyYW5zZm9ybU5vdGF0aW9ucz1yLmdldEZhY2VNYXRjaGluZ01pZGRsZT1yLmdldE1pZGRsZU1hdGNoaW5nRmFjZT1yLmdldE1vdmVPZkZhY2U9ci5nZXRGYWNlT2ZNb3ZlPXZvaWQgMDt2YXIgYz10KDcpLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShjKSxsPXQoMTApLGY9dCg0KSx2PXtmOlwic1wiLHI6XCJtcHJpbWVcIix1OlwiZXByaW1lXCIsZDpcImVcIixsOlwibVwiLGI6XCJzcHJpbWVcIn0sbT1yLmdldEZhY2VPZk1vdmU9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm1vdmUgbXVzdCBiZSBhIHN0cmluZ1wiKTt2YXIgcj1lWzBdLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJmXCI9PT1yP1wiZnJvbnRcIjpcInJcIj09PXI/XCJyaWdodFwiOlwidVwiPT09cj9cInVwXCI6XCJkXCI9PT1yP1wiZG93blwiOlwibFwiPT09cj9cImxlZnRcIjpcImJcIj09PXI/XCJiYWNrXCI6dm9pZCAwfSxoPXIuZ2V0TW92ZU9mRmFjZT1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZmFjZSBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKGU9ZS50b0xvd2VyQ2FzZSgpLCFbXCJmcm9udFwiLFwicmlnaHRcIixcInVwXCIsXCJkb3duXCIsXCJsZWZ0XCIsXCJiYWNrXCJdLmluY2x1ZGVzKGUpKXRocm93IG5ldyBFcnJvcihlK1wiIGlzIG5vdCB2YWxpZCBmYWNlXCIpO3JldHVybiBlWzBdfSxwPXIuZ2V0TWlkZGxlTWF0Y2hpbmdGYWNlPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUudG9Mb3dlckNhc2UoKVswXSx2W2VdfSxnPXIuZ2V0RmFjZU1hdGNoaW5nTWlkZGxlPWZ1bmN0aW9uKGUpe2U9ZS50b0xvd2VyQ2FzZSgpO3ZhciByPSEwLHQ9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgbixpPU9iamVjdC5rZXlzKHYpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG49aS5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciBhPW4udmFsdWU7aWYoZT09PXZbYV0pcmV0dXJuIGF9fWNhdGNoKGUpe3Q9ITAsbz1lfWZpbmFsbHl7dHJ5eyFyJiZpLnJldHVybiYmaS5yZXR1cm4oKX1maW5hbGx5e2lmKHQpdGhyb3cgb319fSxkPXIudHJhbnNmb3JtTm90YXRpb25zPWZ1bmN0aW9uKGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSx0PXkoZSk7cmV0dXJuIHIudXBwZXJDYXNlJiYodD10Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSl9KSksci5vcmllbnRhdGlvbiYmKHQ9dyh0LHIub3JpZW50YXRpb24pKSxyLnJldmVyc2UmJih0PXUodCkpLFwic3RyaW5nXCI9PXR5cGVvZiBlP3Quam9pbihcIiBcIik6dH0seT1yLm5vcm1hbGl6ZU5vdGF0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9ZS5zcGxpdChcIiBcIikpLGU9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJcIiE9PWV9KSxlLm1hcChmdW5jdGlvbihlKXt2YXIgcj1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJwcmltZVwiKSx0PWUuaW5jbHVkZXMoXCIyXCIpO3JldHVybiBlPWVbMF0sdD9lPWVbMF0rXCIyXCI6ciYmKGUrPVwicHJpbWVcIiksZX0pfSxQPXIuZ2V0RGlyZWN0aW9uRnJvbUZhY2VzPWZ1bmN0aW9uKGUscix0KXt0PW8odCksdD1uKHQsZSk7dmFyIHU9bmV3IGwuRmFjZShlKSxjPW5ldyBsLkZhY2Uocik7YShbdSxjXSxpKHQpKTt2YXIgdj1uZXcgZi5WZWN0b3IoKDAscy5kZWZhdWx0KShbXSx1Lm5vcm1hbCgpLGMubm9ybWFsKCkpKS5nZXRBeGlzKCksbT1mLlZlY3Rvci5nZXRBbmdsZSh1Lm5vcm1hbCgpLGMubm9ybWFsKCkpO3JldHVyblwieFwiPT09diYmbT4wP1wiZG93blwiOlwieFwiPT09diYmbTwwP1widXBcIjpcInlcIj09PXYmJm0+MD9cInJpZ2h0XCI6XCJ5XCI9PT12JiZtPDA/XCJsZWZ0XCI6MD09PW0/XCJmcm9udFwiOm09PT1NYXRoLlBJP1wiYmFja1wiOnZvaWQgMH0sYj1yLmdldEZhY2VGcm9tRGlyZWN0aW9uPWZ1bmN0aW9uKGUscix0KXt0PW8odCksdD1uKHQsZSk7dmFyIHU9bmV3IGwuRmFjZShlKSxjPWkodCk7YShbdV0sYyk7dmFyIHM9bmV3IGwuRmFjZShyKSx2PWYuVmVjdG9yLmdldFJvdGF0aW9uRnJvbU5vcm1hbHModS5ub3JtYWwoKSxzLm5vcm1hbCgpKSxtPXYuYXhpcyxoPXYuYW5nbGU7cmV0dXJuIHUucm90YXRlKG0saCksYShbdV0sYy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGYuVmVjdG9yLnJldmVyc2VSb3RhdGlvbihlKX0pLnJldmVyc2UoKSksdS50b1N0cmluZygpfSxGPXIuZ2V0Um90YXRpb25Gcm9tVG89ZnVuY3Rpb24oZSxyLHQpe3ZhciBvPW5ldyBsLkZhY2UoZSksbj1uZXcgbC5GYWNlKHIpLGk9bmV3IGwuRmFjZSh0KSxhPW8udmVjdG9yLmdldEF4aXMoKSx1PVtuLnZlY3Rvci5nZXRBeGlzKCksaS52ZWN0b3IuZ2V0QXhpcygpXSxjPXVbMF0scz11WzFdO2lmKFtjLnRvTG93ZXJDYXNlKCkscy50b0xvd2VyQ2FzZSgpXS5pbmNsdWRlcyhhLnRvTG93ZXJDYXNlKCkpKXRocm93IG5ldyBFcnJvcihcIm1vdmluZyBcIitvK1wiIGZyb20gXCIrbitcIiB0byBcIitpK1wiIGlzIG5vdCBwb3NzaWJsZS5cIik7dmFyIHY9aChlKS50b1VwcGVyQ2FzZSgpLG09Zi5WZWN0b3IuZ2V0QW5nbGUobi5ub3JtYWwoKSxpLm5vcm1hbCgpKTtyZXR1cm4gby52ZWN0b3IuZ2V0TWFnbml0dWRlKCk8MCYmKG0qPS0xKSwwPT09bT9cIlwiOk1hdGguYWJzKG0pPT09TWF0aC5QST92K1wiIFwiK3Y6bTwwP1wiXCIrdjptPjA/ditcIlByaW1lXCI6dm9pZCAwfSx3PXIub3JpZW50TW92ZXM9ZnVuY3Rpb24oZSxyKXtyPW8ocik7dmFyIHQ9aShyKTtyZXR1cm4gdC5yZXZlcnNlKCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBmLlZlY3Rvci5yZXZlcnNlUm90YXRpb24oZSl9KSxlLm1hcChmdW5jdGlvbihlKXt2YXIgcj1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJwcmltZVwiKSxvPWUuaW5jbHVkZXMoXCIyXCIpLG49ZVswXT09PWVbMF0udG9Mb3dlckNhc2UoKSxpPVtcIm1cIixcImVcIixcInNcIl0uaW5jbHVkZXMoZVswXS50b0xvd2VyQ2FzZSgpKTtvJiYoZT1lLnJlcGxhY2UoXCIyXCIsXCJcIikpO3ZhciB1PXZvaWQgMDtpZihpKXt2YXIgYz1tKGcoZSkpO3U9bmV3IGwuRmFjZShjKX1lbHNle3ZhciBzPW0oZVswXSk7dT1uZXcgbC5GYWNlKHMpfWEoW3VdLHQpO3ZhciBmPXZvaWQgMDtyZXR1cm4gZj1pP3AodS50b1N0cmluZygpKTp1LnRvU3RyaW5nKClbMF0sbnx8KGY9Zi50b1VwcGVyQ2FzZSgpKSxvJiYoZis9XCIyXCIpLHImJiFpJiYoZis9XCJwcmltZVwiKSxmfSl9O3IuZGVmYXVsdD17Z2V0RmFjZU9mTW92ZTptLGdldE1vdmVPZkZhY2U6aCxnZXRNaWRkbGVNYXRjaGluZ0ZhY2U6cCxnZXRGYWNlTWF0Y2hpbmdNaWRkbGU6Zyx0cmFuc2Zvcm1Ob3RhdGlvbnM6ZCxub3JtYWxpemVOb3RhdGlvbnM6eSxnZXREaXJlY3Rpb25Gcm9tRmFjZXM6UCxnZXRSb3RhdGlvbkZyb21UbzpGLGdldEZhY2VGcm9tRGlyZWN0aW9uOmIsb3JpZW50TW92ZXM6d319LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgcj0wLHQ9QXJyYXkoZS5sZW5ndGgpO3I8ZS5sZW5ndGg7cisrKXRbcl09ZVtyXTtyZXR1cm4gdH1yZXR1cm4gQXJyYXkuZnJvbShlKX1mdW5jdGlvbiBuKGUscil7aWYoIShlIGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxyLlJ1Ymlrc0N1YmU9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHIpe2Zvcih2YXIgdD0wO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbz1yW3RdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHIsdCxvKXtyZXR1cm4gdCYmZShyLnByb3RvdHlwZSx0KSxvJiZlKHIsbykscn19KCksYT10KDkpLHU9dCgzKSxjPXQoMCkscz1cImZmZmZmZmZmZnJycnJycnJycnV1dXV1dXV1dWRkZGRkZGRkZGxsbGxsbGxsbGJiYmJiYmJiYlwiLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHIpe2lmKG4odGhpcyxlKSw1NCE9PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIldyb25nIG51bWJlciBvZiBjb2xvcnMgcHJvdmlkZWRcIik7dGhpcy5fbm90YXRpb25Ub1JvdGF0aW9uPXtmOntheGlzOlwielwiLG1hZzotMX0scjp7YXhpczpcInhcIixtYWc6LTF9LHU6e2F4aXM6XCJ5XCIsbWFnOi0xfSxkOntheGlzOlwieVwiLG1hZzoxfSxsOntheGlzOlwieFwiLG1hZzoxfSxiOntheGlzOlwielwiLG1hZzoxfSxtOntheGlzOlwieFwiLG1hZzoxfSxlOntheGlzOlwieVwiLG1hZzoxfSxzOntheGlzOlwielwiLG1hZzotMX19LHRoaXMuX2J1aWxkKHIpfXJldHVybiBpKGUsbnVsbCxbe2tleTpcIlNvbHZlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHMpfX0se2tleTpcIkZyb21Nb3Zlc1wiLHZhbHVlOmZ1bmN0aW9uKHIpe3ZhciB0PWUuU29sdmVkKCk7cmV0dXJuIHQubW92ZShyKSx0fX0se2tleTpcIlNjcmFtYmxlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHI9ZS5Tb2x2ZWQoKSx0PWUuZ2V0UmFuZG9tTW92ZXMoMjUpO3JldHVybiByLm1vdmUodCkscn19LHtrZXk6XCJyZXZlcnNlTW92ZXNcIix2YWx1ZTpmdW5jdGlvbihyKXtyZXR1cm4gZS50cmFuc2Zvcm1Nb3ZlcyhyLHtyZXZlcnNlOiEwfSl9fSx7a2V5OlwidHJhbnNmb3JtTW92ZXNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuKDAsYy50cmFuc2Zvcm1Ob3RhdGlvbnMpKGUscil9fSx7a2V5OlwiZ2V0UmFuZG9tTW92ZXNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MjUscj1bXSx0PVtcIkZcIixcIkZwcmltZVwiLFwiUlwiLFwiUnByaW1lXCIsXCJVXCIsXCJVcHJpbWVcIixcIkRcIixcIkRwcmltZVwiLFwiTFwiLFwiTHByaW1lXCIsXCJCXCIsXCJCcHJpbWVcIl07ci5sZW5ndGg8ZTspe2Zvcih2YXIgbz0wO288ZS1yLmxlbmd0aDtvKyspe3ZhciBuPX5+KE1hdGgucmFuZG9tKCkqdC5sZW5ndGgpO3IucHVzaCh0W25dKX1yPSgwLHUuYWxnb3JpdGhtU2hvcnRlbmVyKShyKS5zcGxpdChcIiBcIil9cmV0dXJuIHIuam9pbihcIiBcIil9fV0pLGkoZSxbe2tleTpcImdldEZhY2VcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoJ1wiZmFjZVwiIG11c3QgYmUgYSBzdHJpbmcgKHJlY2VpdmVkOiAnK2UrXCIpXCIpO2U9ZS50b0xvd2VyQ2FzZSgpWzBdO3ZhciByPXZvaWQgMCx0PXZvaWQgMCxvPXZvaWQgMCxuPXZvaWQgMCxpPXZvaWQgMDtpZihcImZcIj09PWUpcj1cIllcIix0PVwiWFwiLG89LTEsbj0xLGk9dGhpcy5fY3ViaWVzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMT09PWUuZ2V0WigpfSk7ZWxzZSBpZihcInJcIj09PWUpcj1cIllcIix0PVwiWlwiLG89LTEsbj0tMSxpPXRoaXMuX2N1Ymllcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLmdldFgoKX0pO2Vsc2UgaWYoXCJ1XCI9PT1lKXI9XCJaXCIsdD1cIlhcIixvPTEsbj0xLGk9dGhpcy5fY3ViaWVzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMT09PWUuZ2V0WSgpfSk7ZWxzZSBpZihcImRcIj09PWUpcj1cIlpcIix0PVwiWFwiLG89LTEsbj0xLGk9dGhpcy5fY3ViaWVzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4tMT09PWUuZ2V0WSgpfSk7ZWxzZSBpZihcImxcIj09PWUpcj1cIllcIix0PVwiWlwiLG89LTEsbj0xLGk9dGhpcy5fY3ViaWVzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4tMT09PWUuZ2V0WCgpfSk7ZWxzZSBpZihcImJcIj09PWUpcj1cIllcIix0PVwiWFwiLG89LTEsbj0tMSxpPXRoaXMuX2N1Ymllcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1lLmdldFooKX0pO2Vsc2UgaWYoW1wibVwiLFwiZVwiLFwic1wiXS5pbmNsdWRlcyhlKSlyZXR1cm4gdGhpcy5fZ2V0TWlkZGxlQ3ViaWVzRm9yTW92ZShlKTtyZXR1cm4gaS5zb3J0KGZ1bmN0aW9uKGUsaSl7dmFyIGE9ZVtcImdldFwiK3JdKCkqbyx1PWVbXCJnZXRcIit0XSgpKm4sYz1pW1wiZ2V0XCIrcl0oKSpvLHM9aVtcImdldFwiK3RdKCkqbjtyZXR1cm4gYTxjPy0xOmE+Yz8xOnU8cz8tMToxfSl9fSx7a2V5OlwiZ2V0Q3ViaWVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY3ViaWVzLmZpbmQoZnVuY3Rpb24ocil7aWYoZS5sZW5ndGghPXIuZmFjZXMoKS5sZW5ndGgpcmV0dXJuITE7dmFyIHQ9ITAsbz0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShpPWEubmV4dCgpKS5kb25lKTt0PSEwKXt2YXIgdT1pLnZhbHVlO2lmKCFyLmZhY2VzKCkuaW5jbHVkZXModSkpcmV0dXJuITF9fWNhdGNoKGUpe289ITAsbj1lfWZpbmFsbHl7dHJ5eyF0JiZhLnJldHVybiYmYS5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgbn19cmV0dXJuITB9KX19LHtrZXk6XCJjb3JuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3ViaWVzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0Nvcm5lcigpfSl9fSx7a2V5OlwiZWRnZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdWJpZXMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRWRnZSgpfSl9fSx7a2V5OlwibWlkZGxlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1Ymllcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNNaWRkbGUoKX0pfX0se2tleTpcIm1vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPWUuc3BsaXQoXCIgXCIpKSxlPSgwLGMudHJhbnNmb3JtTm90YXRpb25zKShlLHIpO3ZhciB0PSEwLG49ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSx1PWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEodD0oYT11Lm5leHQoKSkuZG9uZSk7dD0hMCl7dmFyIHM9YS52YWx1ZSxsPXNbMF07aWYobCl7dmFyIGY9cy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwicHJpbWVcIiksdj1sPT09bC50b0xvd2VyQ2FzZSgpLG09cy5pbmNsdWRlcyhcIjJcIiksaD10aGlzLl9nZXRSb3RhdGlvbkZvckZhY2UobCkscD1oLmF4aXMsZz1oLm1hZyxkPXRoaXMuZ2V0RmFjZShsKTtpZihmJiYoZyo9LTEpLG0mJihnKj0yKSx2KXt2YXIgeT0oMCxjLmdldE1pZGRsZU1hdGNoaW5nRmFjZSkobCksUD10aGlzLl9nZXRNaWRkbGVDdWJpZXNGb3JNb3ZlKHkpO2Q9W10uY29uY2F0KG8oZCksbyhQKSl9dmFyIGI9ITAsRj0hMSx3PXZvaWQgMDt0cnl7Zm9yKHZhciBSLEM9ZFtTeW1ib2wuaXRlcmF0b3JdKCk7IShiPShSPUMubmV4dCgpKS5kb25lKTtiPSEwKXtSLnZhbHVlLnJvdGF0ZShwLGcpfX1jYXRjaChlKXtGPSEwLHc9ZX1maW5hbGx5e3RyeXshYiYmQy5yZXR1cm4mJkMucmV0dXJuKCl9ZmluYWxseXtpZihGKXRocm93IHd9fX19fWNhdGNoKGUpe249ITAsaT1lfWZpbmFsbHl7dHJ5eyF0JiZ1LnJldHVybiYmdS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgaX19fX0se2tleTpcImlzU29sdmVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0cmluZygpPT09c319LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9XCJcIixyPVtcImZyb250XCIsXCJyaWdodFwiLFwidXBcIixcImRvd25cIixcImxlZnRcIixcImJhY2tcIl0sdD0hMCxvPSExLG49dm9pZCAwO3RyeXtmb3IodmFyIGksYT1yW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGk9YS5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciB1PWkudmFsdWUsYz10aGlzLmdldEZhY2UodSkscz0hMCxsPSExLGY9dm9pZCAwO3RyeXtmb3IodmFyIHYsbT1jW1N5bWJvbC5pdGVyYXRvcl0oKTshKHM9KHY9bS5uZXh0KCkpLmRvbmUpO3M9ITApe2UrPXYudmFsdWUuZ2V0Q29sb3JPZkZhY2UodSl9fWNhdGNoKGUpe2w9ITAsZj1lfWZpbmFsbHl7dHJ5eyFzJiZtLnJldHVybiYmbS5yZXR1cm4oKX1maW5hbGx5e2lmKGwpdGhyb3cgZn19fX1jYXRjaChlKXtvPSEwLG49ZX1maW5hbGx5e3RyeXshdCYmYS5yZXR1cm4mJmEucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IG59fXJldHVybiBlfX0se2tleTpcImNsb25lXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodGhpcy50b1N0cmluZygpKX19LHtrZXk6XCJfYnVpbGRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9jdWJpZXM9W10sdGhpcy5fcG9wdWxhdGVDdWJlKCk7dmFyIHI9dGhpcy5fcGFyc2VDb2xvcnMoZSksdD0hMCxvPSExLG49dm9pZCAwO3RyeXtmb3IodmFyIGksYT1PYmplY3Qua2V5cyhyKVtTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShpPWEubmV4dCgpKS5kb25lKTt0PSEwKXt2YXIgdT1pLnZhbHVlLGM9clt1XTt0aGlzLl9jb2xvckZhY2UodSxjKX19Y2F0Y2goZSl7bz0hMCxuPWV9ZmluYWxseXt0cnl7IXQmJmEucmV0dXJuJiZhLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBufX19fSx7a2V5OlwiX3BvcHVsYXRlQ3ViZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPS0xO2U8PTE7ZSsrKWZvcih2YXIgcj0tMTtyPD0xO3IrKylmb3IodmFyIHQ9LTE7dDw9MTt0KyspaWYoMCE9PWV8fDAhPT1yfHwwIT09dCl7dmFyIG89bmV3IGEuQ3ViaWUoe3Bvc2l0aW9uOltlLHIsdF19KTt0aGlzLl9jdWJpZXMucHVzaChvKX19fSx7a2V5OlwiX3BhcnNlQ29sb3JzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciByPXtmcm9udDpbXSxyaWdodDpbXSx1cDpbXSxkb3duOltdLGxlZnQ6W10sYmFjazpbXX0sdD12b2lkIDAsbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgbj1lW29dO3Q9bzw5P1wiZnJvbnRcIjpvPDE4P1wicmlnaHRcIjpvPDI3P1widXBcIjpvPDM2P1wiZG93blwiOm88NDU/XCJsZWZ0XCI6XCJiYWNrXCIsclt0XS5wdXNoKG4pfXJldHVybiByfX0se2tleTpcIl9jb2xvckZhY2VcIix2YWx1ZTpmdW5jdGlvbihlLHIpe2Zvcih2YXIgdD10aGlzLmdldEZhY2UoZSksbz0wO288ci5sZW5ndGg7bysrKXRbb10uY29sb3JGYWNlKGUscltvXSl9fSx7a2V5OlwiX2dldFJvdGF0aW9uRm9yRmFjZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcignXCJmYWNlXCIgbXVzdCBiZSBhIHN0cmluZyAocmVjZWl2ZWQ6ICcrZStcIilcIik7cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLHtheGlzOnRoaXMuX25vdGF0aW9uVG9Sb3RhdGlvbltlXS5heGlzLG1hZzp0aGlzLl9ub3RhdGlvblRvUm90YXRpb25bZV0ubWFnKk1hdGguUEkvMn19fSx7a2V5OlwiX2dldE1pZGRsZUN1Ymllc0Zvck1vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXtlPWVbMF0udG9Mb3dlckNhc2UoKTt2YXIgcj12b2lkIDA7cmV0dXJuXCJtXCI9PT1lP3I9W1wibGVmdFwiLFwicmlnaHRcIl06XCJlXCI9PT1lP3I9W1widXBcIixcImRvd25cIl06XCJzXCI9PT1lJiYocj1bXCJmcm9udFwiLFwiYmFja1wiXSksdGhpcy5fY3ViaWVzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hZS5oYXNGYWNlKHJbMF0pJiYhZS5oYXNGYWNlKHJbMV0pfSl9fV0pLGV9KCk7ci5SdWJpa3NDdWJlPWx9LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUscil7aWYoIShlIGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxyLkJhc2VTb2x2ZXI9dm9pZCAwO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHIpe2Zvcih2YXIgdD0wO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbz1yW3RdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHIsdCxvKXtyZXR1cm4gdCYmZShyLnByb3RvdHlwZSx0KSxvJiZlKHIsbykscn19KCksaT10KDEpLGE9dCgwKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShyKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307byh0aGlzLGUpLHRoaXMuY3ViZT1cInN0cmluZ1wiPT10eXBlb2Ygcj9uZXcgaS5SdWJpa3NDdWJlKHIpOnIsdGhpcy5vcHRpb25zPXQsdGhpcy5wYXJ0aXRpb249e30sdGhpcy5wYXJ0aXRpb25zPVtdLHRoaXMudG90YWxNb3Zlcz1bXSx0aGlzLl9hZnRlckVhY2hDYWxsYmFja3M9W119cmV0dXJuIG4oZSxbe2tleTpcIm1vdmVcIix2YWx1ZTpmdW5jdGlvbihlLHIpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1lLnNwbGl0KFwiIFwiKSksdGhpcy5jdWJlLm1vdmUoZSxyKSxlPSgwLGEudHJhbnNmb3JtTm90YXRpb25zKShlLHIpO3ZhciB0PSEwLG89ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgaSx1PWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEodD0oaT11Lm5leHQoKSkuZG9uZSk7dD0hMCl7dmFyIGM9aS52YWx1ZTt0aGlzLnRvdGFsTW92ZXMucHVzaChjKX19Y2F0Y2goZSl7bz0hMCxuPWV9ZmluYWxseXt0cnl7IXQmJnUucmV0dXJuJiZ1LnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBufX19fSx7a2V5OlwiYWZ0ZXJFYWNoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fYWZ0ZXJFYWNoQ2FsbGJhY2tzLnB1c2goZSl9fSx7a2V5OlwiX3RyaWdnZXJBZnRlckVhY2hcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkoZSksdD0wO3Q8ZTt0Kyspclt0XT1hcmd1bWVudHNbdF07dGhpcy5fYWZ0ZXJFYWNoQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXBwbHkodm9pZCAwLHIpfSl9fSx7a2V5OlwiX3NvbHZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5wYXJ0aXRpb249e30sdGhpcy5wYXJ0aXRpb24uY3ViaWVzPWU7dmFyIHI9ZS5jb3JuZXIsdD1lLmVkZ2U7cmV0dXJuIHRoaXMucGFydGl0aW9uLmNhc2VOdW1iZXI9dGhpcy5fZ2V0Q2FzZU51bWJlcih7Y29ybmVyOnIsZWRnZTp0fSksdGhpcy5fc29sdmVDYXNlKHRoaXMucGFydGl0aW9uLmNhc2VOdW1iZXIse2Nvcm5lcjpyLGVkZ2U6dH0pLHRoaXMucGFydGl0aW9uLm1vdmVzPXRoaXMudG90YWxNb3Zlcyx0aGlzLnRvdGFsTW92ZXM9W10sdGhpcy5fb3ZlcnJpZGVBZnRlckVhY2h8fHRoaXMuX3RyaWdnZXJBZnRlckVhY2godGhpcy5wYXJ0aXRpb24sdGhpcy5waGFzZSksdGhpcy5wYXJ0aXRpb259fSx7a2V5OlwiX3NvbHZlQ2FzZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSx0PXIuY29ybmVyLG89ci5lZGdlO3RoaXNbXCJfc29sdmVDYXNlXCIrZV0oe2Nvcm5lcjp0LGVkZ2U6b30pfX1dKSxlfSgpO3IuQmFzZVNvbHZlcj11fSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5hbGdvcml0aG1TaG9ydGVuZXI9dm9pZCAwO3ZhciBvPXQoMTkpLG49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShvKSxpPXtGOlwiQlwiLFI6XCJMXCIsVTpcIkRcIn0sYT1mdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9ZS5zcGxpdChcIiBcIikpO3ZhciByPXtjb21wYXJlOmZ1bmN0aW9uKGUscil7cmV0dXJuIGVbMF09PT1yWzBdfSxjb21iaW5lOmZ1bmN0aW9uKGUscil7dmFyIHQ9ZS5pbmNsdWRlcyhcIjJcIik/MjplLmluY2x1ZGVzKFwicHJpbWVcIik/LTE6MSxvPXIuaW5jbHVkZXMoXCIyXCIpPzI6ci5pbmNsdWRlcyhcInByaW1lXCIpPy0xOjEsbj10K287aWYoND09PW4mJihuPTApLC0yPT09biYmKG49MiksMz09PW4mJihuPS0xKSwwPT09bilyZXR1cm5cIlwiO3ZhciBpPTI9PT1uP1wiMlwiOi0xPT09bj9cInByaW1lXCI6XCJcIjtyZXR1cm5cIlwiK2VbMF0raX0sY2FuY2VsOmZ1bmN0aW9uKGUpe3JldHVyblwiXCI9PT1lfSxpZ25vcmU6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gaVtlWzBdXT09PXJbMF18fGlbclswXV09PT1lWzBdfX07cmV0dXJuKDAsbi5kZWZhdWx0KShlLHIpLmpvaW4oXCIgXCIpfTtyLmFsZ29yaXRobVNob3J0ZW5lcj1hfSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbihlLHIpe2lmKCEoZSBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5WZWN0b3I9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHIpe2Zvcih2YXIgdD0wO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbz1yW3RdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHIsdCxvKXtyZXR1cm4gdCYmZShyLnByb3RvdHlwZSx0KSxvJiZlKHIsbykscn19KCksYT10KDIyKSx1PW8oYSksYz10KDcpLHM9byhjKSxsPXQoMjYpLGY9byhsKSx2PXQoMjcpLG09byh2KSxoPXQoMjgpLHA9byhoKSxnPXt4OmYuZGVmYXVsdCx5Om0uZGVmYXVsdCx6OnAuZGVmYXVsdH0sZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUocil7bih0aGlzLGUpLHRoaXMuc2V0KHIpfXJldHVybiBpKGUsbnVsbCxbe2tleTpcIkZyb21TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihyKXtyZXR1cm4gbmV3IGUoci5zcGxpdChcIiBcIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlKX0pKX19LHtrZXk6XCJhcmVFcXVhbFwiLHZhbHVlOmZ1bmN0aW9uKGUscil7cmV0dXJuIGVbMF09PT1yWzBdJiZlWzFdPT09clsxXSYmZVsyXT09PXJbMl19fSx7a2V5OlwiZ2V0QW5nbGVcIix2YWx1ZTpmdW5jdGlvbihyLHQpe3ZhciBvPSgwLHUuZGVmYXVsdCkocix0KSxuPSgwLHMuZGVmYXVsdCkoW10scix0KSxpPW5ldyBlKG4pLmdldE1hZ25pdHVkZSgpO3JldHVybiBpP28qaTpvfX0se2tleTpcImdldFJvdGF0aW9uRnJvbU5vcm1hbHNcIix2YWx1ZTpmdW5jdGlvbihyLHQpe3ZhciBvPW5ldyBlKCgwLHMuZGVmYXVsdCkoW10scix0KSkuZ2V0QXhpcygpLG49ZS5nZXRBbmdsZShyLHQpO2lmKCFvKXt2YXIgaT1bXCJ4XCIsXCJ5XCIsXCJ6XCJdO2kuc3BsaWNlKGkuaW5kZXhPZihuZXcgZShyKS5nZXRBeGlzKCkpLDEpLG89aVswXX1yZXR1cm57YXhpczpvLGFuZ2xlOm59fX0se2tleTpcInJldmVyc2VSb3RhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmFuZ2xlKj0tMSxlfX1dKSxpKGUsW3trZXk6XCJ0b0FycmF5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZWN0b3J9fSx7a2V5Olwic2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZSYmKHRoaXMudmVjdG9yPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnJvdW5kKGUpfSkpfX0se2tleTpcInNldFhcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnZlY3RvclswXT1lfX0se2tleTpcInNldFlcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnZlY3RvclsxXT1lfX0se2tleTpcInNldFpcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnZlY3RvclsyXT1lfX0se2tleTpcImdldFhcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvQXJyYXkoKVswXX19LHtrZXk6XCJnZXRZXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b0FycmF5KClbMV19fSx7a2V5OlwiZ2V0WlwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9BcnJheSgpWzJdfX0se2tleTpcImlzQXhpc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9MCxyPSEwLHQ9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgbixpPXRoaXMudmVjdG9yW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG49aS5uZXh0KCkpLmRvbmUpO3I9ITApezA9PT1uLnZhbHVlJiYoZSs9MSl9fWNhdGNoKGUpe3Q9ITAsbz1lfWZpbmFsbHl7dHJ5eyFyJiZpLnJldHVybiYmaS5yZXR1cm4oKX1maW5hbGx5e2lmKHQpdGhyb3cgb319cmV0dXJuIDI9PT1lfX0se2tleTpcImdldEF4aXNcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuaXNBeGlzKCkpcmV0dXJuIDAhPT10aGlzLnZlY3RvclswXT9cInhcIjowIT09dGhpcy52ZWN0b3JbMV0/XCJ5XCI6MCE9PXRoaXMudmVjdG9yWzJdP1wielwiOnZvaWQgMH19LHtrZXk6XCJnZXRNYWduaXR1ZGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuaXNBeGlzKCkpcmV0dXJuIHRoaXNbXCJnZXRcIit0aGlzLmdldEF4aXMoKS50b1VwcGVyQ2FzZSgpXSgpfX0se2tleTpcInJvdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUscil7cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLHRoaXMuc2V0KGdbZV0oW10sdGhpcy52ZWN0b3IsWzAsMCwwXSxyKSksdGhpc319XSksZX0oKTtyLlZlY3Rvcj1kfSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHIpe2lmKCEoZSBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbihlLHIpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hcnx8XCJvYmplY3RcIiE9dHlwZW9mIHImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHI/ZTpyfWZ1bmN0aW9uIGkoZSxyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygcik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyJiZyLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksciYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxyKTplLl9fcHJvdG9fXz1yKX1PYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxyLkYyTENhc2VCYXNlU29sdmVyPXZvaWQgMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxyKXtmb3IodmFyIHQ9MDt0PHIubGVuZ3RoO3QrKyl7dmFyIG89clt0XTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihyLHQsbyl7cmV0dXJuIHQmJmUoci5wcm90b3R5cGUsdCksbyYmZShyLG8pLHJ9fSgpLHU9dCgxMiksYz1mdW5jdGlvbihlKXtmdW5jdGlvbiByKCl7cmV0dXJuIG8odGhpcyxyKSxuKHRoaXMsKHIuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YocikpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGkocixlKSxhKHIsW3trZXk6XCJzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlO3JldHVybiB0aGlzLl9zb2x2ZSh7Y29ybmVyOnIsZWRnZTp0fSl9fV0pLHJ9KHUuRjJMQmFzZVNvbHZlcik7ci5GMkxDYXNlQmFzZVNvbHZlcj1jfSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuL1tcXHUwMDFiXFx1MDA5Yl1bWygpIzs/XSooPzpbMC05XXsxLDR9KD86O1swLTldezAsNH0pKik/WzAtOUEtUFJaY2YtbnFyeT0+PF0vZ319LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUscix0KXt2YXIgbz1yWzBdLG49clsxXSxpPXJbMl0sYT10WzBdLHU9dFsxXSxjPXRbMl07cmV0dXJuIGVbMF09bipjLWkqdSxlWzFdPWkqYS1vKmMsZVsyXT1vKnUtbiphLGV9ZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBuKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGkoZSl7aWYoZj09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZSwwKTtpZigoZj09PW98fCFmKSYmc2V0VGltZW91dClyZXR1cm4gZj1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZSwwKTt0cnl7cmV0dXJuIGYoZSwwKX1jYXRjaChyKXt0cnl7cmV0dXJuIGYuY2FsbChudWxsLGUsMCl9Y2F0Y2gocil7cmV0dXJuIGYuY2FsbCh0aGlzLGUsMCl9fX1mdW5jdGlvbiBhKGUpe2lmKHY9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigodj09PW58fCF2KSYmY2xlYXJUaW1lb3V0KXJldHVybiB2PWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e3JldHVybiB2KGUpfWNhdGNoKHIpe3RyeXtyZXR1cm4gdi5jYWxsKG51bGwsZSl9Y2F0Y2gocil7cmV0dXJuIHYuY2FsbCh0aGlzLGUpfX19ZnVuY3Rpb24gdSgpe2cmJmgmJihnPSExLGgubGVuZ3RoP3A9aC5jb25jYXQocCk6ZD0tMSxwLmxlbmd0aCYmYygpKX1mdW5jdGlvbiBjKCl7aWYoIWcpe3ZhciBlPWkodSk7Zz0hMDtmb3IodmFyIHI9cC5sZW5ndGg7cjspe2ZvcihoPXAscD1bXTsrK2Q8cjspaCYmaFtkXS5ydW4oKTtkPS0xLHI9cC5sZW5ndGh9aD1udWxsLGc9ITEsYShlKX19ZnVuY3Rpb24gcyhlLHIpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT1yfWZ1bmN0aW9uIGwoKXt9dmFyIGYsdixtPWUuZXhwb3J0cz17fTshZnVuY3Rpb24oKXt0cnl7Zj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6b31jYXRjaChlKXtmPW99dHJ5e3Y9XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDpufWNhdGNoKGUpe3Y9bn19KCk7dmFyIGgscD1bXSxnPSExLGQ9LTE7bS5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgcj1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylyW3QtMV09YXJndW1lbnRzW3RdO3AucHVzaChuZXcgcyhlLHIpKSwxIT09cC5sZW5ndGh8fGd8fGkoYyl9LHMucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LG0udGl0bGU9XCJicm93c2VyXCIsbS5icm93c2VyPSEwLG0uZW52PXt9LG0uYXJndj1bXSxtLnZlcnNpb249XCJcIixtLnZlcnNpb25zPXt9LG0ub249bCxtLmFkZExpc3RlbmVyPWwsbS5vbmNlPWwsbS5vZmY9bCxtLnJlbW92ZUxpc3RlbmVyPWwsbS5yZW1vdmVBbGxMaXN0ZW5lcnM9bCxtLmVtaXQ9bCxtLnByZXBlbmRMaXN0ZW5lcj1sLG0ucHJlcGVuZE9uY2VMaXN0ZW5lcj1sLG0ubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfSxtLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LG0uY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LG0uY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxtLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHIpe2lmKCEoZSBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5DdWJpZT12b2lkIDA7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUscil7Zm9yKHZhciB0PTA7dDxyLmxlbmd0aDt0Kyspe3ZhciBvPXJbdF07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24ocix0LG8pe3JldHVybiB0JiZlKHIucHJvdG90eXBlLHQpLG8mJmUocixvKSxyfX0oKSxpPXQoNCksYT10KDEwKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShyKXt2YXIgdD10aGlzLG49ci5wb3NpdGlvbixpPXIuY29sb3JNYXAsYT12b2lkIDA9PT1pP3t9Omk7byh0aGlzLGUpLHRoaXMucG9zaXRpb24obiksdGhpcy5jb2xvck1hcD17fSxPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPWFbZV07dC5jb2xvckZhY2UoZSxyKX0pfXJldHVybiBuKGUsbnVsbCxbe2tleTpcIkZyb21GYWNlc1wiLHZhbHVlOmZ1bmN0aW9uKHIpe3ZhciB0PW5ldyBpLlZlY3RvcihbMCwwLDBdKSxvPXt9LG49ITAsdT0hMSxjPXZvaWQgMDt0cnl7Zm9yKHZhciBzLGw9cltTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShzPWwubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgZj1zLnZhbHVlO2lmKGYpe3ZhciB2PW5ldyBhLkZhY2UoZik7dFtcInNldFwiK3YudmVjdG9yLmdldEF4aXMoKS50b1VwcGVyQ2FzZSgpXSh2LnZlY3Rvci5nZXRNYWduaXR1ZGUoKSksb1tmLnRvTG93ZXJDYXNlKCldPXYudG9TdHJpbmcoKVswXS50b0xvd2VyQ2FzZSgpfX19Y2F0Y2goZSl7dT0hMCxjPWV9ZmluYWxseXt0cnl7IW4mJmwucmV0dXJuJiZsLnJldHVybigpfWZpbmFsbHl7aWYodSl0aHJvdyBjfX1yZXR1cm4gbmV3IGUoe3Bvc2l0aW9uOnQudG9BcnJheSgpLGNvbG9yTWFwOm99KX19XSksbihlLFt7a2V5OlwiY2xvbmVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh7cG9zaXRpb246dGhpcy5wb3NpdGlvbigpLGNvbG9yTWFwOnRoaXMuY29sb3JNYXB9KX19LHtrZXk6XCJwb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMudmVjdG9yP3RoaXMudmVjdG9yLnRvQXJyYXkoKTp0aGlzLnZlY3Rvcjt0aGlzLnZlY3Rvcj1uZXcgaS5WZWN0b3IoZSl9fSx7a2V5OlwiZ2V0WFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVjdG9yLmdldFgoKX19LHtrZXk6XCJnZXRZXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZWN0b3IuZ2V0WSgpfX0se2tleTpcImdldFpcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZlY3Rvci5nZXRaKCl9fSx7a2V5OlwiaXNDb3JuZXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAzPT09T2JqZWN0LmtleXModGhpcy5jb2xvck1hcCkubGVuZ3RofX0se2tleTpcImlzRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT1PYmplY3Qua2V5cyh0aGlzLmNvbG9yTWFwKS5sZW5ndGh9fSx7a2V5OlwiaXNNaWRkbGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAxPT09T2JqZWN0LmtleXModGhpcy5jb2xvck1hcCkubGVuZ3RofX0se2tleTpcImNvbG9yc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gT2JqZWN0LmtleXModGhpcy5jb2xvck1hcCkubWFwKGZ1bmN0aW9uKHIpe3JldHVybiBlLmNvbG9yTWFwW3JdfSl9fSx7a2V5OlwiaGFzQ29sb3JcIix2YWx1ZTpmdW5jdGlvbihlKXtlPWUudG9Mb3dlckNhc2UoKTt2YXIgcj0hMCx0PSExLG89dm9pZCAwO3RyeXtmb3IodmFyIG4saT1PYmplY3Qua2V5cyh0aGlzLmNvbG9yTWFwKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShuPWkubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgYT1uLnZhbHVlO2lmKHRoaXMuY29sb3JNYXBbYV09PT1lKXJldHVybiEwfX1jYXRjaChlKXt0PSEwLG89ZX1maW5hbGx5e3RyeXshciYmaS5yZXR1cm4mJmkucmV0dXJuKCl9ZmluYWxseXtpZih0KXRocm93IG99fXJldHVybiExfX0se2tleTpcImhhc0ZhY2VcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksT2JqZWN0LmtleXModGhpcy5jb2xvck1hcCkuaW5jbHVkZXMoZSl9fSx7a2V5OlwiY29sb3JGYWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCkscj1yLnRvTG93ZXJDYXNlKCksdGhpcy5jb2xvck1hcFtlXT1yLHRoaXN9fSx7a2V5OlwiZ2V0Q29sb3JPZkZhY2VcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksdGhpcy5jb2xvck1hcFtlXX19LHtrZXk6XCJnZXRGYWNlT2ZDb2xvclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLE9iamVjdC5rZXlzKHRoaXMuY29sb3JNYXApLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHIuY29sb3JNYXBbdF09PT1lfSl9fSx7a2V5OlwiZmFjZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmNvbG9yTWFwKX19LHtrZXk6XCJyb3RhdGVcIix2YWx1ZTpmdW5jdGlvbihlLHIpe3ZhciB0PXRoaXM7dGhpcy52ZWN0b3Iucm90YXRlKGUscik7dmFyIG89e30sbj0hMCxpPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGMscz1PYmplY3Qua2V5cyh0aGlzLmNvbG9yTWFwKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShjPXMubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgbD1jLnZhbHVlLGY9dGhpcy5jb2xvck1hcFtsXSx2PW5ldyBhLkZhY2UobCksbT12LnJvdGF0ZShlLHIpLm5vcm1hbCgpLmpvaW4oXCIgXCIpLGg9YS5GYWNlLkZyb21Ob3JtYWwobSkudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO29baF09Zn19Y2F0Y2goZSl7aT0hMCx1PWV9ZmluYWxseXt0cnl7IW4mJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyB1fX10aGlzLmNvbG9yTWFwPXt9LE9iamVjdC5rZXlzKG8pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29sb3JGYWNlKGUsb1tlXSl9KX19XSksZX0oKTtyLkN1YmllPXV9LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUscil7aWYoIShlIGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxyLkZhY2U9dm9pZCAwO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHIpe2Zvcih2YXIgdD0wO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbz1yW3RdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHIsdCxvKXtyZXR1cm4gdCYmZShyLnByb3RvdHlwZSx0KSxvJiZlKHIsbykscn19KCksaT10KDQpLGE9e2Zyb250OlwiMCAwIDFcIixyaWdodDpcIjEgMCAwXCIsdXA6XCIwIDEgMFwiLGRvd246XCIwIC0xIDBcIixsZWZ0OlwiLTEgMCAwXCIsYmFjazpcIjAgMCAtMVwifSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShyKXtpZihvKHRoaXMsZSksXCJzdHJpbmdcIiE9dHlwZW9mIHIpdGhyb3cgbmV3IEVycm9yKCdcImZhY2VcIiBtdXN0IGJlIGEgc3RyaW5nIChyZWNlaXZlZDogJytyK1wiKVwiKTtyPXIudG9Mb3dlckNhc2UoKSx0aGlzLnZlY3Rvcj1pLlZlY3Rvci5Gcm9tU3RyaW5nKGFbcl0pfXJldHVybiBuKGUsbnVsbCxbe2tleTpcIkZyb21Ob3JtYWxcIix2YWx1ZTpmdW5jdGlvbihyKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgciYmKHI9aS5WZWN0b3IuRnJvbVN0cmluZyhyKS50b0FycmF5KCkpLG5ldyBlKGUuZ2V0RmFjZShyKSl9fSx7a2V5OlwiZ2V0Tm9ybWFsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGkuVmVjdG9yLkZyb21TdHJpbmcoYVtlXSkudG9BcnJheSgpfX0se2tleTpcImdldEZhY2VcIix2YWx1ZTpmdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9aS5WZWN0b3IuRnJvbVN0cmluZyhlKS50b0FycmF5KCkpO3ZhciByPSEwLHQ9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgbix1PU9iamVjdC5rZXlzKGEpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG49dS5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciBjPW4udmFsdWU7aWYoZS5qb2luKFwiIFwiKT09PWFbY10pcmV0dXJuIGN9fWNhdGNoKGUpe3Q9ITAsbz1lfWZpbmFsbHl7dHJ5eyFyJiZ1LnJldHVybiYmdS5yZXR1cm4oKX1maW5hbGx5e2lmKHQpdGhyb3cgb319fX1dKSxuKGUsW3trZXk6XCJub3JtYWxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZlY3Rvci50b0FycmF5KCl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBlLmdldEZhY2UodGhpcy5ub3JtYWwoKSl9fSx7a2V5Olwib3JpZW50VG9cIix2YWx1ZTpmdW5jdGlvbihyKXtcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9bmV3IGUocikpO3ZhciB0PWkuVmVjdG9yLmdldFJvdGF0aW9uRnJvbU5vcm1hbHModGhpcy5ub3JtYWwoKSxyLm5vcm1hbCgpKSxvPXQuYXhpcyxuPXQuYW5nbGU7cmV0dXJuIHRoaXMudmVjdG9yLnJvdGF0ZShvLG4pLHRoaXN9fSx7a2V5Olwicm90YXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdGhpcy52ZWN0b3Iucm90YXRlKGUsciksdGhpc319XSksZX0oKTt1LkZST05UPW5ldyB1KFwiRlJPTlRcIiksdS5SSUdIVD1uZXcgdShcIlJJR0hUXCIpLHUuVVA9bmV3IHUoXCJVUFwiKSx1LkRPV049bmV3IHUoXCJET1dOXCIpLHUuTEVGVD1uZXcgdShcIkxFRlRcIiksdS5CQUNLPW5ldyB1KFwiQkFDS1wiKSxyLkZhY2U9dX0sZnVuY3Rpb24oZSxyLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSxyKXtpZighKGUgaW5zdGFuY2VvZiByKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG4oZSxyKXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXJ8fFwib2JqZWN0XCIhPXR5cGVvZiByJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiByP2U6cn1mdW5jdGlvbiBpKGUscil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgciYmbnVsbCE9PXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUociYmci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHImJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUscik6ZS5fX3Byb3RvX189cil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5Dcm9zc1NvbHZlcj12b2lkIDA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUscil7Zm9yKHZhciB0PTA7dDxyLmxlbmd0aDt0Kyspe3ZhciBvPXJbdF07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24ocix0LG8pe3JldHVybiB0JiZlKHIucHJvdG90eXBlLHQpLG8mJmUocixvKSxyfX0oKSx1PXQoMiksYz10KDEpLHM9dCgwKSxsPWZ1bmN0aW9uKGUpe3JldHVybiBjLlJ1Ymlrc0N1YmUucmV2ZXJzZU1vdmVzKGUpfSxmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoKXt2YXIgZTtvKHRoaXMscik7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1BcnJheSh0KSxhPTA7YTx0O2ErKylpW2FdPWFyZ3VtZW50c1thXTt2YXIgdT1uKHRoaXMsKGU9ci5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihyKSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQoaSkpKTtyZXR1cm4gdS5waGFzZT1cImNyb3NzXCIsdX1yZXR1cm4gaShyLGUpLGEocixbe2tleTpcInNvbHZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXRDcm9zc0VkZ2VzKCkscj0hMCx0PSExLG89dm9pZCAwO3RyeXtmb3IodmFyIG4saT1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG49aS5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciBhPW4udmFsdWUsdT10aGlzLl9zb2x2ZSh7ZWRnZTphfSk7dGhpcy5wYXJ0aXRpb25zLnB1c2godSl9fWNhdGNoKGUpe3Q9ITAsbz1lfWZpbmFsbHl7dHJ5eyFyJiZpLnJldHVybiYmaS5yZXR1cm4oKX1maW5hbGx5e2lmKHQpdGhyb3cgb319cmV0dXJuIHRoaXMucGFydGl0aW9uc319LHtrZXk6XCJpc1NvbHZlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZ2V0Q3Jvc3NFZGdlcygpLHI9ITAsdD0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBuLGk9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShuPWkubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgYT1uLnZhbHVlO2lmKCF0aGlzLmlzRWRnZVNvbHZlZChhKSlyZXR1cm4hMX19Y2F0Y2goZSl7dD0hMCxvPWV9ZmluYWxseXt0cnl7IXImJmkucmV0dXJuJiZpLnJldHVybigpfWZpbmFsbHl7aWYodCl0aHJvdyBvfX1yZXR1cm4hMH19LHtrZXk6XCJpc0VkZ2VTb2x2ZWRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lLmNvbG9ycygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuXCJ1XCIhPT1lfSksdD1lLmZhY2VzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm5cInVwXCIhPT1lfSksbz10WzBdPT09cjtyZXR1cm5cInVcIj09PWUuZ2V0Q29sb3JPZkZhY2UoXCJ1cFwiKSYmb319LHtrZXk6XCJfZ2V0Q3Jvc3NFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3ViZS5lZGdlcygpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5oYXNDb2xvcihcInVcIil9KX19LHtrZXk6XCJfZ2V0Q2FzZU51bWJlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuZWRnZTtpZihcInVcIj09PXIuZ2V0Q29sb3JPZkZhY2UoXCJ1cFwiKSlyZXR1cm4gMTtpZihcInVcIj09PXIuZ2V0Q29sb3JPZkZhY2UoXCJkb3duXCIpKXJldHVybiAyO2lmKHIuZmFjZXMoKS5pbmNsdWRlcyhcInVwXCIpKXJldHVybiAzO2lmKHIuZmFjZXMoKS5pbmNsdWRlcyhcImRvd25cIikpcmV0dXJuIDQ7dmFyIHQ9ci5nZXRGYWNlT2ZDb2xvcihcInVcIiksbz1yLmdldEZhY2VPZkNvbG9yKHIuY29sb3JzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm5cInVcIiE9PWV9KSksbj0oMCxzLmdldERpcmVjdGlvbkZyb21GYWNlcykodCxvLHt1cDpcInVwXCJ9KTtyZXR1cm5cInJpZ2h0XCI9PT1uPzU6XCJsZWZ0XCI9PT1uPzY6dm9pZCAwfX0se2tleTpcIl9zb2x2ZUNhc2UxXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5lZGdlO2lmKCF0aGlzLmlzRWRnZVNvbHZlZChyKSl7dmFyIHQ9ci5mYWNlcygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuXCJ1cFwiIT09ZX0pO3RoaXMubW92ZSh0K1wiIFwiK3Qse3VwcGVyQ2FzZTohMH0pLHRoaXMuX3NvbHZlQ2FzZTIoe2VkZ2U6cn0pfX19LHtrZXk6XCJfc29sdmVDYXNlMlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuZWRnZSx0PXRoaXMuX2Nhc2UxQW5kMkhlbHBlcih7ZWRnZTpyfSwyKTt0aGlzLm1vdmUodCx7dXBwZXJDYXNlOiEwfSl9fSx7a2V5OlwiX3NvbHZlQ2FzZTNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lLmVkZ2UsdD10aGlzLl9jYXNlM0FuZDRIZWxwZXIoe2VkZ2U6cn0sMyk7dGhpcy5tb3ZlKHQse3VwcGVyQ2FzZTohMH0pLHRoaXMuX3NvbHZlQ2FzZTUoe2VkZ2U6cn0pfX0se2tleTpcIl9zb2x2ZUNhc2U0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5lZGdlLHQ9KDAscy5nZXRSb3RhdGlvbkZyb21UbykoXCJkb3duXCIsci5nZXRGYWNlT2ZDb2xvcihcInVcIiksKDAscy5nZXRGYWNlT2ZNb3ZlKShyLmdldENvbG9yT2ZGYWNlKFwiZG93blwiKSkpO3RoaXMubW92ZSh0LHt1cHBlckNhc2U6ITB9KTt2YXIgbz1sKHIuZ2V0RmFjZU9mQ29sb3IoXCJ1XCIpKTt0aGlzLm1vdmUobyx7dXBwZXJDYXNlOiEwfSksdGhpcy5fc29sdmVDYXNlNSh7ZWRnZTpyfSl9fSx7a2V5OlwiX3NvbHZlQ2FzZTVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lLmVkZ2UsdD10aGlzLl9jYXNlNUFuZDZIZWxwZXIoe2VkZ2U6cn0sNSk7dGhpcy5tb3ZlKHQse3VwcGVyQ2FzZTohMH0pfX0se2tleTpcIl9zb2x2ZUNhc2U2XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5lZGdlLHQ9dGhpcy5fY2FzZTVBbmQ2SGVscGVyKHtlZGdlOnJ9LDYpO3RoaXMubW92ZSh0LHt1cHBlckNhc2U6ITB9KX19LHtrZXk6XCJfY2FzZTFBbmQySGVscGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSxyKXt2YXIgdD1lLmVkZ2Usbz0xPT09cj9cInVwXCI6XCJkb3duXCIsbj10LmZhY2VzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PW99KSxpPSgwLHMuZ2V0RmFjZU9mTW92ZSkodC5nZXRDb2xvck9mRmFjZShuKSksYT0oMCxzLmdldFJvdGF0aW9uRnJvbVRvKShvLG4saSk7aWYoMj09PXIpe3ZhciB1PSgwLHMuZ2V0TW92ZU9mRmFjZSkoaSk7YSs9XCIgXCIrdStcIiBcIit1fXJldHVybiBhfX0se2tleTpcIl9jYXNlM0FuZDRIZWxwZXJcIix2YWx1ZTpmdW5jdGlvbihlLHIpe3ZhciB0PWUuZWRnZSxvPXQuZmFjZXMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiFbXCJ1cFwiLFwiZG93blwiXS5pbmNsdWRlcyhlKX0pO3JldHVybiA0PT09ciYmKG89bChvKSksb319LHtrZXk6XCJfY2FzZTVBbmQ2SGVscGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSxyKXt2YXIgdD1lLmVkZ2Usbz10LmNvbG9ycygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuXCJ1XCIhPT1lfSksbj10LmdldEZhY2VPZkNvbG9yKG8pLGk9KDAscy5nZXRGYWNlT2ZNb3ZlKShvKSxhPSgwLHMuZ2V0Um90YXRpb25Gcm9tVG8pKFwidXBcIixuLGkpLHU9KDAscy5nZXRNb3ZlT2ZGYWNlKShuKTtyZXR1cm4gNj09PXImJih1PWwodSkpLGwoYSkrXCIgXCIrdStcIiBcIithfX0se2tleTpcIl9nZXRQYXJ0aXRpb25CZWZvcmVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm57ZWRnZTplLmVkZ2UuY2xvbmUoKX19fSx7a2V5OlwiX2dldFBhcnRpdGlvbkFmdGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJue2VkZ2U6ZS5lZGdlfX19XSkscn0odS5CYXNlU29sdmVyKTtyLkNyb3NzU29sdmVyPWZ9LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUscil7aWYoIShlIGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBuKGUscil7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFyfHxcIm9iamVjdFwiIT10eXBlb2YgciYmXCJmdW5jdGlvblwiIT10eXBlb2Ygcj9lOnJ9ZnVuY3Rpb24gaShlLHIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHImJm51bGwhPT1yKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiByKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHImJnIucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxyJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHIpOmUuX19wcm90b19fPXIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIuRjJMQmFzZVNvbHZlcj12b2lkIDA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUscil7Zm9yKHZhciB0PTA7dDxyLmxlbmd0aDt0Kyspe3ZhciBvPXJbdF07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24ocix0LG8pe3JldHVybiB0JiZlKHIucHJvdG90eXBlLHQpLG8mJmUocixvKSxyfX0oKSx1PXQoMiksYz10KDEpLHM9dCgwKSxsPWZ1bmN0aW9uKGUpe3JldHVybiBjLlJ1Ymlrc0N1YmUucmV2ZXJzZU1vdmVzKGUpfSxmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoKXt2YXIgZTtvKHRoaXMscik7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1BcnJheSh0KSxhPTA7YTx0O2ErKylpW2FdPWFyZ3VtZW50c1thXTt2YXIgdT1uKHRoaXMsKGU9ci5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihyKSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQoaSkpKTtyZXR1cm4gdS5waGFzZT1cImYybFwiLHV9cmV0dXJuIGkocixlKSxhKHIsW3trZXk6XCJjb2xvcnNNYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlLG89dC5jb2xvcnMoKTtyZXR1cm4hKCFyLmNvbG9ycygpLmluY2x1ZGVzKG9bMF0pfHwhci5jb2xvcnMoKS5pbmNsdWRlcyhvWzFdKSl9fSx7a2V5OlwiaXNQYWlyU29sdmVkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb3JuZXIsdD1lLmVkZ2U7aWYoIXRoaXMuaXNQYWlyTWF0Y2hlZCh7Y29ybmVyOnIsZWRnZTp0fSkpcmV0dXJuITE7aWYoXCJ1cFwiIT09ci5nZXRGYWNlT2ZDb2xvcihcInVcIikpcmV0dXJuITE7dmFyIG89ITAsbj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLHU9dC5jb2xvcnMoKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShvPShhPXUubmV4dCgpKS5kb25lKTtvPSEwKXt2YXIgYz1hLnZhbHVlO2lmKHQuZ2V0RmFjZU9mQ29sb3IoYykhPT0oMCxzLmdldEZhY2VPZk1vdmUpKGMpKXJldHVybiExfX1jYXRjaChlKXtuPSEwLGk9ZX1maW5hbGx5e3RyeXshbyYmdS5yZXR1cm4mJnUucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IGl9fXJldHVybiEwfX0se2tleTpcImlzUGFpck1hdGNoZWRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lLmNvcm5lcix0PWUuZWRnZTtpZighdGhpcy5jb2xvcnNNYXRjaCh7Y29ybmVyOnIsZWRnZTp0fSkpcmV0dXJuITE7dmFyIG89ITAsbj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLHU9dC5jb2xvcnMoKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShvPShhPXUubmV4dCgpKS5kb25lKTtvPSEwKXt2YXIgYz1hLnZhbHVlO2lmKHIuZ2V0RmFjZU9mQ29sb3IoYykhPT10LmdldEZhY2VPZkNvbG9yKGMpKXJldHVybiExfX1jYXRjaChlKXtuPSEwLGk9ZX1maW5hbGx5e3RyeXshbyYmdS5yZXR1cm4mJnUucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IGl9fXJldHVybiEwfX0se2tleTpcImlzUGFpclNlcGFyYXRlZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlO2lmKCF0aGlzLmNvbG9yc01hdGNoKHtjb3JuZXI6cixlZGdlOnR9KSlyZXR1cm4hMTtpZihbXCJ1cFwiLFwiZG93blwiXS5pbmNsdWRlcyhyLmdldEZhY2VPZkNvbG9yKFwidVwiKSkpcmV0dXJuITE7aWYoIXQuZmFjZXMoKS5pbmNsdWRlcyhcImRvd25cIikpcmV0dXJuITE7dmFyIG89ci5jb2xvcnMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVyblwidVwiIT09ZSYmXCJkb3duXCIhPT1yLmdldEZhY2VPZkNvbG9yKGUpfSk7cmV0dXJuXCJkb3duXCI9PT10LmdldEZhY2VPZkNvbG9yKG8pJiZcImJhY2tcIj09PSgwLHMuZ2V0RGlyZWN0aW9uRnJvbUZhY2VzKShyLmdldEZhY2VPZkNvbG9yKG8pLHQuZ2V0RmFjZU9mQ29sb3Ioci5nZXRDb2xvck9mRmFjZShcImRvd25cIikpLHt1cDpcInVwXCJ9KX19LHtrZXk6XCJzb2x2ZU1hdGNoZWRQYWlyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb3JuZXIsdD1lLmVkZ2U7aWYoIXRoaXMuaXNQYWlyTWF0Y2hlZCh7Y29ybmVyOnIsZWRnZTp0fSkpdGhyb3cgbmV3IEVycm9yKFwiUGFpciBpcyBub3QgbWF0Y2hlZFwiKTt2YXIgbz10LmNvbG9ycygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuXCJkb3duXCIhPT10LmdldEZhY2VPZkNvbG9yKGUpfSksbj1cImxlZnRcIj09PSgwLHMuZ2V0RGlyZWN0aW9uRnJvbUZhY2VzKSh0LmdldEZhY2VPZkNvbG9yKG8pLHIuZ2V0RmFjZU9mQ29sb3IoXCJ1XCIpLHt1cDpcImRvd25cIn0pLGk9KDAscy5nZXRGYWNlT2ZNb3ZlKShvKSxhPXIuZ2V0RmFjZU9mQ29sb3IobyksdT0oMCxzLmdldEZhY2VGcm9tRGlyZWN0aW9uKShpLG4/XCJsZWZ0XCI6XCJyaWdodFwiLHt1cDpcImRvd25cIn0pLGM9KDAscy5nZXRSb3RhdGlvbkZyb21UbykoXCJkb3duXCIsYSx1KSxmPW4/aTpsKGkpLHY9bj9cIkRQcmltZVwiOlwiRFwiLG09W2MsZix2LGwoZildLmpvaW4oXCIgXCIpO3JldHVybiB0aGlzLm1vdmUobSx7dXBwZXJDYXNlOiEwfSksbX19LHtrZXk6XCJzb2x2ZVNlcGFyYXRlZFBhaXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lLmNvcm5lcix0PWUuZWRnZTtpZighdGhpcy5pc1BhaXJTZXBhcmF0ZWQoe2Nvcm5lcjpyLGVkZ2U6dH0pKXRocm93IG5ldyBFcnJvcihcIlBhaXIgaXMgbm90IHNlcGFyYXRlZFwiKTt2YXIgbz10LmNvbG9ycygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuXCJkb3duXCIhPT10LmdldEZhY2VPZkNvbG9yKGUpfSksbj1cIkxFRlRcIj09PSgwLHMuZ2V0RGlyZWN0aW9uRnJvbUZhY2VzKShyLmdldEZhY2VPZkNvbG9yKFwidVwiKSx0LmdldEZhY2VPZkNvbG9yKG8pLHt1cDpcImRvd25cIn0pLnRvVXBwZXJDYXNlKCksaT1yLmdldEZhY2VPZkNvbG9yKFwidVwiKSxhPSgwLHMuZ2V0RmFjZU9mTW92ZSkobyksdT0oMCxzLmdldFJvdGF0aW9uRnJvbVRvKShcImRvd25cIixpLGEpLGM9KDAscy5nZXRNb3ZlT2ZGYWNlKShhKTtjPW4/bChjKTpjO3ZhciBmPW4/XCJEUHJpbWVcIjpcIkRcIix2PVt1LGMsZixsKGMpXS5qb2luKFwiIFwiKTtyZXR1cm4gdGhpcy5tb3ZlKHYse3VwcGVyQ2FzZTohMH0pLHZ9fSx7a2V5OlwiX2dldFBhcnRpdGlvbkJlZm9yZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlO3JldHVybntjb3JuZXI6ci5jbG9uZSgpLGVkZ2U6dC5jbG9uZSgpfX19LHtrZXk6XCJfZ2V0UGFydGl0aW9uQWZ0ZXJcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm57Y29ybmVyOmUuY29ybmVyLGVkZ2U6ZS5lZGdlfX19XSkscn0odS5CYXNlU29sdmVyKTtyLkYyTEJhc2VTb2x2ZXI9Zn0sZnVuY3Rpb24oZSxyLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciByPTAsdD1BcnJheShlLmxlbmd0aCk7cjxlLmxlbmd0aDtyKyspdFtyXT1lW3JdO3JldHVybiB0fXJldHVybiBBcnJheS5mcm9tKGUpfWZ1bmN0aW9uIG4oZSxyKXtpZighKGUgaW5zdGFuY2VvZiByKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkoZSxyKXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXJ8fFwib2JqZWN0XCIhPXR5cGVvZiByJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiByP2U6cn1mdW5jdGlvbiBhKGUscil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgciYmbnVsbCE9PXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUociYmci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHImJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUscik6ZS5fX3Byb3RvX189cil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5GMkxTb2x2ZXI9dm9pZCAwO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHIpe2Zvcih2YXIgdD0wO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbz1yW3RdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHIsdCxvKXtyZXR1cm4gdCYmZShyLnByb3RvdHlwZSx0KSxvJiZlKHIsbykscn19KCksYz10KDEpLHM9dCgxMiksbD10KDM1KSxmPXQoMzYpLHY9dCgzNyksbT10KDApLGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGMuUnViaWtzQ3ViZS5yZXZlcnNlTW92ZXMoZSl9LHA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcigpe3ZhciBlO24odGhpcyxyKTtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxvPUFycmF5KHQpLGE9MDthPHQ7YSsrKW9bYV09YXJndW1lbnRzW2FdO3ZhciB1PWkodGhpcywoZT1yLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChvKSkpO3JldHVybiB1LnN1YkNhc2VPcHRpb25zPU9iamVjdC5hc3NpZ24odS5vcHRpb25zLHtfb3ZlcnJpZGVBZnRlckVhY2g6ITB9KSx1fXJldHVybiBhKHIsZSksdShyLFt7a2V5Olwic29sdmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMucGFydGl0aW9ucz1bXSx0aGlzLmdldEFsbFBhaXJzKCkuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgdD1yLmNvcm5lcixvPXIuZWRnZSxuPWUuX3NvbHZlKHtjb3JuZXI6dCxlZGdlOm99KTtlLnBhcnRpdGlvbnMucHVzaChuKX0pLHRoaXMucGFydGl0aW9uc319LHtrZXk6XCJpc1NvbHZlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRBbGxQYWlycygpLHI9ITAsdD0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBuLGk9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShuPWkubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgYT1uLnZhbHVlO2lmKCF0aGlzLmlzUGFpclNvbHZlZChhKSlyZXR1cm4hMX19Y2F0Y2goZSl7dD0hMCxvPWV9ZmluYWxseXt0cnl7IXImJmkucmV0dXJuJiZpLnJldHVybigpfWZpbmFsbHl7aWYodCl0aHJvdyBvfX1yZXR1cm4hMH19LHtrZXk6XCJnZXRBbGxQYWlyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jdWJlLmNvcm5lcnMoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaGFzQ29sb3IoXCJ1XCIpfSkscj10aGlzLmN1YmUuZWRnZXMoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUuaGFzQ29sb3IoXCJ1XCIpJiYhZS5oYXNDb2xvcihcImRcIil9KSx0PVtdLG89ITAsbj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLHU9cltTeW1ib2wuaXRlcmF0b3JdKCk7IShvPShhPXUubmV4dCgpKS5kb25lKTtvPSEwKSFmdW5jdGlvbigpe3ZhciByPWEudmFsdWUsbz1lLmZpbmQoZnVuY3Rpb24oZSl7dmFyIHQ9ci5jb2xvcnMoKTtyZXR1cm4gZS5oYXNDb2xvcih0WzBdKSYmZS5oYXNDb2xvcih0WzFdKX0pO3QucHVzaCh7ZWRnZTpyLGNvcm5lcjpvfSl9KCl9Y2F0Y2goZSl7bj0hMCxpPWV9ZmluYWxseXt0cnl7IW8mJnUucmV0dXJuJiZ1LnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyBpfX1yZXR1cm4gdH19LHtrZXk6XCJfZ2V0Q2FzZU51bWJlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlO2lmKHIuZmFjZXMoKS5pbmNsdWRlcyhcImRvd25cIikpe2lmKHQuZmFjZXMoKS5pbmNsdWRlcyhcImRvd25cIikpcmV0dXJuIDE7aWYoIXQuZmFjZXMoKS5pbmNsdWRlcyhcImRvd25cIikmJiF0LmZhY2VzKCkuaW5jbHVkZXMoXCJ1cFwiKSlyZXR1cm4gMn1pZihyLmZhY2VzKCkuaW5jbHVkZXMoXCJ1cFwiKSl7aWYodC5mYWNlcygpLmluY2x1ZGVzKFwiZG93blwiKSlyZXR1cm4gMztpZighdC5mYWNlcygpLmluY2x1ZGVzKFwiZG93blwiKSYmIXQuZmFjZXMoKS5pbmNsdWRlcyhcInVwXCIpKXJldHVybiA0fXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIGEgdG9wIGxldmVsIEYyTCBjYXNlXCIpfX0se2tleTpcIl9zb2x2ZUNhc2UxXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb3JuZXIsdD1lLmVkZ2Usbz1uZXcgbC5DYXNlMVNvbHZlcih0aGlzLmN1YmUsdGhpcy5zdWJDYXNlT3B0aW9ucyksbj1vLnNvbHZlKHtjb3JuZXI6cixlZGdlOnR9KTt0aGlzLnRvdGFsTW92ZXM9bi5tb3Zlcyx0aGlzLnBhcnRpdGlvbi5jYXNlTnVtYmVyPVt0aGlzLnBhcnRpdGlvbi5jYXNlTnVtYmVyLG4uY2FzZU51bWJlcl19fSx7a2V5OlwiX3NvbHZlQ2FzZTJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lLmNvcm5lcix0PWUuZWRnZSxvPW5ldyBmLkNhc2UyU29sdmVyKHRoaXMuY3ViZSx0aGlzLnN1YkNhc2VPcHRpb25zKSxuPW8uc29sdmUoe2Nvcm5lcjpyLGVkZ2U6dH0pO3RoaXMudG90YWxNb3Zlcz1uLm1vdmVzLHRoaXMucGFydGl0aW9uLmNhc2VOdW1iZXI9W3RoaXMucGFydGl0aW9uLmNhc2VOdW1iZXIsbi5jYXNlTnVtYmVyXX19LHtrZXk6XCJfc29sdmVDYXNlM1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlLG89bmV3IHYuQ2FzZTNTb2x2ZXIodGhpcy5jdWJlLHRoaXMuc3ViQ2FzZU9wdGlvbnMpLG49by5zb2x2ZSh7Y29ybmVyOnIsZWRnZTp0fSk7dGhpcy50b3RhbE1vdmVzPW4ubW92ZXMsdGhpcy5wYXJ0aXRpb24uY2FzZU51bWJlcj1bdGhpcy5wYXJ0aXRpb24uY2FzZU51bWJlcixuLmNhc2VOdW1iZXJdfX0se2tleTpcIl9zb2x2ZUNhc2U0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb3JuZXIsdD1lLmVkZ2U7aWYoIXRoaXMuaXNQYWlyU29sdmVkKHtjb3JuZXI6cixlZGdlOnR9KSl7dmFyIG49dm9pZCAwO249ci5mYWNlcygpLmluY2x1ZGVzKHQuZmFjZXMoKVswXSkmJnIuZmFjZXMoKS5pbmNsdWRlcyh0LmZhY2VzKClbMV0pP25ldyBsLkNhc2UxU29sdmVyKHRoaXMuY3ViZSx0aGlzLnN1YkNhc2VPcHRpb25zKTpuZXcgZi5DYXNlMlNvbHZlcih0aGlzLmN1YmUsdGhpcy5zdWJDYXNlT3B0aW9ucyk7dmFyIGk9ci5mYWNlcygpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cInVwXCIhPT1lfSksYT0oMCxtLmdldERpcmVjdGlvbkZyb21GYWNlcykoaVswXSxpWzFdLHt1cDpcImRvd25cIn0pLHU9XCJyaWdodFwiPT09YT9pWzFdOmlbMF07dGhpcy5tb3ZlKHUrXCIgRCBcIitoKHUpLHt1cHBlckNhc2U6ITB9KTt2YXIgYz1uLnNvbHZlKHtjb3JuZXI6cixlZGdlOnR9KTt0aGlzLnBhcnRpdGlvbi5jYXNlTnVtYmVyPVt0aGlzLnBhcnRpdGlvbi5jYXNlTnVtYmVyLGMuY2FzZU51bWJlcl0sdGhpcy50b3RhbE1vdmVzPVtdLmNvbmNhdChvKHRoaXMudG90YWxNb3ZlcyksbyhjLm1vdmVzKSl9fX1dKSxyfShzLkYyTEJhc2VTb2x2ZXIpO3IuRjJMU29sdmVyPXB9LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX1mdW5jdGlvbiBuKGUscil7aWYoIShlIGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKGUscil7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFyfHxcIm9iamVjdFwiIT10eXBlb2YgciYmXCJmdW5jdGlvblwiIT10eXBlb2Ygcj9lOnJ9ZnVuY3Rpb24gYShlLHIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHImJm51bGwhPT1yKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiByKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHImJnIucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxyJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHIpOmUuX19wcm90b19fPXIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIuT0xMU29sdmVyPXZvaWQgMDt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxyKXt2YXIgdD1bXSxvPSEwLG49ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSx1PWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYT11Lm5leHQoKSkuZG9uZSkmJih0LnB1c2goYS52YWx1ZSksIXJ8fHQubGVuZ3RoIT09cik7bz0hMCk7fWNhdGNoKGUpe249ITAsaT1lfWZpbmFsbHl7dHJ5eyFvJiZ1LnJldHVybiYmdS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgaX19cmV0dXJuIHR9cmV0dXJuIGZ1bmN0aW9uKHIsdCl7aWYoQXJyYXkuaXNBcnJheShyKSlyZXR1cm4gcjtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHIpKXJldHVybiBlKHIsdCk7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9fSgpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUscil7Zm9yKHZhciB0PTA7dDxyLmxlbmd0aDt0Kyspe3ZhciBvPXJbdF07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24ocix0LG8pe3JldHVybiB0JiZlKHIucHJvdG90eXBlLHQpLG8mJmUocixvKSxyfX0oKSxzPSh0KDEpLHQoMikpLGw9dCgwKSxmPVwiMDAwMDAwMDBcIix2PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoKXt2YXIgZSx0O24odGhpcyxyKTtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aCx1PUFycmF5KGEpLGM9MDtjPGE7YysrKXVbY109YXJndW1lbnRzW2NdO3ZhciBzPWkodGhpcywoZT1yLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdCh1KSkpO3JldHVybiBzLnBoYXNlPVwib2xsXCIscy5hbGdvcml0aG1zPSh0PXt9LG8odCxmLFwiXCIpLG8odCxcIjIxMDAwMTEwXCIsXCJGIFIgVSBSUHJpbWUgVVByaW1lIEZQcmltZVwiKSxvKHQsXCIyMTIxMTAxMFwiLFwiRiBSIFUgUlByaW1lIFVQcmltZSBGUHJpbWUgRiBSIFUgUlByaW1lIFVQcmltZSBGUHJpbWVcIiksbyh0LFwiMTAyMDEwMjBcIixcIlIgVTIgUlByaW1lIFVQcmltZSBSIFUgUlByaW1lIFVQcmltZSBSIFVQcmltZSBSUHJpbWVcIiksbyh0LFwiMDExMTIwMDBcIixcIkYgVSBSIFVQcmltZSBSUHJpbWUgRlByaW1lXCIpLG8odCxcIjExMTAyMTIwXCIsXCJGIFUgUiBVUHJpbWUgUlByaW1lIFUgUiBVUHJpbWUgUlByaW1lIEZQcmltZVwiKSxvKHQsXCIxMTIxMDAwMFwiLFwiUlByaW1lIFVQcmltZSBGUHJpbWUgVSBGIFJcIiksbyh0LFwiMTExMDIwMjFcIixcIkZQcmltZSBMUHJpbWUgVVByaW1lIEwgVSBMUHJpbWUgVVByaW1lIEwgVSBGXCIpLG8odCxcIjEwMDExMTEwXCIsXCJSIEwyIEJQcmltZSBMIEJQcmltZSBMUHJpbWUgQjIgTCBCUHJpbWUgTCBSUHJpbWVcIiksbyh0LFwiMDAyMDIxMjFcIixcIkxQcmltZSBSMiBCIFJQcmltZSBCIFIgQjIgUlByaW1lIEIgUlByaW1lIExcIiksbyh0LFwiMDExMTExMTFcIixcIkYgVSBSIFVQcmltZSBSUHJpbWUgRlByaW1lIEwgRiBVIEZQcmltZSBVUHJpbWUgTFByaW1lXCIpLG8odCxcIjIxMjEyMTAxXCIsXCJGIFUgUiBVUHJpbWUgUlByaW1lIEZQcmltZSBSIEIgVSBCUHJpbWUgVVByaW1lIFJQcmltZVwiKSxvKHQsXCIyMTIxMTExMVwiLFwiRiBSIFUgUlByaW1lIFVQcmltZSBGUHJpbWUgQiBVIEwgVVByaW1lIExQcmltZSBCUHJpbWVcIiksbyh0LFwiMjAyMDEwMTBcIixcIlIgVTIgUjIgVVByaW1lIFIyIFVQcmltZSBSMiBVMiBSXCIpLG8odCxcIjAxMTAxMTEwXCIsXCJSIEIgUlByaW1lIEwgVSBMUHJpbWUgVVByaW1lIFIgQlByaW1lIFJQcmltZVwiKSxvKHQsXCIyMTAwMjEyMFwiLFwiTFByaW1lIEJQcmltZSBMIFJQcmltZSBVUHJpbWUgUiBVIExQcmltZSBCIExcIiksbyh0LFwiMjEwMDExMDBcIixcIlJQcmltZSBGIFIgVSBSUHJpbWUgVVByaW1lIEZQcmltZSBVIFJcIiksbyh0LFwiMDEwMDAxMDBcIixcIlIgVSBSUHJpbWUgVVByaW1lIE1QcmltZSBVIFIgVVByaW1lIHJQcmltZVwiKSxvKHQsXCIwMTAxMDEwMVwiLFwiTSBVIFIgVSBSUHJpbWUgVVByaW1lIE0yIFUgUiBVUHJpbWUgclByaW1lXCIpLG8odCxcIjEwMjExMDIxXCIsXCJGIFIgVSBSUHJpbWUgVVByaW1lIFIgVSBSUHJpbWUgVVByaW1lIEZQcmltZSBCIFUgTCBVUHJpbWUgTFByaW1lIEJQcmltZVwiKSxvKHQsXCIxMTAwMDEyMFwiLFwiUiBVIFJQcmltZSBVUHJpbWUgUlByaW1lIEYgUiBGUHJpbWVcIiksbyh0LFwiMTAwMDAwMjBcIixcIkxQcmltZSBCUHJpbWUgUiBCIEwgQlByaW1lIFJQcmltZSBCXCIpLG8odCxcIjIwMDAxMDAwXCIsXCJCIExQcmltZSBCUHJpbWUgUiBCIEwgQlByaW1lIFJQcmltZVwiKSxvKHQsXCIwMDExMjAwMVwiLFwiUlByaW1lIFVQcmltZSBSUHJpbWUgRiBSIEZQcmltZSBVIFJcIiksbyh0LFwiMjExMTIxMTFcIixcIlIgVTIgUlByaW1lIFJQcmltZSBGIFIgRlByaW1lIFUyIFJQcmltZSBGIFIgRlByaW1lXCIpLG8odCxcIjEwMDAyMTAxXCIsXCJSIFUyIFJQcmltZSBSUHJpbWUgRiBSIEZQcmltZSBSIFUyIFJQcmltZVwiKSxvKHQsXCIyMTExMDEwMVwiLFwiTSBVIFIgVSBSUHJpbWUgVVByaW1lIE1QcmltZSBSUHJpbWUgRiBSIEZQcmltZVwiKSxvKHQsXCIxMTIxMjAxMFwiLFwiRiBMUHJpbWUgVTIgTCBVMiBMIEYyIExQcmltZSBGXCIpLG8odCxcIjAxMTEwMDIwXCIsXCJSIFUgUlByaW1lIFUgUiBVUHJpbWUgUlByaW1lIFVQcmltZSBSUHJpbWUgRiBSIEZQcmltZVwiKSxvKHQsXCIxMDAxMjEwMFwiLFwiUlByaW1lIFVQcmltZSBSIFVQcmltZSBSUHJpbWUgVSBSIFUgUiBCUHJpbWUgUlByaW1lIEJcIiksbyh0LFwiMTAxMTIwMjFcIixcIlJQcmltZSBVUHJpbWUgUiBVUHJpbWUgUlByaW1lIFUgRlByaW1lIFUgRiBSXCIpLG8odCxcIjAxMTEwMTIxXCIsXCJGIFUgUiBVUHJpbWUgUlByaW1lIEZQcmltZSBGIFUgRlByaW1lIFVQcmltZSBGUHJpbWUgTCBGIExQcmltZVwiKSxvKHQsXCIwMTExMjEwMVwiLFwiRiBVIFIgVVByaW1lIFJQcmltZSBGUHJpbWUgQiBVIEJQcmltZSBVUHJpbWUgU1ByaW1lIFUgQiBVUHJpbWUgYlByaW1lXCIpLG8odCxcIjIxMjEyMDAwXCIsXCJsUHJpbWUgVTIgTCBVIExQcmltZSBVIGxcIiksbyh0LFwiMDEyMTIwMjBcIixcInIgVSBSUHJpbWUgVSBSIFUyIHJQcmltZVwiKSxvKHQsXCIwMDIwMjAyMFwiLFwiUiBVIFJQcmltZSBVIFIgVTIgUlByaW1lXCIpLG8odCxcIjEwMTAxMDAwXCIsXCJSUHJpbWUgVVByaW1lIFIgVVJwcmltZSBSUHJpbWUgVTIgUlwiKSxvKHQsXCIwMTAwMTAyMVwiLFwiUlByaW1lIFUgUiBVMiBSUHJpbWUgVVByaW1lIEZQcmltZSBVIEYgVSBSXCIpLG8odCxcIjEwMjAwMTAxXCIsXCJSIFVQcmltZSBSUHJpbWUgVTIgUiBVIEIgVVByaW1lIEJQcmltZSBVUHJpbWUgUlByaW1lXCIpLG8odCxcIjIxMTAyMDExXCIsXCJyIFUgUlByaW1lIFUgUiBVUHJpbWUgUlByaW1lIFUgUiBVMiByUHJpbWVcIiksbyh0LFwiMjExMTIwMTBcIixcImxQcmltZSBVUHJpbWUgTCBVUHJpbWUgTFByaW1lIFUgTCBVUHJpbWUgTFByaW1lIFUyIGxcIiksbyh0LFwiMTExMDAwMTFcIixcInIgVTIgUlByaW1lIFVQcmltZSBSIFVQcmltZSByUHJpbWVcIiksbyh0LFwiMTEwMTIwMDBcIixcIkYgUiBVUHJpbWUgUlByaW1lIFVQcmltZSBSIFUgUlByaW1lIEZQcmltZVwiKSxvKHQsXCIxMTAwMTAxMVwiLFwibFByaW1lIFVQcmltZSBMIFVQcmltZSBMUHJpbWUgVTIgbFwiKSxvKHQsXCIwMTAxMDAwMFwiLFwiciBVIFJQcmltZSBVUHJpbWUgTSBVIFIgVVByaW1lIFJQcmltZVwiKSxvKHQsXCIwMTAwMjExMFwiLFwiUiBVIFJQcmltZSBVUHJpbWUgQlByaW1lIFJQcmltZSBGIFIgRlByaW1lIEJcIiksbyh0LFwiMDEyMDIxMjBcIixcIkwgRlByaW1lIExQcmltZSBVUHJpbWUgTCBGIExQcmltZSBGUHJpbWUgVSBGXCIpLG8odCxcIjExMDAxMTEwXCIsXCJSUHJpbWUgRiBSIFUgUlByaW1lIEZQcmltZSBSIEYgVVByaW1lIEZQcmltZVwiKSxvKHQsXCIxMDIwMDAwMFwiLFwiUjIgRCBSUHJpbWUgVTIgUiBEUHJpbWUgUlByaW1lIFUyIFJQcmltZVwiKSxvKHQsXCIyMDExMjAxMVwiLFwiUlByaW1lIFUyIFIyIFUgUlByaW1lIFUgUiBVMiBCUHJpbWUgUlByaW1lIEJcIiksbyh0LFwiMTAwMDAxMjFcIixcIlIgVSBCUHJpbWUgVVByaW1lIFJQcmltZSBVIFIgQiBSUHJpbWVcIiksbyh0LFwiMTEwMDAwMjFcIixcIlJQcmltZSBVUHJpbWUgRiBVIFIgVVByaW1lIFJQcmltZSBGUHJpbWUgUlwiKSxvKHQsXCIwMTEwMDEyMFwiLFwiTCBGUHJpbWUgTFByaW1lIFVQcmltZSBMIFUgRiBVUHJpbWUgTFByaW1lXCIpLG8odCxcIjExMTEyMDIwXCIsXCJSUHJpbWUgRiBSMiBGUHJpbWUgVTIgRlByaW1lIFUyIEYgUlByaW1lXCIpLG8odCxcIjIwMTEwMTAwXCIsXCJCUHJpbWUgUlByaW1lIEIgTFByaW1lIEJQcmltZSBSIFIgQlByaW1lIFJQcmltZSBCMiBMXCIpLG8odCxcIjIwMTAwMTAxXCIsXCJCIEwgQlByaW1lIFIgQiBMMiBCIEwgQjIgUlByaW1lXCIpLG8odCxcIjAxMTAxMDExXCIsXCJGUHJpbWUgVVByaW1lIEYgTCBGUHJpbWUgTFByaW1lIFUgTCBGIExQcmltZVwiKSxvKHQsXCIyMTAxMjAyMFwiLFwiRiBVIEZQcmltZSBSUHJpbWUgRiBSIFVQcmltZSBSUHJpbWUgRlByaW1lIFJcIiksdCksc31yZXR1cm4gYShyLGUpLGMocixbe2tleTpcImlzU29sdmVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPbGxTdHJpbmcoKT09PWZ9fSx7a2V5Olwic29sdmVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb2x2ZSgpfX0se2tleTpcIl9nZXRDYXNlTnVtYmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPbGxTdHJpbmcoKX19LHtrZXk6XCJfc29sdmVDYXNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcy5maW5kUGF0dGVybihlKSx0PXRoaXMuZ2V0QWxnb3JpdGhtKHIpLG89dGhpcy5fZ2V0RnJvbnRGYWNlKGUscik7dGhpcy5tb3ZlKHQse29yaWVudGF0aW9uOnt1cDpcImRvd25cIixmcm9udDpvfX0pfX0se2tleTpcImdldE9sbFN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxyPVtdO3JldHVybiB0aGlzLl9nZXRPbGxDdWJpZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPWUuX2dldEN1YmllT3JpZW50YXRpb24odCk7ci5wdXNoKG8pfSksci5qb2luKFwiXCIpfX0se2tleTpcImZpbmRQYXR0ZXJuXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9dGhpcy5nZXRPbGxTdHJpbmcoKSk7Zm9yKHZhciByPTA7cjw0O3IrKyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuYWxnb3JpdGhtc1tlXSlyZXR1cm4gZTtlPXRoaXMuX3JvdGF0ZU9sbFN0cmluZ0xlZnQoZSl9dGhyb3cgbmV3IEVycm9yKCdObyBwYXR0ZXJuIGZvdW5kIGZvciBvbGwgc3RyaW5nIFwiJytlKydcIicpfX0se2tleTpcImdldEFsZ29yaXRobVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMuZ2V0UGF0dGVybihlKSksdm9pZCAwPT09dGhpcy5hbGdvcml0aG1zW2VdKXRocm93IG5ldyBFcnJvcignTm8gYWxnb3JpdGhtIGZvdW5kIGZvciBwYXR0ZXJuIFwiJytlKydcIicpO3JldHVybiB0aGlzLmFsZ29yaXRobXNbZV19fSx7a2V5OlwiX2dldE9sbEN1Ymllc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm5bW1wiZnJvbnRcIixcImRvd25cIixcInJpZ2h0XCJdLFtcImZyb250XCIsXCJkb3duXCJdLFtcImZyb250XCIsXCJkb3duXCIsXCJsZWZ0XCJdLFtcImxlZnRcIixcImRvd25cIl0sW1wibGVmdFwiLFwiZG93blwiLFwiYmFja1wiXSxbXCJiYWNrXCIsXCJkb3duXCJdLFtcImJhY2tcIixcImRvd25cIixcInJpZ2h0XCJdLFtcInJpZ2h0XCIsXCJkb3duXCJdXS5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIGUuY3ViZS5nZXRDdWJpZShyKX0pfX0se2tleTpcIl9nZXRDdWJpZU9yaWVudGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoXCJkXCI9PT1lLmdldENvbG9yT2ZGYWNlKFwiZG93blwiKSlyZXR1cm4gMDtpZihlLmlzRWRnZSgpKXJldHVybiAxO3ZhciByPWUuZmFjZXMoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJkb3duXCIhPT1lfSksdD11KHIsMiksbz10WzBdLG49dFsxXSxpPSgwLGwuZ2V0RGlyZWN0aW9uRnJvbUZhY2VzKShvLG4se3VwOlwiZG93blwifSksYT1cInJpZ2h0XCI9PT1pP246bztyZXR1cm5cImRcIj09PWUuZ2V0Q29sb3JPZkZhY2UoYSk/MToyfX0se2tleTpcIl9nZXRGcm9udEZhY2VcIix2YWx1ZTpmdW5jdGlvbihlLHIpe2Zvcih2YXIgdD1bXCJmcm9udFwiLFwibGVmdFwiLFwiYmFja1wiLFwicmlnaHRcIl0sbz0wO288NDtvKyspe2lmKGU9PT1yKXJldHVybiB0W29dO2U9dGhpcy5fcm90YXRlT2xsU3RyaW5nTGVmdChlKX10aHJvdyBuZXcgRXJyb3IoJ09MTCBzdHJpbmcgXCInK2UrJ1wiIGRvZXMgbm90IHJlc29sdmUgdG8gdGhlIHBhdHRlcm4gXCInK3IrJ1wiJyl9fSx7a2V5OlwiX3JvdGF0ZU9sbFN0cmluZ0xlZnRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbGljZSgyKStlLnNsaWNlKDAsMil9fSx7a2V5OlwiX2dldFBhcnRpdGlvbkJlZm9yZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T2xsU3RyaW5nKCl9fSx7a2V5OlwiX2dldFBhcnRpdGlvbkFmdGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19XSkscn0ocy5CYXNlU29sdmVyKTtyLk9MTFNvbHZlcj12fSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHI9MCx0PUFycmF5KGUubGVuZ3RoKTtyPGUubGVuZ3RoO3IrKyl0W3JdPWVbcl07cmV0dXJuIHR9cmV0dXJuIEFycmF5LmZyb20oZSl9ZnVuY3Rpb24gbihlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9ZnVuY3Rpb24gaShlLHIpe2lmKCEoZSBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHIpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hcnx8XCJvYmplY3RcIiE9dHlwZW9mIHImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHI/ZTpyfWZ1bmN0aW9uIHUoZSxyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygcik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyJiZyLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksciYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxyKTplLl9fcHJvdG9fXz1yKX1PYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxyLlBMTFNvbHZlcj12b2lkIDA7dmFyIGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUscil7Zm9yKHZhciB0PTA7dDxyLmxlbmd0aDt0Kyspe3ZhciBvPXJbdF07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24ocix0LG8pe3JldHVybiB0JiZlKHIucHJvdG90eXBlLHQpLG8mJmUocixvKSxyfX0oKSxzPXQoMiksbD10KDApLGY9XCIwIDAgMCAwIDAgMCAwIDBcIix2PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoKXt2YXIgZSx0O2kodGhpcyxyKTtmb3IodmFyIG89YXJndW1lbnRzLmxlbmd0aCx1PUFycmF5KG8pLGM9MDtjPG87YysrKXVbY109YXJndW1lbnRzW2NdO3ZhciBzPWEodGhpcywoZT1yLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdCh1KSkpO3JldHVybiBzLnBoYXNlPVwicGxsXCIscy5hbGdvcml0aG1zPSh0PXt9LG4odCxmLFwiXCIpLG4odCxcIjIgLTEgMSAtMSAxIDAgMCAyXCIsXCJSMiBGMiBSUHJpbWUgQlByaW1lIFIgRjIgUlByaW1lIEIgUlByaW1lXCIpLG4odCxcIi0xIDEgLTEgMiAyIDAgMCAxXCIsXCJSIEJQcmltZSBSIEYyIFJQcmltZSBCIFIgRjIgUjJcIiksbih0LFwiMSAtMSAyIDIgMCAwIDEgLTFcIixcIlIgVVByaW1lIFIgVSBSIFUgUiBVUHJpbWUgUlByaW1lIFVQcmltZSBSMlwiKSxuKHQsXCItMSAxIC0xIDEgMCAwIDIgMlwiLFwiUjIgVSBSIFUgUlByaW1lIFVQcmltZSBSUHJpbWUgVVByaW1lIFJQcmltZSBVIFJQcmltZVwiKSxuKHQsXCIyIDIgMiAyIDIgMiAyIDJcIixcIk0gTSBVIE0gTSBVMiBNIE0gVSBNIE1cIiksbih0LFwiMCAxIDEgMSAxIDAgMiAyXCIsXCJSIFUgUlByaW1lIFVQcmltZSBSUHJpbWUgRiBSMiBVUHJpbWUgUlByaW1lIFVQcmltZSBSIFUgUlByaW1lIEZQcmltZVwiKSxuKHQsXCIxIDAgMiAwIDEgMCAwIDBcIixcIlIgVTIgUlByaW1lIFVQcmltZSBSIFUyIExQcmltZSBVIFJQcmltZSBVUHJpbWUgTFwiKSxuKHQsXCIwIDIgMiAwIDEgMSAxIDFcIixcIkYgUiBVUHJpbWUgUlByaW1lIFVQcmltZSBSIFUgUlByaW1lIEZQcmltZSBSIFUgUlByaW1lIFVQcmltZSBSUHJpbWUgRiBSIEZQcmltZVwiKSxuKHQsXCIxIC0xIC0xIDIgLTEgLTEgMSAwXCIsXCJSUHJpbWUgVTIgUiBVMiBSUHJpbWUgRiBSIFUgUlByaW1lIFVQcmltZSBSUHJpbWUgRlByaW1lIFIyXCIpLG4odCxcIjAgMSAtMSAtMSAyIC0xIC0xIDFcIixcIlIgVVByaW1lIFJQcmltZSBVUHJpbWUgUiBVIFIgRCBSUHJpbWUgVVByaW1lIFIgRFByaW1lIFJQcmltZSBVMiBSUHJpbWVcIiksbih0LFwiMCAyIC0xIC0xIC0xIC0xIDIgMFwiLFwiUlByaW1lIFUgUlByaW1lIFVQcmltZSBCUHJpbWUgRCBCUHJpbWUgRFByaW1lIEIyIFJQcmltZSBCUHJpbWUgUiBCIFJcIiksbih0LFwiMiAtMSAtMSAtMSAtMSAyIDAgMFwiLFwiUlByaW1lIFVQcmltZSBGUHJpbWUgUiBVIFJQcmltZSBVUHJpbWUgUlByaW1lIEYgUjIgVVByaW1lIFJQcmltZSBVUHJpbWUgUiBVIFJQcmltZSBVIFJcIiksbih0LFwiLTEgMiAyIDIgLTEgMiAwIDJcIixcIkwgVSBMUHJpbWUgQjIgdVByaW1lIEIgVVByaW1lIEJQcmltZSBVIEJQcmltZSB1IEIyXCIpLG4odCxcIjIgLTEgMiAwIDIgLTEgMiAyXCIsXCJSUHJpbWUgVVByaW1lIFIgQjIgdSBCUHJpbWUgVSBCIFVQcmltZSBCIHVQcmltZSBCMlwiKSxuKHQsXCIyIC0xIDEgMSAwIDEgMSAtMVwiLFwiUjIgdVByaW1lIFIgVVByaW1lIFIgVSBSUHJpbWUgdSBSMiBCIFVQcmltZSBCUHJpbWVcIiksbih0LFwiMSAwIDEgMSAtMSAyIC0xIDFcIixcIlIyIHUgUlByaW1lIFUgUlByaW1lIFVQcmltZSBSIHVQcmltZSBSMiBGUHJpbWUgVSBGXCIpLG4odCxcIjEgLTEgLTEgMSAxIC0xIC0xIDFcIixcIlUgUlByaW1lIFVQcmltZSBSIFVQcmltZSBSIFUgUiBVUHJpbWUgUlByaW1lIFUgUiBVIFIyIFVQcmltZSBSUHJpbWVcIiksbih0LFwiMCAxIDAgMCAwIDEgMCAyXCIsXCJMUHJpbWUgVTIgTCBVIExQcmltZSBVMiBSIFVQcmltZSBMIFUgUlByaW1lXCIpLG4odCxcIjEgMSAtMSAtMSAxIDEgLTEgLTFcIixcIlIgQlByaW1lIFJQcmltZSBGIFIgQiBSUHJpbWUgRlByaW1lIFIgQiBSUHJpbWUgRiBSIEJQcmltZSBSUHJpbWUgRlByaW1lXCIpLG4odCxcIjIgMCAyIDAgMiAwIDIgMFwiLFwiUiBVIFJQcmltZSBVIFIgVSBSUHJpbWUgRlByaW1lIFIgVSBSUHJpbWUgVVByaW1lIFJQcmltZSBGIFIyIFVQcmltZSBSUHJpbWUgVTIgUiBVUHJpbWUgUlByaW1lXCIpLG4odCxcIjAgMiAwIDIgMCAyIDAgMlwiLFwiUlByaW1lIFUgUiBVUHJpbWUgUlByaW1lIEZQcmltZSBVUHJpbWUgRiBSIFUgUlByaW1lIEYgUlByaW1lIEZQcmltZSBSIFVQcmltZSBSXCIpLHQpLHN9cmV0dXJuIHUocixlKSxjKHIsW3trZXk6XCJzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvbHZlKCl9fSx7a2V5OlwiX2dldENhc2VOdW1iZXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBsbFN0cmluZygpfX0se2tleTpcIl9zb2x2ZUNhc2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj10aGlzLmZpbmRQYXR0ZXJuKGUpLHQ9dGhpcy5nZXRBbGdvcml0aG0ociksbz10aGlzLl9nZXRGcm9udEZhY2UoZSxyKTt0aGlzLm1vdmUodCx7b3JpZW50YXRpb246e3VwOlwiZG93blwiLGZyb250Om99fSk7dmFyIG49dGhpcy5jdWJlLmdldEN1YmllKFtcImRvd25cIixcImZyb250XCJdKSxpPSgwLGwuZ2V0RmFjZU9mTW92ZSkobi5nZXRDb2xvck9mRmFjZShcImZyb250XCIpKSxhPSgwLGwuZ2V0Um90YXRpb25Gcm9tVG8pKFwiZG93blwiLFwiZnJvbnRcIixpKTt0aGlzLm1vdmUoYSl9fSx7a2V5OlwiaXNTb2x2ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1YmUuaXNTb2x2ZWQoKX19LHtrZXk6XCJnZXRQbGxTdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxyPXRoaXMuX2dldFBsbEN1YmllcygpLHQ9W1wiZnJvbnRcIixcImxlZnRcIixcImJhY2tcIixcInJpZ2h0XCJdLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIG49cltvXSxpPXJbbysxXSxhPXRbfn4oby8yKV0sdT1uLmdldENvbG9yT2ZGYWNlKGEpO2l8fChpPXJbMF0pO3ZhciBjPWkuZ2V0Q29sb3JPZkZhY2UoYSkscz0oMCxsLmdldEZhY2VPZk1vdmUpKHUpLGY9KDAsbC5nZXRGYWNlT2ZNb3ZlKShjKSx2PSgwLGwuZ2V0RGlyZWN0aW9uRnJvbUZhY2VzKShzLGYse3VwOlwiZG93blwifSk7XCJmcm9udFwiPT09diYmKHY9MCksXCJyaWdodFwiPT09diYmKHY9MSksXCJsZWZ0XCI9PT12JiYodj0tMSksXCJiYWNrXCI9PT12JiYodj0yKSxlLnB1c2godil9cmV0dXJuIGUuam9pbihcIiBcIil9fSx7a2V5OlwiZmluZFBhdHRlcm5cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lO3ZvaWQgMD09PWUmJihlPXRoaXMuZ2V0UGxsU3RyaW5nKCkpO2Zvcih2YXIgdD0wO3Q8NDt0Kyspe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmFsZ29yaXRobXNbZV0pcmV0dXJuIGU7ZT10aGlzLl9yb3RhdGVQbGxTdHJpbmdMZWZ0KGUpfXRocm93IG5ldyBFcnJvcignTm8gcGF0dGVybiBmb3VuZCBmb3IgcGxsIHN0cmluZyBcIicrcisnXCInKX19LHtrZXk6XCJnZXRBbGdvcml0aG1cIix2YWx1ZTpmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLmZpbmRQYXR0ZXJuKGUpKSx2b2lkIDA9PT10aGlzLmFsZ29yaXRobXNbZV0pdGhyb3cgbmV3IEVycm9yKCdObyBhbGdvcml0aG0gZm91bmQgZm9yIHBhdHRlcm4gXCInK2UrJ1wiJyk7cmV0dXJuIHRoaXMuYWxnb3JpdGhtc1tlXX19LHtrZXk6XCJfZ2V0UGxsQ3ViaWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybltbXCJmcm9udFwiLFwiZG93blwiLFwicmlnaHRcIl0sW1wiZnJvbnRcIixcImRvd25cIl0sW1wiZnJvbnRcIixcImRvd25cIixcImxlZnRcIl0sW1wibGVmdFwiLFwiZG93blwiXSxbXCJsZWZ0XCIsXCJkb3duXCIsXCJiYWNrXCJdLFtcImJhY2tcIixcImRvd25cIl0sW1wiYmFja1wiLFwiZG93blwiLFwicmlnaHRcIl0sW1wicmlnaHRcIixcImRvd25cIl1dLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gZS5jdWJlLmdldEN1YmllKHIpfSl9fSx7a2V5OlwiX2dldEN1YmllUGVybXV0YXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lLmZhY2VzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm5cImRvd25cIiE9PWV9KSx0PSgwLGwuZ2V0RmFjZU9mTW92ZSkoZS5nZXRDb2xvck9mRmFjZShyKSksbz0oMCxsLmdldFJvdGF0aW9uRnJvbVRvKShcImRvd25cIixyLHQpO289by50b0xvd2VyQ2FzZSgpO3JldHVyblwiXCI9PT1vPzA6by5pbmNsdWRlcyhcInByaW1lXCIpPzE6by5zcGxpdChcIiBcIikubGVuZ3RoPjE/MjotMX19LHtrZXk6XCJfcm90YXRlUGxsU3RyaW5nTGVmdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuc3BsaXQoXCIgXCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSl9KTtyZXR1cm5bXS5jb25jYXQobyhyLnNsaWNlKDIpKSxvKHIuc2xpY2UoMCwyKSkpLmpvaW4oXCIgXCIpfX0se2tleTpcIl9nZXRGcm9udEZhY2VcIix2YWx1ZTpmdW5jdGlvbihlLHIpe2Zvcih2YXIgdD1bXCJmcm9udFwiLFwibGVmdFwiLFwiYmFja1wiLFwicmlnaHRcIl0sbz0wO288NDtvKyspe2lmKGU9PT1yKXJldHVybiB0W29dO2U9dGhpcy5fcm90YXRlUGxsU3RyaW5nTGVmdChlKX10aHJvdyBuZXcgRXJyb3IoJ09MTCBzdHJpbmcgXCInK2UrJ1wiIGRvZXMgbm90IHJlc29sdmUgdG8gdGhlIHBhdHRlcm4gXCInK3IrJ1wiJyl9fV0pLHJ9KHMuQmFzZVNvbHZlcik7ci5QTExTb2x2ZXI9dn0sZnVuY3Rpb24oZSxyLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIuYWxnb3JpdGhtU2hvcnRlbmVyPXIuUExMU29sdmVyPXIuT0xMU29sdmVyPXIuRjJMU29sdmVyPXIuQ3Jvc3NTb2x2ZXI9ci5SdWJpa3NDdWJlPXIuQ3ViaWU9ci5Tb2x2ZXI9dm9pZCAwO3ZhciBvPXQoOSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJDdWJpZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLkN1YmllfX0pO3ZhciBuPXQoMSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJSdWJpa3NDdWJlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uUnViaWtzQ3ViZX19KTt2YXIgaT10KDExKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIkNyb3NzU29sdmVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuQ3Jvc3NTb2x2ZXJ9fSk7dmFyIGE9dCgxMyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJGMkxTb2x2ZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5GMkxTb2x2ZXJ9fSk7dmFyIHU9dCgxNCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJPTExTb2x2ZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS5PTExTb2x2ZXJ9fSk7dmFyIGM9dCgxNSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJQTExTb2x2ZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy5QTExTb2x2ZXJ9fSk7dmFyIHM9dCgzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImFsZ29yaXRobVNob3J0ZW5lclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLmFsZ29yaXRobVNob3J0ZW5lcn19KTt2YXIgbD10KDMzKTtyLlNvbHZlcj1sLlNvbHZlcixyLmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHQ9bmV3IGwuU29sdmVyKGUscik7cmV0dXJuIHQuc29sdmUoKSxyLnBhcnRpdGlvbmVkP3QuZ2V0UGFydGl0aW9ucygpOigwLHMuYWxnb3JpdGhtU2hvcnRlbmVyKSh0LmdldE1vdmVzKCkpfX0sZnVuY3Rpb24oZSxyLHQpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtmdW5jdGlvbiByKCl7dmFyIGU9e21vZGlmaWVyczp7cmVzZXQ6WzAsMF0sYm9sZDpbMSwyMl0sZGltOlsyLDIyXSxpdGFsaWM6WzMsMjNdLHVuZGVybGluZTpbNCwyNF0saW52ZXJzZTpbNywyN10saGlkZGVuOls4LDI4XSxzdHJpa2V0aHJvdWdoOls5LDI5XX0sY29sb3JzOntibGFjazpbMzAsMzldLHJlZDpbMzEsMzldLGdyZWVuOlszMiwzOV0seWVsbG93OlszMywzOV0sYmx1ZTpbMzQsMzldLG1hZ2VudGE6WzM1LDM5XSxjeWFuOlszNiwzOV0sd2hpdGU6WzM3LDM5XSxncmF5Ols5MCwzOV19LGJnQ29sb3JzOntiZ0JsYWNrOls0MCw0OV0sYmdSZWQ6WzQxLDQ5XSxiZ0dyZWVuOls0Miw0OV0sYmdZZWxsb3c6WzQzLDQ5XSxiZ0JsdWU6WzQ0LDQ5XSxiZ01hZ2VudGE6WzQ1LDQ5XSxiZ0N5YW46WzQ2LDQ5XSxiZ1doaXRlOls0Nyw0OV19fTtyZXR1cm4gZS5jb2xvcnMuZ3JleT1lLmNvbG9ycy5ncmF5LE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIHQ9ZVtyXTtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBvPXRbcl07ZVtyXT10W3JdPXtvcGVuOlwiXHUwMDFiW1wiK29bMF0rXCJtXCIsY2xvc2U6XCJcdTAwMWJbXCIrb1sxXStcIm1cIn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITF9KX0pLGV9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJleHBvcnRzXCIse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0pLmNhbGwocix0KDMyKShlKSl9LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUscil7aWYoIShlIGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBuKGUpe3UmJmUmJmUoKX12YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxyKXtmb3IodmFyIHQ9MDt0PHIubGVuZ3RoO3QrKyl7dmFyIG89clt0XTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihyLHQsbyl7cmV0dXJuIHQmJmUoci5wcm90b3R5cGUsdCksbyYmZShyLG8pLHJ9fSgpLGE9dm9pZCAwLHU9dm9pZCAwLGM9e2NhbmNlbDpmdW5jdGlvbigpe3JldHVybiExfSxpZ25vcmU6ZnVuY3Rpb24oKXtyZXR1cm4hMX19LHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHIsbil7byh0aGlzLGUpLHRoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKHt9LGMsbiksdGhpcy5vcHRpb25zLkRFQlVHJiYoYT10KDIwKSx1PW4uREVCVUcpLHRoaXMuaW5wdXQ9ci5zbGljZSgpLHRoaXMub3V0cHV0PVtdfXJldHVybiBpKGUsW3trZXk6XCJydW5cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5pbnB1dC5sZW5ndGg8PTEpcmV0dXJuIHRoaXMuaW5wdXQ7dGhpcy50ZW1wPVt0aGlzLmlucHV0LnNoaWZ0KCldO2Zvcih2YXIgcj12b2lkIDAsdD12b2lkIDAsbz12b2lkIDA7dGhpcy50ZW1wLmxlbmd0aD4wOyl7bihmdW5jdGlvbigpe2NvbnNvbGUubG9nKGEuYm9sZChcIj09PT09PT09PSBTVEFSVCA9PT09PT09PT1cIikpLGUuX2xvZ0luZm8oKSxjb25zb2xlLmxvZygpfSk7dmFyIGk9dm9pZCAwLHU9dm9pZCAwO2lmKDE9PT10aGlzLnRlbXAubGVuZ3RoKXtmb3IoaT0wLHU9dGhpcy5pbnB1dFtpXTtpPHRoaXMuaW5wdXQubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaWdub3JlKHRoaXMudGVtcFswXSx1KTspdT10aGlzLmlucHV0WysraV07aTx0aGlzLmlucHV0Lmxlbmd0aCYmdGhpcy50ZW1wLnB1c2godSl9aWYobihmdW5jdGlvbigpe3JldHVybiBvPWUudGVtcC5zbGljZSgpfSksMD09PXRoaXMudGVtcC5sZW5ndGgpe24oZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhhLmdyZWVuKFwiYnJlYWtpbmdcIikpLGNvbnNvbGUubG9nKGEuYm9sZChcIj09PT09PT09PSBFTkQgPT09PT09PT09XCIpKSxjb25zb2xlLmxvZygpfSk7YnJlYWt9MSE9PXRoaXMudGVtcC5sZW5ndGg/KHRoaXMub3B0aW9ucy5jb21wYXJlKHRoaXMudGVtcFswXSx0aGlzLnRlbXBbMV0pP2Z1bmN0aW9uKCl7dm9pZCAwIT09aSYmZS5pbnB1dC5zcGxpY2UoaSwxKTt2YXIgbz1lLm9wdGlvbnMuY29tYmluZShlLnRlbXBbMF0sZS50ZW1wWzFdKTtuKGZ1bmN0aW9uKCl7cj1cIkNvbWJpbmluZzpcIix0PW99KSxlLnRlbXA9ZS5vcHRpb25zLmNhbmNlbChvKT9bXTpbb10sZS5wb3B1bGF0ZVRlbXBCYWNrd2FyZCgpLDA9PT1lLnRlbXAubGVuZ3RoJiZlLnBvcHVsYXRlVGVtcEZvcndhcmQoKX0oKToodGhpcy5vdXRwdXQucHVzaCh0aGlzLnRlbXAuc2hpZnQoKSksdm9pZCAwIT09aSYmKGk+MD90aGlzLnRlbXA9dGhpcy5pbnB1dC5zcGxpY2UoMCwxKTp0aGlzLmlucHV0LnNwbGljZShpLDEpKSxuKGZ1bmN0aW9uKCl7cmV0dXJuIHI9XCJTa2lwcGluZzpcIn0pKSxuKGZ1bmN0aW9uKCl7Y29uc29sZS5sb2coYS5ncmVlbihyKSxvKSxjb25zb2xlLmxvZyhhLmdyZWVuKFwidmFsdWU6XCIpLHQpLGNvbnNvbGUubG9nKCksZS5fbG9nSW5mbygpLGNvbnNvbGUubG9nKGEuYm9sZChcIj09PT09PT09PSBFTkQgPT09PT09PT09XCIpKSxjb25zb2xlLmxvZygpLHI9bnVsbCx0PW51bGwsbz1udWxsfSkpOih0aGlzLm91dHB1dC5wdXNoKHRoaXMudGVtcC5wb3AoKSksdGhpcy5wb3B1bGF0ZVRlbXBGb3J3YXJkKCksbihmdW5jdGlvbigpe2NvbnNvbGUubG9nKGEuZ3JlZW4oXCJjb250aW51aW5nXCIpKSxlLl9sb2dJbmZvKCksY29uc29sZS5sb2coYS5ib2xkKFwiPT09PT09PT09IEVORCA9PT09PT09PT1cIikpLGNvbnNvbGUubG9nKCl9KSl9cmV0dXJuIG4oZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhhLmJvbGQuZ3JlZW4oXCI9PT09PT09PT0gRklOQUwgPT09PT09PT09XCIpKSxlLl9sb2dJbmZvKCksY29uc29sZS5sb2coYS5ib2xkLmdyZWVuKFwiPT09PT09PT09IEZJTkFMID09PT09PT09PVwiKSksY29uc29sZS5sb2coKX0pLHRoaXMub3V0cHV0fX0se2tleTpcInBvcHVsYXRlVGVtcEJhY2t3YXJkXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm91dHB1dC5sZW5ndGg+MCYmdGhpcy50ZW1wLnVuc2hpZnQodGhpcy5vdXRwdXQucG9wKCkpfX0se2tleTpcInBvcHVsYXRlVGVtcEZvcndhcmRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5wdXQubGVuZ3RoPjAmJnRoaXMudGVtcC5wdXNoKHRoaXMuaW5wdXQuc2hpZnQoKSl9fSx7a2V5OlwiX2xvZ0luZm9cIix2YWx1ZTpmdW5jdGlvbigpe2NvbnNvbGUubG9nKGEuYm9sZChcIm91dHB1dFwiKSx0aGlzLm91dHB1dCksY29uc29sZS5sb2coYS5ib2xkKFwidGVtcFwiKSx0aGlzLnRlbXApLGNvbnNvbGUubG9nKGEuYm9sZChcImlucHV0XCIpLHRoaXMuaW5wdXQpfX1dKSxlfSgpO2UuZXhwb3J0cz1zfSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHIpe2lmKCFlKXRocm93IG5ldyBFcnJvcihcIldoeSBhcmUgeW91IGV2ZW4gaW1wb3J0aW5nIHRoaXMuXCIpO2lmKCFyLmNvbXBhcmUpdGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5jb21wYXJlIGNhbGxiYWNrIG11c3QgYmUgcHJlc2VudFwiKTtpZighci5jb21iaW5lKXRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuY29tYmluZSBjYWxsYmFjayBtdXN0IGJlIHByZXNlbnRcIil9dmFyIG49dCgxOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gbyhlLHIpLG5ldyBuKGUscikucnVuKCl9fSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG8oZSl7dGhpcy5lbmFibGVkPWUmJnZvaWQgMCE9PWUuZW5hYmxlZD9lLmVuYWJsZWQ6bH1mdW5jdGlvbiBuKGUpe3ZhciByPWZ1bmN0aW9uIGUoKXtyZXR1cm4gaS5hcHBseShlLGFyZ3VtZW50cyl9O3JldHVybiByLl9zdHlsZXM9ZSxyLmVuYWJsZWQ9dGhpcy5lbmFibGVkLHIuX19wcm90b19fPWgscn1mdW5jdGlvbiBpKCl7dmFyIGU9YXJndW1lbnRzLHI9ZS5sZW5ndGgsdD0wIT09ciYmU3RyaW5nKGFyZ3VtZW50c1swXSk7aWYocj4xKWZvcih2YXIgbz0xO288cjtvKyspdCs9XCIgXCIrZVtvXTtpZighdGhpcy5lbmFibGVkfHwhdClyZXR1cm4gdDt2YXIgbj10aGlzLl9zdHlsZXMsaT1uLmxlbmd0aCxhPXUuZGltLm9wZW47Zm9yKCF2fHwtMT09PW4uaW5kZXhPZihcImdyYXlcIikmJi0xPT09bi5pbmRleE9mKFwiZ3JleVwiKXx8KHUuZGltLm9wZW49XCJcIik7aS0tOyl7dmFyIGM9dVtuW2ldXTt0PWMub3Blbit0LnJlcGxhY2UoYy5jbG9zZVJlLGMub3BlbikrYy5jbG9zZX1yZXR1cm4gdS5kaW0ub3Blbj1hLHR9dmFyIGE9dCgyMSksdT10KDE3KSxjPXQoMzApLHM9dCgyOSksbD10KDMxKSxmPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLHY9XCJ3aW4zMlwiPT09ci5wbGF0Zm9ybSYmIS9eeHRlcm0vaS50ZXN0KHIuZW52LlRFUk0pO3YmJih1LmJsdWUub3Blbj1cIlx1MDAxYls5NG1cIik7dmFyIG09ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gT2JqZWN0LmtleXModSkuZm9yRWFjaChmdW5jdGlvbihyKXt1W3JdLmNsb3NlUmU9bmV3IFJlZ0V4cChhKHVbcl0uY2xvc2UpLFwiZ1wiKSxlW3JdPXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5jYWxsKHRoaXMsdGhpcy5fc3R5bGVzLmNvbmNhdChyKSl9fX0pLGV9KCksaD1mKGZ1bmN0aW9uKCl7fSxtKTtmKG8ucHJvdG90eXBlLGZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIE9iamVjdC5rZXlzKG0pLmZvckVhY2goZnVuY3Rpb24ocil7ZVtyXT17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uY2FsbCh0aGlzLFtyXSl9fX0pLGV9KCkpLGUuZXhwb3J0cz1uZXcgbyxlLmV4cG9ydHMuc3R5bGVzPXUsZS5leHBvcnRzLmhhc0NvbG9yPXMsZS5leHBvcnRzLnN0cmlwQ29sb3I9YyxlLmV4cG9ydHMuc3VwcG9ydHNDb2xvcj1sfSkuY2FsbChyLHQoOCkpfSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89L1t8XFxcXHt9KClbXFxdXiQrKj8uXS9nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYSBzdHJpbmdcIik7cmV0dXJuIGUucmVwbGFjZShvLFwiXFxcXCQmXCIpfX0sZnVuY3Rpb24oZSxyLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSxyKXt2YXIgdD1uKGVbMF0sZVsxXSxlWzJdKSxvPW4oclswXSxyWzFdLHJbMl0pO2kodCx0KSxpKG8sbyk7dmFyIHU9YSh0LG8pO3JldHVybiB1PjE/MDpNYXRoLmFjb3ModSl9ZS5leHBvcnRzPW87dmFyIG49dCgyNCksaT10KDI1KSxhPXQoMjMpfSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHIpe3JldHVybiBlWzBdKnJbMF0rZVsxXSpyWzFdK2VbMl0qclsyXX1lLmV4cG9ydHM9b30sZnVuY3Rpb24oZSxyLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSxyLHQpe3ZhciBvPW5ldyBGbG9hdDMyQXJyYXkoMyk7cmV0dXJuIG9bMF09ZSxvWzFdPXIsb1syXT10LG99ZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUscil7dmFyIHQ9clswXSxvPXJbMV0sbj1yWzJdLGk9dCp0K28qbytuKm47cmV0dXJuIGk+MCYmKGk9MS9NYXRoLnNxcnQoaSksZVswXT1yWzBdKmksZVsxXT1yWzFdKmksZVsyXT1yWzJdKmkpLGV9ZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUscix0LG8pe3ZhciBuPXRbMV0saT10WzJdLGE9clsxXS1uLHU9clsyXS1pLGM9TWF0aC5zaW4obykscz1NYXRoLmNvcyhvKTtyZXR1cm4gZVswXT1yWzBdLGVbMV09bithKnMtdSpjLGVbMl09aSthKmMrdSpzLGV9ZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUscix0LG8pe3ZhciBuPXRbMF0saT10WzJdLGE9clswXS1uLHU9clsyXS1pLGM9TWF0aC5zaW4obykscz1NYXRoLmNvcyhvKTtyZXR1cm4gZVswXT1uK3UqYythKnMsZVsxXT1yWzFdLGVbMl09aSt1KnMtYSpjLGV9ZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUscix0LG8pe3ZhciBuPXRbMF0saT10WzFdLGE9clswXS1uLHU9clsxXS1pLGM9TWF0aC5zaW4obykscz1NYXRoLmNvcyhvKTtyZXR1cm4gZVswXT1uK2Eqcy11KmMsZVsxXT1pK2EqYyt1KnMsZVsyXT1yWzJdLGV9ZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjt2YXIgbz10KDYpLG49bmV3IFJlZ0V4cChvKCkuc291cmNlKTtlLmV4cG9ydHM9bi50ZXN0LmJpbmQobil9LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjt2YXIgbz10KDYpKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2UucmVwbGFjZShvLFwiXCIpOmV9fSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHIpe3ZhciB0PXIuYXJndixvPXQuaW5kZXhPZihcIi0tXCIpLG49ZnVuY3Rpb24oZSl7ZT1cIi0tXCIrZTt2YXIgcj10LmluZGV4T2YoZSk7cmV0dXJuLTEhPT1yJiYoLTE9PT1vfHxyPG8pfTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm5cIkZPUkNFX0NPTE9SXCJpbiByLmVudnx8IShuKFwibm8tY29sb3JcIil8fG4oXCJuby1jb2xvcnNcIil8fG4oXCJjb2xvcj1mYWxzZVwiKSkmJighIShuKFwiY29sb3JcIil8fG4oXCJjb2xvcnNcIil8fG4oXCJjb2xvcj10cnVlXCIpfHxuKFwiY29sb3I9YWx3YXlzXCIpKXx8IShyLnN0ZG91dCYmIXIuc3Rkb3V0LmlzVFRZKSYmKFwid2luMzJcIj09PXIucGxhdGZvcm18fChcIkNPTE9SVEVSTVwiaW4gci5lbnZ8fFwiZHVtYlwiIT09ci5lbnYuVEVSTSYmISEvXnNjcmVlbnxeeHRlcm18XnZ0MTAwfGNvbG9yfGFuc2l8Y3lnd2lufGxpbnV4L2kudGVzdChyLmVudi5URVJNKSkpKX0oKX0pLmNhbGwocix0KDgpKX0sZnVuY3Rpb24oZSxyLHQpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZS53ZWJwYWNrUG9seWZpbGx8fChlLmRlcHJlY2F0ZT1mdW5jdGlvbigpe30sZS5wYXRocz1bXSxlLmNoaWxkcmVufHwoZS5jaGlsZHJlbj1bXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJsb2FkZWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiaWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5pfX0pLGUud2VicGFja1BvbHlmaWxsPTEpLGV9fSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHI9MCx0PUFycmF5KGUubGVuZ3RoKTtyPGUubGVuZ3RoO3IrKyl0W3JdPWVbcl07cmV0dXJuIHR9cmV0dXJuIEFycmF5LmZyb20oZSl9ZnVuY3Rpb24gbihlLHIpe2lmKCEoZSBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5Tb2x2ZXI9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHIpe2Zvcih2YXIgdD0wO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbz1yW3RdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHIsdCxvKXtyZXR1cm4gdCYmZShyLnByb3RvdHlwZSx0KSxvJiZlKHIsbykscn19KCksYT10KDEpLHU9dCgxMSksYz10KDEzKSxzPXQoMTQpLGw9dCgxNSksZj10KDApLHY9dCgzKSxtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShyLHQpe3ZhciBvPXRoaXM7aWYobih0aGlzLGUpLHIgaW5zdGFuY2VvZiBhLlJ1Ymlrc0N1YmUpdGhpcy5jdWJlPXI7ZWxzZXtpZihcInN0cmluZ1wiIT10eXBlb2Ygcil0aHJvdyBuZXcgRXJyb3IoJ1wiY3ViZVN0YXRlXCIgaXMgbm90IGEgdmFsaWQgY3ViZVN0YXRlLiBQbGVhc2UgcHJvdmlkZSBhIGxpc3Qgb2Ygc2NyYW1ibGUgbW92ZXMgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgY3ViZSBzdGF0ZScpO3Iuc3BsaXQoXCIgXCIpLmxlbmd0aD4xfHxyLmxlbmd0aDw9Nj8odGhpcy5jdWJlPWEuUnViaWtzQ3ViZS5Tb2x2ZWQoKSx0aGlzLmN1YmUubW92ZShyKSk6dGhpcy5jdWJlPW5ldyBhLlJ1Ymlrc0N1YmUocil9dGhpcy5vcHRpb25zPXQsdGhpcy5waGFzZXM9W1wiY3Jvc3NcIixcImYybFwiLFwib2xsXCIsXCJwbGxcIl0sdGhpcy5wcm9ncmVzcz17fSx0aGlzLnBoYXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBvLnByb2dyZXNzW2VdPVtdfSk7dmFyIGk9ZnVuY3Rpb24oZSxyKXtvLl91cGRhdGVQcm9ncmVzcyhlLHIpfTt0aGlzLmN1cnJlbnRQaGFzZT1udWxsLHRoaXMuY3VycmVudFNvbHZlcj1udWxsLHRoaXMuY3Jvc3NTb2x2ZXI9bmV3IHUuQ3Jvc3NTb2x2ZXIodGhpcy5jdWJlLHRoaXMub3B0aW9ucyksdGhpcy5mMmxTb2x2ZXI9bmV3IGMuRjJMU29sdmVyKHRoaXMuY3ViZSx0aGlzLm9wdGlvbnMpLHRoaXMub2xsU29sdmVyPW5ldyBzLk9MTFNvbHZlcih0aGlzLmN1YmUsdGhpcy5vcHRpb25zKSx0aGlzLnBsbFNvbHZlcj1uZXcgbC5QTExTb2x2ZXIodGhpcy5jdWJlLHRoaXMub3B0aW9ucyksdGhpcy5hZnRlckVhY2goXCJhbGxcIixpKX1yZXR1cm4gaShlLFt7a2V5OlwiYWZ0ZXJFYWNoXCIsdmFsdWU6ZnVuY3Rpb24oZSxyKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlPyhyPWUsZT1cImFsbFwiKTpcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9XCJhbGxcIj09PWU/dGhpcy5waGFzZXMuc2xpY2UoKTpbZV0pLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpdGhyb3cgbmV3IEVycm9yKCdcImFmdGVyRWFjaFwiIGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uLicpO3ZhciB0PSEwLG89ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEodD0oaT1hLm5leHQoKSkuZG9uZSk7dD0hMCl7dmFyIHU9aS52YWx1ZTtpZighdGhpcy5waGFzZXMuaW5jbHVkZXModSkpdGhyb3cgbmV3IEVycm9yKCdQaGFzZSBcIicrdSsnXCIgaXNuXFwndCByZWNvZ25pemVkLiBQbGVhc2Ugc3BlY2lmeSBcImNyb3NzXCIsIFwiZjJsXCIsIFwib2xsXCIsIFwicGxsXCIsIG9yIFwiYWxsXCIuJyl9fWNhdGNoKGUpe289ITAsbj1lfWZpbmFsbHl7dHJ5eyF0JiZhLnJldHVybiYmYS5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgbn19dmFyIGM9ITAscz0hMSxsPXZvaWQgMDt0cnl7Zm9yKHZhciBmLHY9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShjPShmPXYubmV4dCgpKS5kb25lKTtjPSEwKXt0aGlzW2YudmFsdWUrXCJTb2x2ZXJcIl0uYWZ0ZXJFYWNoKHIpfX1jYXRjaChlKXtzPSEwLGw9ZX1maW5hbGx5e3RyeXshYyYmdi5yZXR1cm4mJnYucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGx9fX19LHtrZXk6XCJzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50UGhhc2U9XCJjcm9zc1wiLHRoaXMuY3VycmVudFNvbHZlcj10aGlzLmNyb3NzU29sdmVyLHRoaXMuY3Jvc3NTb2x2ZXIuc29sdmUoKSx0aGlzLmN1cnJlbnRQaGFzZT1cImYybFwiLHRoaXMuY3VycmVudFNvbHZlcj10aGlzLmYybFNvbHZlcix0aGlzLmYybFNvbHZlci5zb2x2ZSgpLHRoaXMuY3VycmVudFBoYXNlPVwib2xsXCIsdGhpcy5jdXJyZW50U29sdmVyPXRoaXMub2xsU29sdmVyLHRoaXMub2xsU29sdmVyLnNvbHZlKCksdGhpcy5jdXJyZW50UGhhc2U9XCJwbGxcIix0aGlzLmN1cnJlbnRTb2x2ZXI9dGhpcy5wbGxTb2x2ZXIsdGhpcy5wbGxTb2x2ZXIuc29sdmUoKX19LHtrZXk6XCJnZXRNb3Zlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxyPVtdO3JldHVybiBPYmplY3Qua2V5cyh0aGlzLnByb2dyZXNzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UucHJvZ3Jlc3NbdF0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4odD1yKS5wdXNoLmFwcGx5KHQsbyhlLm1vdmVzKSl9KX0pLHI9KDAsZi5ub3JtYWxpemVOb3RhdGlvbnMpKHIpLHIuam9pbihcIiBcIil9fSx7a2V5OlwiZ2V0UGFydGl0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxyPXt9O3JldHVybiBPYmplY3Qua2V5cyh0aGlzLnByb2dyZXNzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPWUucHJvZ3Jlc3NbdF07aWYoMT09PW8ubGVuZ3RoKXJbdF09KDAsdi5hbGdvcml0aG1TaG9ydGVuZXIpKG9bMF0ubW92ZXMpO2Vsc2V7dmFyIG49W107ZS5wcm9ncmVzc1t0XS5mb3JFYWNoKGZ1bmN0aW9uKGUpe24ucHVzaCgoMCx2LmFsZ29yaXRobVNob3J0ZW5lcikoZS5tb3ZlcykpfSksclt0XT1ufX0pLHJ9fSx7a2V5OlwiaXNDcm9zc0VkZ2VTb2x2ZWRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jcm9zc1NvbHZlci5pc0VkZ2VTb2x2ZWQoZSl9fSx7a2V5OlwiaXNGMkxQYWlyU29sdmVkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb3JuZXIsdD1lLmVkZ2U7cmV0dXJuIHRoaXMuZjJsU29sdmVyLmlzUGFpclNvbHZlZCh7Y29ybmVyOnIsZWRnZTp0fSl9fSx7a2V5OlwiaXNPTExTb2x2ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9sbFNvbHZlci5pc1NvbHZlZCgpfX0se2tleTpcImlzUExMU29sdmVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wbGxTb2x2ZXIuaXNTb2x2ZWQoKX19LHtrZXk6XCJfdXBkYXRlUHJvZ3Jlc3NcIix2YWx1ZTpmdW5jdGlvbihlLHIpe3RoaXMucHJvZ3Jlc3Nbcl0ucHVzaChlKX19XSksZX0oKTtyLlNvbHZlcj1tfSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89dCgxNiksbj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9e307aWYobnVsbCE9ZSlmb3IodmFyIHQgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSYmKHJbdF09ZVt0XSk7cmV0dXJuIHIuZGVmYXVsdD1lLHJ9KG8pLGk9bi5kZWZhdWx0O2RlbGV0ZSBuLmRlZmF1bHQsT2JqZWN0LmFzc2lnbihpLG4pLGUuZXhwb3J0cz1pfSxmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHIpe2lmKCEoZSBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbihlLHIpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hcnx8XCJvYmplY3RcIiE9dHlwZW9mIHImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHI/ZTpyfWZ1bmN0aW9uIGkoZSxyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygcik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyJiZyLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksciYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxyKTplLl9fcHJvdG9fXz1yKX1PYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxyLkNhc2UxU29sdmVyPXZvaWQgMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxyKXtmb3IodmFyIHQ9MDt0PHIubGVuZ3RoO3QrKyl7dmFyIG89clt0XTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihyLHQsbyl7cmV0dXJuIHQmJmUoci5wcm90b3R5cGUsdCksbyYmZShyLG8pLHJ9fSgpLHU9dCgxKSxjPXQoNSkscz10KDApLGw9ZnVuY3Rpb24oZSl7cmV0dXJuIHUuUnViaWtzQ3ViZS5yZXZlcnNlTW92ZXMoZSl9LGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcigpe3JldHVybiBvKHRoaXMsciksbih0aGlzLChyLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBpKHIsZSksYShyLFt7a2V5OlwiX2dldENhc2VOdW1iZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lLmNvcm5lcix0PWUuZWRnZTtpZih0aGlzLmlzUGFpck1hdGNoZWQoe2Nvcm5lcjpyLGVkZ2U6dH0pKXJldHVybiAxO2lmKHRoaXMuaXNQYWlyU2VwYXJhdGVkKHtjb3JuZXI6cixlZGdlOnR9KSlyZXR1cm4gMjt2YXIgbz12b2lkIDA7dC5mYWNlcygpLmZvckVhY2goZnVuY3Rpb24oZSl7ci5mYWNlcygpLmluY2x1ZGVzKGUpJiZcImRvd25cIiE9PWUmJihvPWUpfSk7dmFyIG49ci5jb2xvcnMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVyblwidVwiIT09ZSYmZSE9PXIuZ2V0Q29sb3JPZkZhY2UoXCJkb3duXCIpfSksaT10LmNvbG9ycygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuXCJkb3duXCIhPT10LmdldEZhY2VPZkNvbG9yKGUpfSk7cmV0dXJuXCJkb3duXCI9PT1yLmdldEZhY2VPZkNvbG9yKFwidVwiKT9vP3IuZ2V0Q29sb3JPZkZhY2Uobyk9PT10LmdldENvbG9yT2ZGYWNlKG8pPzM6NDo1Om49PT1pP28/Njo3Om8/bz09PXIuZ2V0RmFjZU9mQ29sb3IoXCJ1XCIpPzg6OToxMH19LHtrZXk6XCJfc29sdmVDYXNlMVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlO3JldHVybiB0aGlzLnNvbHZlTWF0Y2hlZFBhaXIoe2Nvcm5lcjpyLGVkZ2U6dH0pfX0se2tleTpcIl9zb2x2ZUNhc2UyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb3JuZXIsdD1lLmVkZ2U7cmV0dXJuIHRoaXMuc29sdmVTZXBhcmF0ZWRQYWlyKHtjb3JuZXI6cixlZGdlOnR9KX19LHtrZXk6XCJfc29sdmVDYXNlM1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlLG89dC5mYWNlcygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuXCJkb3duXCIhPT1lfSksbj0oMCxzLmdldEZhY2VPZk1vdmUpKHQuZ2V0Q29sb3JPZkZhY2UoXCJkb3duXCIpKSxpPSgwLHMuZ2V0RmFjZUZyb21EaXJlY3Rpb24pKG4sXCJiYWNrXCIse3VwOlwiZG93blwifSksYT1yLmdldEZhY2VPZkNvbG9yKHQuZ2V0Q29sb3JPZkZhY2UoXCJkb3duXCIpKSx1PVwibGVmdFwiPT09KDAscy5nZXRGYWNlRnJvbURpcmVjdGlvbikobyxhLHt1cDpcImRvd25cIn0pLGM9KDAscy5nZXRSb3RhdGlvbkZyb21UbykoXCJkb3duXCIsbyxpKSxmPSgwLHMuZ2V0RmFjZU9mTW92ZSkodC5nZXRDb2xvck9mRmFjZShvKSksdj11P1wiRFwiOlwiRFByaW1lXCI7Zj11P2Y6bChmKTt2YXIgbT1jK1wiIFwiK2YrXCIgXCIrZitcIiBEIEQgXCI7bSs9ZitcIiBcIit2K1wiIFwiK2woZikrXCIgXCIrditcIiBcIitmK1wiIFwiK2YsdGhpcy5tb3ZlKG0se3VwcGVyQ2FzZTohMH0pfX0se2tleTpcIl9zb2x2ZUNhc2U0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb3JuZXIsdD1lLmVkZ2Usbz10LmZhY2VzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm5cImRvd25cIiE9PWV9KSxuPSgwLHMuZ2V0RmFjZU9mTW92ZSkodC5nZXRDb2xvck9mRmFjZShvKSksaT1yLmZhY2VzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm4hdC5mYWNlcygpLmluY2x1ZGVzKGUpfSksYT1cImxlZnRcIj09PSgwLHMuZ2V0RmFjZUZyb21EaXJlY3Rpb24pKGksbyx7dXA6XCJkb3duXCJ9KSx1PSgwLHMuZ2V0Um90YXRpb25Gcm9tVG8pKFwiZG93blwiLG8sbiksYz0oMCxzLmdldE1vdmVPZkZhY2UpKG4pO2M9YT9sKGMpOmMsdGhpcy5tb3ZlKHUrXCIgXCIrYytcIiBEIEQgXCIrbChjKSx7dXBwZXJDYXNlOiEwfSksdGhpcy5zb2x2ZVNlcGFyYXRlZFBhaXIoe2Nvcm5lcjpyLGVkZ2U6dH0pfX0se2tleTpcIl9zb2x2ZUNhc2U1XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb3JuZXIsdD1lLmVkZ2Usbz10LmNvbG9ycygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuXCJkb3duXCIhPT10LmdldEZhY2VPZkNvbG9yKGUpfSksbj10LmNvbG9ycygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuXCJkb3duXCI9PT10LmdldEZhY2VPZkNvbG9yKGUpfSksaT1cInJpZ2h0XCI9PT0oMCxzLmdldEZhY2VGcm9tRGlyZWN0aW9uKSgoMCxzLmdldEZhY2VPZk1vdmUpKG8pLCgwLHMuZ2V0RmFjZU9mTW92ZSkobikse3VwOlwiZG93blwifSksYT10LmdldEZhY2VPZkNvbG9yKG8pLHU9KDAscy5nZXRGYWNlT2ZNb3ZlKShvKSxjPSgwLHMuZ2V0Um90YXRpb25Gcm9tVG8pKFwiZG93blwiLGEsdSk7dGhpcy5tb3ZlKGMse3VwcGVyQ2FzZTohMH0pO3ZhciBmPXIuZ2V0RmFjZU9mQ29sb3Iobyksdj11LG09KDAscy5nZXRSb3RhdGlvbkZyb21UbykoXCJkb3duXCIsZix2KSxoPWk/bCh1KTp1O3RoaXMubW92ZShoK1wiIFwiK20rXCIgXCIrbChoKSx7dXBwZXJDYXNlOiEwfSksdGhpcy5zb2x2ZU1hdGNoZWRQYWlyKHtjb3JuZXI6cixlZGdlOnR9KX19LHtrZXk6XCJfc29sdmVDYXNlNlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlLG89dC5jb2xvcnMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVyblwiZG93blwiIT09dC5nZXRGYWNlT2ZDb2xvcihlKX0pLG49dC5nZXRGYWNlT2ZDb2xvcihvKSxpPSgwLHMuZ2V0RmFjZU9mTW92ZSkodC5nZXRDb2xvck9mRmFjZShcImRvd25cIikpLGE9XCJsZWZ0XCI9PT0oMCxzLmdldERpcmVjdGlvbkZyb21GYWNlcykobixyLmdldEZhY2VPZkNvbG9yKG8pLHt1cDpcImRvd25cIn0pLHU9KDAscy5nZXRSb3RhdGlvbkZyb21UbykoXCJkb3duXCIsbixpKSxjPWE/aTpsKGkpLGY9YT9cIkRQcmltZVwiOlwiRFwiO3RoaXMubW92ZSh1K1wiIFwiK2MrXCIgXCIrZitcIiBcIitsKGMpLHt1cHBlckNhc2U6ITB9KSx0aGlzLnNvbHZlU2VwYXJhdGVkUGFpcih7Y29ybmVyOnIsZWRnZTp0fSl9fSx7a2V5OlwiX3NvbHZlQ2FzZTdcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lLmNvcm5lcix0PWUuZWRnZSxvPXQuY29sb3JzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm5cImRvd25cIiE9PXQuZ2V0RmFjZU9mQ29sb3IoZSl9KSxuPXIuZ2V0RmFjZU9mQ29sb3IoXCJ1XCIpLGk9KDAscy5nZXRGYWNlT2ZNb3ZlKShvKSxhPVwibGVmdFwiPT09KDAscy5nZXREaXJlY3Rpb25Gcm9tRmFjZXMpKHIuZ2V0RmFjZU9mQ29sb3Iobyksci5nZXRGYWNlT2ZDb2xvcihcInVcIikse3VwOlwiZG93blwifSksdT0oMCxzLmdldFJvdGF0aW9uRnJvbVRvKShcImRvd25cIixuLGkpO3RoaXMubW92ZSh1LHt1cHBlckNhc2U6ITB9KTt2YXIgYz10LmdldEZhY2VPZkNvbG9yKG8pLGY9ci5nZXRGYWNlT2ZDb2xvcihvKSx2PWE/ci5nZXRGYWNlT2ZDb2xvcihcInVcIik6bChyLmdldEZhY2VPZkNvbG9yKFwidVwiKSksbT0oMCxzLmdldFJvdGF0aW9uRnJvbVRvKShcImRvd25cIixjLGYpO3RoaXMubW92ZSh2K1wiIFwiK20rXCIgXCIrbCh2KSx7dXBwZXJDYXNlOiEwfSksdGhpcy5zb2x2ZU1hdGNoZWRQYWlyKHtjb3JuZXI6cixlZGdlOnR9KX19LHtrZXk6XCJfc29sdmVDYXNlOFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlLG89dC5jb2xvcnMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVyblwiZG93blwiIT09dC5nZXRGYWNlT2ZDb2xvcihlKX0pLG49dC5jb2xvcnMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVyblwiZG93blwiPT09dC5nZXRGYWNlT2ZDb2xvcihlKX0pLGk9ci5nZXRGYWNlT2ZDb2xvcihuKSxhPSgwLHMuZ2V0RmFjZU9mTW92ZSkobyksdT1cImxlZnRcIj09PSgwLHMuZ2V0RGlyZWN0aW9uRnJvbUZhY2VzKShpLHIuZ2V0RmFjZU9mQ29sb3IoXCJ1XCIpLHt1cDpcImRvd25cIn0pLGM9KDAscy5nZXRSb3RhdGlvbkZyb21UbykoXCJkb3duXCIsaSxhKSxmPXU/bChhKTphLHY9dT9cIkRcIjpcIkRQcmltZVwiO3RoaXMubW92ZShjK1wiIFwiK2YrXCIgXCIrditcIiBcIitsKGYpLHt1cHBlckNhc2U6ITB9KSx0aGlzLnNvbHZlU2VwYXJhdGVkUGFpcih7Y29ybmVyOnIsZWRnZTp0fSl9fSx7a2V5OlwiX3NvbHZlQ2FzZTlcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lLmNvcm5lcix0PWUuZWRnZSxvPXQuY29sb3JzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm5cImRvd25cIj09PXQuZ2V0RmFjZU9mQ29sb3IoZSl9KSxuPXIuZ2V0RmFjZU9mQ29sb3IoXCJ1XCIpLGk9KDAscy5nZXRGYWNlT2ZNb3ZlKShvKSxhPVwibGVmdFwiPT09KDAscy5nZXREaXJlY3Rpb25Gcm9tRmFjZXMpKHIuZ2V0RmFjZU9mQ29sb3Iobyksbix7dXA6XCJkb3duXCJ9KSx1PSgwLHMuZ2V0Um90YXRpb25Gcm9tVG8pKFwiZG93blwiLG4saSksYz1hP2k6bChpKTt0aGlzLm1vdmUodStcIiBcIitjK1wiIEQgRCBcIitsKGMpLHt1cHBlckNhc2U6ITB9KSx0aGlzLnNvbHZlU2VwYXJhdGVkUGFpcih7Y29ybmVyOnIsZWRnZTp0fSl9fSx7a2V5OlwiX3NvbHZlQ2FzZTEwXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb3JuZXIsdD1lLmVkZ2Usbz10LmNvbG9ycygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuXCJkb3duXCIhPT10LmdldEZhY2VPZkNvbG9yKGUpfSksbj10LmNvbG9ycygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuXCJkb3duXCI9PT10LmdldEZhY2VPZkNvbG9yKGUpfSksaT1yLmdldEZhY2VPZkNvbG9yKFwidVwiKSxhPSgwLHMuZ2V0RmFjZU9mTW92ZSkobiksdT1cImxlZnRcIj09PSgwLHMuZ2V0RGlyZWN0aW9uRnJvbUZhY2VzKShyLmdldEZhY2VPZkNvbG9yKG4pLHIuZ2V0RmFjZU9mQ29sb3IoXCJ1XCIpLHt1cDpcImRvd25cIn0pLGM9KDAscy5nZXRSb3RhdGlvbkZyb21UbykoXCJkb3duXCIsaSxhKTt0aGlzLm1vdmUoYyx7dXBwZXJDYXNlOiEwfSk7dmFyIGY9dC5nZXRGYWNlT2ZDb2xvcihvKSx2PSgwLHMuZ2V0RmFjZU9mTW92ZSkobyksbT11P2E6bChhKSxoPSgwLHMuZ2V0Um90YXRpb25Gcm9tVG8pKFwiZG93blwiLGYsdik7dGhpcy5tb3ZlKG0rXCIgXCIraCtcIiBcIitsKG0pLHt1cHBlckNhc2U6ITB9KSx0aGlzLnNvbHZlU2VwYXJhdGVkUGFpcih7Y29ybmVyOnIsZWRnZTp0fSl9fV0pLHJ9KGMuRjJMQ2FzZUJhc2VTb2x2ZXIpO3IuQ2FzZTFTb2x2ZXI9Zn0sZnVuY3Rpb24oZSxyLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSxyKXtpZighKGUgaW5zdGFuY2VvZiByKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG4oZSxyKXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXJ8fFwib2JqZWN0XCIhPXR5cGVvZiByJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiByP2U6cn1mdW5jdGlvbiBpKGUscil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgciYmbnVsbCE9PXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUociYmci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHImJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUscik6ZS5fX3Byb3RvX189cil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5DYXNlMlNvbHZlcj12b2lkIDA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUscil7dmFyIHQ9W10sbz0hMCxuPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsdT1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KGE9dS5uZXh0KCkpLmRvbmUpJiYodC5wdXNoKGEudmFsdWUpLCFyfHx0Lmxlbmd0aCE9PXIpO289ITApO31jYXRjaChlKXtuPSEwLGk9ZX1maW5hbGx5e3RyeXshbyYmdS5yZXR1cm4mJnUucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IGl9fXJldHVybiB0fXJldHVybiBmdW5jdGlvbihyLHQpe2lmKEFycmF5LmlzQXJyYXkocikpcmV0dXJuIHI7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChyKSlyZXR1cm4gZShyLHQpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpfX0oKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHIpe2Zvcih2YXIgdD0wO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbz1yW3RdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHIsdCxvKXtyZXR1cm4gdCYmZShyLnByb3RvdHlwZSx0KSxvJiZlKHIsbykscn19KCksYz10KDEpLHM9dCg1KSxsPXQoMCksZj1mdW5jdGlvbihlKXtyZXR1cm4gYy5SdWJpa3NDdWJlLnJldmVyc2VNb3ZlcyhlKX0sdj1mdW5jdGlvbihlKXtmdW5jdGlvbiByKCl7cmV0dXJuIG8odGhpcyxyKSxuKHRoaXMsKHIuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YocikpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGkocixlKSx1KHIsW3trZXk6XCJfZ2V0Q2FzZU51bWJlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlLG89ci5mYWNlcygpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cImRvd25cIiE9PWV9KSxuPXQuZmFjZXMoKSxpPSgwLGwuZ2V0RGlyZWN0aW9uRnJvbUZhY2VzKShvWzBdLG9bMV0se3VwOlwiZG93blwifSksYT0oMCxsLmdldERpcmVjdGlvbkZyb21GYWNlcykoblswXSxuWzFdLHt1cDpcImRvd25cIn0pLHU9XCJyaWdodFwiPT09aT9vWzFdOm9bMF0sYz1cInJpZ2h0XCI9PT1hP25bMV06blswXTtpZihcImRvd25cIj09PXIuZ2V0RmFjZU9mQ29sb3IoXCJ1XCIpKXJldHVybiByLmdldENvbG9yT2ZGYWNlKHUpPT09dC5nZXRDb2xvck9mRmFjZShjKT8xOjI7dmFyIHM9ci5jb2xvcnMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVyblwidVwiIT09ZSYmZSE9PXIuZ2V0Q29sb3JPZkZhY2UoXCJkb3duXCIpfSk7cmV0dXJuIHM9PT0oXCJsZWZ0XCI9PT0oMCxsLmdldERpcmVjdGlvbkZyb21GYWNlcykoci5nZXRGYWNlT2ZDb2xvcihzKSxyLmdldEZhY2VPZkNvbG9yKFwidVwiKSx7dXA6XCJkb3duXCJ9KT90LmdldENvbG9yT2ZGYWNlKGMpOnQuY29sb3JzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gdC5nZXRGYWNlT2ZDb2xvcihlKSE9PWN9KSk/Mzo0fX0se2tleTpcIl9zb2x2ZUNhc2UxXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb3JuZXIsdD1lLmVkZ2Usbz10LmNvbG9ycygpWzBdLG49ci5nZXRGYWNlT2ZDb2xvcihvKSxpPXQuZ2V0RmFjZU9mQ29sb3IobyksdT0oMCxsLmdldFJvdGF0aW9uRnJvbVRvKShcImRvd25cIixuLGkpO3RoaXMubW92ZSh1LHt1cHBlckNhc2U6ITB9KTt2YXIgYz10LmZhY2VzKCkscz1hKGMsMiksdj1zWzBdLG09c1sxXSxoPSgwLGwuZ2V0RGlyZWN0aW9uRnJvbUZhY2VzKSh2LG0se3VwOlwiZG93blwifSkscD1cInJpZ2h0XCI9PT1oP206djt0aGlzLm1vdmUocCtcIiBEUHJpbWUgXCIrZihwKSx7dXBwZXJDYXNlOiEwfSksdGhpcy5zb2x2ZU1hdGNoZWRQYWlyKHtjb3JuZXI6cixlZGdlOnR9KX19LHtrZXk6XCJfc29sdmVDYXNlMlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlLG89ci5nZXRGYWNlT2ZDb2xvcih0LmNvbG9ycygpWzBdKSxuPXQuZ2V0RmFjZU9mQ29sb3IodC5jb2xvcnMoKVsxXSksaT0oMCxsLmdldFJvdGF0aW9uRnJvbVRvKShcImRvd25cIixvLG4pO3RoaXMubW92ZShpLHt1cHBlckNhc2U6ITB9KTt2YXIgYT0oMCxsLmdldERpcmVjdGlvbkZyb21GYWNlcykodC5mYWNlcygpWzBdLHQuZmFjZXMoKVsxXSx7dXA6XCJkb3duXCJ9KSx1PXQuZmFjZXMoKVtcInJpZ2h0XCI9PT1hPzE6MF07dGhpcy5tb3ZlKHUrXCIgRCBcIitmKHUpK1wiIERQcmltZVwiLHt1cHBlckNhc2U6ITB9KSx0aGlzLm1vdmUodStcIiBEIFwiK2YodSkse3VwcGVyQ2FzZTohMH0pLHRoaXMuc29sdmVTZXBhcmF0ZWRQYWlyKHtjb3JuZXI6cixlZGdlOnR9KX19LHtrZXk6XCJfc29sdmVDYXNlM1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlO3RoaXMuX2Nhc2UzQW5kNEhlbHBlcih7Y29ybmVyOnIsZWRnZTp0fSwzKX19LHtrZXk6XCJfc29sdmVDYXNlNFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWUuY29ybmVyLHQ9ZS5lZGdlO3RoaXMuX2Nhc2UzQW5kNEhlbHBlcih7Y29ybmVyOnIsZWRnZTp0fSw0KX19LHtrZXk6XCJfY2FzZTNBbmQ0SGVscGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSxyKXt2YXIgdD1lLmNvcm5lcixvPWUuZWRnZSxuPXQuZ2V0Q29sb3JPZkZhY2UoXCJkb3duXCIpLGk9dC5jb2xvcnMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiFbbixcInVcIl0uaW5jbHVkZXMoZSl9KSxhPTM9PT1yP2k6bix1PVwibGVmdFwiPT09KDAsbC5nZXREaXJlY3Rpb25Gcm9tRmFjZXMpKHQuZ2V0RmFjZU9mQ29sb3IoaSksdC5nZXRGYWNlT2ZDb2xvcihcInVcIikse3VwOlwiZG93blwifSksYz10LmdldEZhY2VPZkNvbG9yKFwidVwiKSxzPW8uZ2V0RmFjZU9mQ29sb3IoYSksdj0oMCxsLmdldFJvdGF0aW9uRnJvbVRvKShcImRvd25cIixjLHMpLG09dT9zOmYocyksaD11P1wiRFByaW1lXCI6XCJEXCI7aD00PT09cj9mKGgpOmgsdGhpcy5tb3ZlKHYrXCIgXCIrbStcIiBcIitoK1wiIFwiK2YobSkse3VwcGVyQ2FzZTohMH0pLHRoaXNbXCJzb2x2ZVwiKygzPT09cj9cIk1hdGNoZWRcIjpcIlNlcGFyYXRlZFwiKStcIlBhaXJcIl0oe2Nvcm5lcjp0LGVkZ2U6b30pfX1dKSxyfShzLkYyTENhc2VCYXNlU29sdmVyKTtyLkNhc2UyU29sdmVyPXZ9LGZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUscil7aWYoIShlIGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBuKGUscil7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFyfHxcIm9iamVjdFwiIT10eXBlb2YgciYmXCJmdW5jdGlvblwiIT10eXBlb2Ygcj9lOnJ9ZnVuY3Rpb24gaShlLHIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHImJm51bGwhPT1yKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiByKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHImJnIucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxyJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHIpOmUuX19wcm90b19fPXIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIuQ2FzZTNTb2x2ZXI9dm9pZCAwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHIpe3ZhciB0PVtdLG89ITAsbj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLHU9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShvPShhPXUubmV4dCgpKS5kb25lKSYmKHQucHVzaChhLnZhbHVlKSwhcnx8dC5sZW5ndGghPT1yKTtvPSEwKTt9Y2F0Y2goZSl7bj0hMCxpPWV9ZmluYWxseXt0cnl7IW8mJnUucmV0dXJuJiZ1LnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyBpfX1yZXR1cm4gdH1yZXR1cm4gZnVuY3Rpb24ocix0KXtpZihBcnJheS5pc0FycmF5KHIpKXJldHVybiByO2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QocikpcmV0dXJuIGUocix0KTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKX19KCksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxyKXtmb3IodmFyIHQ9MDt0PHIubGVuZ3RoO3QrKyl7dmFyIG89clt0XTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihyLHQsbyl7cmV0dXJuIHQmJmUoci5wcm90b3R5cGUsdCksbyYmZShyLG8pLHJ9fSgpLGM9dCgxKSxzPXQoNSksbD10KDApLGY9ZnVuY3Rpb24oZSl7cmV0dXJuIGMuUnViaWtzQ3ViZS5yZXZlcnNlTW92ZXMoZSl9LHY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcigpe3JldHVybiBvKHRoaXMsciksbih0aGlzLChyLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBpKHIsZSksdShyLFt7a2V5OlwiX2dldENhc2VOdW1iZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lLmNvcm5lcjtlLmVkZ2U7cmV0dXJuXCJ1XCI9PT1yLmdldENvbG9yT2ZGYWNlKFwidXBcIik/MToyfX0se2tleTpcIl9zb2x2ZUNhc2UxXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb3JuZXIsdD1lLmVkZ2Usbz1yLmZhY2VzKCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwidXBcIiE9PWV9KSxuPSgwLGwuZ2V0RGlyZWN0aW9uRnJvbUZhY2VzKShvWzBdLG9bMV0se3VwOlwiZG93blwifSksaT1cInJpZ2h0XCI9PT1uP286by5yZXZlcnNlKCksdT1hKGksMiksYz11WzBdLHM9dVsxXSx2PXQuZmFjZXMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVyblwiZG93blwiIT09ZX0pLG09dC5nZXRDb2xvck9mRmFjZSh2KSxoPSgwLGwuZ2V0RmFjZUZyb21EaXJlY3Rpb24pKHIuZ2V0RmFjZU9mQ29sb3IobSksbT09PXIuZ2V0Q29sb3JPZkZhY2Uocyk/XCJyaWdodFwiOlwibGVmdFwiLHt1cDpcImRvd25cIn0pLHA9bT09PXIuZ2V0Q29sb3JPZkZhY2UoYyksZz0oMCxsLmdldFJvdGF0aW9uRnJvbVRvKShcImRvd25cIix2LGgpLGQ9cD9zOmYoYykseT1wP1wiRFByaW1lXCI6XCJEXCI7dGhpcy5tb3ZlKGcrXCIgXCIrZCtcIiBcIit5K1wiIFwiK2YoZCkse3VwcGVyQ2FzZTohMH0pLHRoaXMuc29sdmVNYXRjaGVkUGFpcih7Y29ybmVyOnIsZWRnZTp0fSl9fSx7a2V5OlwiX3NvbHZlQ2FzZTJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lLmNvcm5lcix0PWUuZWRnZSxvPXIuY29sb3JzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm5cInVcIiE9PWUmJlwidXBcIiE9PXIuZ2V0RmFjZU9mQ29sb3IoZSl9KSxuPXQuZmFjZXMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVyblwiZG93blwiIT09ZX0pLGk9dC5nZXRDb2xvck9mRmFjZShuKSxhPW8hPT1pLHU9ci5nZXRGYWNlT2ZDb2xvcihhP286XCJ1XCIpLGM9KDAsbC5nZXRSb3RhdGlvbkZyb21UbykoXCJkb3duXCIsbix1KSxzPVwibGVmdFwiPT09KDAsbC5nZXREaXJlY3Rpb25Gcm9tRmFjZXMpKHIuZ2V0RmFjZU9mQ29sb3Iobyksci5nZXRGYWNlT2ZDb2xvcihcInVcIikse3VwOlwiZG93blwifSksdj1zP1wiRFByaW1lXCI6XCJEXCIsbT1yLmdldEZhY2VPZkNvbG9yKFwidVwiKTttPXM/ZihtKTptLHRoaXMubW92ZShjK1wiIFwiK20rXCIgXCIrditcIiBcIitmKG0pLHt1cHBlckNhc2U6ITB9KSx0aGlzW1wic29sdmVcIisoYT9cIk1hdGNoZWRcIjpcIlNlcGFyYXRlZFwiKStcIlBhaXJcIl0oe2Nvcm5lcjpyLGVkZ2U6dH0pfX1dKSxyfShzLkYyTENhc2VCYXNlU29sdmVyKTtyLkNhc2UzU29sdmVyPXZ9XSl9KTsiXX0=
